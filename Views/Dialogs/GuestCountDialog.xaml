<ContentDialog
    x:Class="Magidesk.Presentation.Views.Dialogs.GuestCountDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Magidesk.Views.Dialogs"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:Magidesk.ViewModels"
    mc:Ignorable="d"
    Title="Enter Number of Guests"
    PrimaryButtonText="OK"
    SecondaryButtonText="Cancel"
    PrimaryButtonCommand="{x:Bind ViewModel.ConfirmCommand}"
    DefaultButton="Primary">

    <Grid RowSpacing="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="How many guests are in this party?" 
                   Style="{StaticResource BodyTextBlockStyle}" 
                   HorizontalAlignment="Center"/>

        <Grid Grid.Row="1" ColumnSpacing="12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Display -->
            <TextBox Text="{x:Bind ViewModel.GuestCountText, Mode=OneWay}" 
                     FontSize="24" FontWeight="Bold" 
                     TextAlignment="Center" 
                     IsReadOnly="True" 
                     VerticalAlignment="Stretch"
                     PlaceholderText="0"/>
            
            <!-- Numpad (Simplified for now, expecting keyboard or simple buttons) -->
            <!-- For F-0023, strict audit implies a numeric entry. We'll use a simple Grid of buttons -->
            <Grid Grid.Column="1" RowSpacing="4" ColumnSpacing="4">
                <Grid.RowDefinitions>
                    <RowDefinition Height="60"/>
                    <RowDefinition Height="60"/>
                    <RowDefinition Height="60"/>
                    <RowDefinition Height="60"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="60"/>
                </Grid.ColumnDefinitions>

                <Button Content="1" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                <Button Grid.Column="1" Content="2" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                <Button Grid.Column="2" Content="3" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="3" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                <Button Grid.Row="1" Content="4" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="4" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                <Button Grid.Row="1" Grid.Column="1" Content="5" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                <Button Grid.Row="1" Grid.Column="2" Content="6" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="6" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                <Button Grid.Row="2" Content="7" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="7" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                <Button Grid.Row="2" Grid.Column="1" Content="8" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="8" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                <Button Grid.Row="2" Grid.Column="2" Content="9" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="9" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                <Button Grid.Row="3" Content="C" Command="{x:Bind ViewModel.ClearCommand}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="Red" Foreground="White"/>
                <Button Grid.Row="3" Grid.Column="1" Content="0" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                <Button Grid.Row="3" Grid.Column="2" Content="&#xE926;" FontFamily="Segoe MDL2 Assets" Command="{x:Bind ViewModel.BackspaceCommand}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
            </Grid>
        </Grid>
    </Grid>
</ContentDialog>
