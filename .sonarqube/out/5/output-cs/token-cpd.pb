Ö
oC:\Users\giris\Documents\Code\Redesign-POS\Windows Based POS\Magidesk\Magidesk.Migrations\Seeding\SeedResult.cs
	namespace 	
Magidesk
 
. 

Migrations 
. 
Seeding %
;% &
public 
sealed 
record 

SeedResult 
(  

Dictionary 
< 
string 
, 
int 
> 
Counts "
," #

Dictionary 
< 
string 
, 
string 
> 
KeyFacts '
)' (
;( )ÔF
vC:\Users\giris\Documents\Code\Redesign-POS\Windows Based POS\Magidesk\Magidesk.Migrations\Seeding\SeedProfileWriter.cs
	namespace 	
Magidesk
 
. 

Migrations 
. 
Seeding %
;% &
public 
static 
class 
SeedProfileWriter %
{ 
public 

static 
async 
Task 

WriteAsync '
(' (

SeedResult( 2
result3 9
,9 :
SeedOptions; F
optionsG N
,N O
CancellationTokenP a
cancellationTokenb s
=t u
defaultv }
)} ~
{ 
var		 
repoRoot		 
=		 
	Directory		  
.		  !
GetCurrentDirectory		! 4
(		4 5
)		5 6
;		6 7
var

 

outputPath

 
=

 
Path

 
.

 
Combine

 %
(

% &
repoRoot

& .
,

. /
$str

0 8
,

8 9
$str

: K
)

K L
;

L M
	Directory 
. 
CreateDirectory !
(! "
Path" &
.& '
GetDirectoryName' 7
(7 8

outputPath8 B
)B C
!C D
)D E
;E F
var 
sb 
= 
new 
StringBuilder "
(" #
)# $
;$ %
sb 

.
 

AppendLine 
( 
$str /
)/ 0
;0 1
sb 

.
 

AppendLine 
( 
) 
; 
sb 

.
 

AppendLine 
( 
$" 
$str &
{& '
DateTime' /
./ 0
UtcNow0 6
:6 7
$str7 8
}8 9
$str9 :
": ;
); <
;< =
sb 

.
 

AppendLine 
( 
$" 
$str &
{& '
result' -
.- .
KeyFacts. 6
.6 7
GetValueOrDefault7 H
(H I
$strI S
,S T
$strU ^
)^ _
}_ `
$str` a
"a b
)b c
;c d
sb 

.
 

AppendLine 
( 
$" 
$str (
{( )
options) 0
.0 1

RandomSeed1 ;
}; <
$str< =
"= >
)> ?
;? @
sb 

.
 

AppendLine 
( 
$" 
$str )
{) *
options* 1
.1 2
HistoryDays2 =
}= >
$str> ?
"? @
)@ A
;A B
sb 

.
 

AppendLine 
( 
) 
; 
sb 

.
 

AppendLine 
( 
$str 0
)0 1
;1 2
sb 

.
 

AppendLine 
( 
) 
; 
sb 

.
 

AppendLine 
( 
$str 0
)0 1
;1 2
sb 

.
 

AppendLine 
( 
) 
; 
sb 

.
 

AppendLine 
( 
$str 
)  
;  !
sb 

.
 

AppendLine 
( 
$str K
)K L
;L M
sb 

.
 

AppendLine 
( 
$str 
) 
; 
sb 

.
 

AppendLine 
( 
) 
; 
sb 

.
 

AppendLine 
( 
$str	 ï
)
ï ñ
;
ñ ó
sb   

.  
 

AppendLine   
(   
)   
;   
sb"" 

.""
 

AppendLine"" 
("" 
$str"" H
)""H I
;""I J
sb## 

.##
 

AppendLine## 
(## 
)## 
;## 
foreach$$ 
($$ 
var$$ 
kvp$$ 
in$$ 
result$$ "
.$$" #
KeyFacts$$# +
.$$+ ,
Where$$, 1
($$1 2
k$$2 3
=>$$4 6
k$$7 8
.$$8 9
Key$$9 <
.$$< =

StartsWith$$= G
($$G H
$str$$H P
,$$P Q
StringComparison$$R b
.$$b c
OrdinalIgnoreCase$$c t
)$$t u
)$$u v
)$$v w
{%% 	
sb&& 
.&& 

AppendLine&& 
(&& 
$"&& 
$str&&  
{&&  !
kvp&&! $
.&&$ %
Key&&% (
.&&( )
Replace&&) 0
(&&0 1
$str&&1 9
,&&9 :
$str&&; =
)&&= >
.&&> ?
Trim&&? C
(&&C D
)&&D E
}&&E F
$str&&F J
{&&J K
kvp&&K N
.&&N O
Value&&O T
}&&T U
"&&U V
)&&V W
;&&W X
}'' 	
sb(( 

.((
 

AppendLine(( 
((( 
)(( 
;(( 
sb** 

.**
 

AppendLine** 
(** 
$str** /
)**/ 0
;**0 1
sb++ 

.++
 

AppendLine++ 
(++ 
)++ 
;++ 
foreach,, 
(,, 
var,, 
kvp,, 
in,, 
result,, "
.,," #
Counts,,# )
.,,) *
OrderBy,,* 1
(,,1 2
k,,2 3
=>,,4 6
k,,7 8
.,,8 9
Key,,9 <
),,< =
),,= >
{-- 	
sb.. 
... 

AppendLine.. 
(.. 
$".. 
$str..  
{..  !
kvp..! $
...$ %
Key..% (
}..( )
$str..) -
{..- .
kvp... 1
...1 2
Value..2 7
}..7 8
"..8 9
)..9 :
;..: ;
}// 	
sb00 

.00
 

AppendLine00 
(00 
)00 
;00 
sb22 

.22
 

AppendLine22 
(22 
$str22 )
)22) *
;22* +
sb33 

.33
 

AppendLine33 
(33 
)33 
;33 
sb44 

.44
 

AppendLine44 
(44 
$str	44 ¢
)
44¢ £
;
44£ §
sb55 

.55
 

AppendLine55 
(55 
$str	55 î
)
55î ï
;
55ï ñ
sb66 

.66
 

AppendLine66 
(66 
$str66 &
)66& '
;66' (
sb77 

.77
 

AppendLine77 
(77 
$str77 _
)77_ `
;77` a
sb88 

.88
 

AppendLine88 
(88 
$str88 >
)88> ?
;88? @
sb99 

.99
 

AppendLine99 
(99 
$str99 j
)99j k
;99k l
sb:: 

.::
 

AppendLine:: 
(:: 
$str:: 5
)::5 6
;::6 7
sb;; 

.;;
 

AppendLine;; 
(;; 
$str;; =
);;= >
;;;> ?
sb<< 

.<<
 

AppendLine<< 
(<< 
$str<< D
)<<D E
;<<E F
sb== 

.==
 

AppendLine== 
(== 
$str== }
)==} ~
;==~ 
sb>> 

.>>
 

AppendLine>> 
(>> 
$str>> j
)>>j k
;>>k l
sb?? 

.??
 

AppendLine?? 
(?? 
)?? 
;?? 
sbAA 

.AA
 

AppendLineAA 
(AA 
$strAA R
)AAR S
;AAS T
sbBB 

.BB
 

AppendLineBB 
(BB 
)BB 
;BB 
sbCC 

.CC
 

AppendLineCC 
(CC 
$str	CC ß
)
CCß ®
;
CC® ©
sbDD 

.DD
 

AppendLineDD 
(DD 
$str	DD €
)
DD€ ‹
;
DD‹ ›
sbEE 

.EE
 

AppendLineEE 
(EE 
$str	EE å
)
EEå ç
;
EEç é
sbFF 

.FF
 

AppendLineFF 
(FF 
)FF 
;FF 
awaitHH 
FileHH 
.HH 
WriteAllTextAsyncHH $
(HH$ %

outputPathHH% /
,HH/ 0
sbHH1 3
.HH3 4
ToStringHH4 <
(HH< =
)HH= >
,HH> ?
cancellationTokenHH@ Q
)HHQ R
;HHR S
}II 
}JJ Á

pC:\Users\giris\Documents\Code\Redesign-POS\Windows Based POS\Magidesk\Magidesk.Migrations\Seeding\SeedOptions.cs
	namespace 	
Magidesk
 
. 

Migrations 
. 
Seeding %
;% &
public 
sealed 
record 
SeedOptions  
(  !
int 

RandomSeed 
, 
int 
HistoryDays 
, 
int 
TicketsPerDayMin 
, 
int 
TicketsPerDayMax 
, 
int 
OpenTicketsToday 
, 
int		 !
ScheduledTicketsToday		 
)		 
{

 
public 

static 
SeedOptions 
FullDefaults *
(* +
)+ ,
=>- /
new0 3
(3 4

RandomSeed 
: 
$num 
, 
HistoryDays 
: 
$num 
, 
TicketsPerDayMin 
: 
$num 
, 
TicketsPerDayMax 
: 
$num 
, 
OpenTicketsToday 
: 
$num 
, !
ScheduledTicketsToday 
: 
$num  
)  !
;! "
} Ï
oC:\Users\giris\Documents\Code\Redesign-POS\Windows Based POS\Magidesk\Magidesk.Migrations\Seeding\SeedGuards.cs
	namespace 	
Magidesk
 
. 

Migrations 
. 
Seeding %
;% &
internal 
static	 
class 

SeedGuards  
{ 
public		 

static		 
async		 
Task		 
<		 
bool		 !
>		! "
HasAnyPosDataAsync		# 5
(		5 6 
ApplicationDbContext		6 J
db		K M
,		M N
CancellationToken		O `
cancellationToken		a r
=		s t
default		u |
)		| }
{

 
if 

( 
await 
db 
. 
Users 
. 
AnyAsync #
(# $
cancellationToken$ 5
)5 6
)6 7
return8 >
true? C
;C D
if 

( 
await 
db 
. 
Roles 
. 
AnyAsync #
(# $
cancellationToken$ 5
)5 6
)6 7
return8 >
true? C
;C D
if 

( 
await 
db 
. 
	MenuItems 
. 
AnyAsync '
(' (
cancellationToken( 9
)9 :
): ;
return< B
trueC G
;G H
if 

( 
await 
db 
. 
Tickets 
. 
AnyAsync %
(% &
cancellationToken& 7
)7 8
)8 9
return: @
trueA E
;E F
if 

( 
await 
db 
. 
Payments 
. 
AnyAsync &
(& '
cancellationToken' 8
)8 9
)9 :
return; A
trueB F
;F G
if 

( 
await 
db 
. 
CashSessions !
.! "
AnyAsync" *
(* +
cancellationToken+ <
)< =
)= >
return? E
trueF J
;J K
if 

( 
await 
db 
. 
Tables 
. 
AnyAsync $
($ %
cancellationToken% 6
)6 7
)7 8
return9 ?
true@ D
;D E
return 
false 
; 
} 
} ˚)
sC:\Users\giris\Documents\Code\Redesign-POS\Windows Based POS\Magidesk\Magidesk.Migrations\Seeding\ReflectionUtil.cs
	namespace 	
Magidesk
 
. 

Migrations 
. 
Seeding %
;% &
internal 
static	 
class 
ReflectionUtil $
{ 
public 

static 
void 
SetProperty "
(" #
object# )
target* 0
,0 1
string2 8
propertyName9 E
,E F
objectG M
?M N
valueO T
)T U
{ 
var		 
prop		 
=		 
target		 
.		 
GetType		 !
(		! "
)		" #
.		# $
GetProperty		$ /
(		/ 0
propertyName

 
,

 
BindingFlags 
. 
Instance !
|" #
BindingFlags$ 0
.0 1
Public1 7
|8 9
BindingFlags: F
.F G
	NonPublicG P
)P Q
;Q R
if 

( 
prop 
== 
null 
) 
{ 	
throw 
new %
InvalidOperationException /
(/ 0
$"0 2
$str2 <
{< =
propertyName= I
}I J
$strJ Y
{Y Z
targetZ `
.` a
GetTypea h
(h i
)i j
.j k
FullNamek s
}s t
$strt u
"u v
)v w
;w x
} 	
var 
	setMethod 
= 
prop 
. 
GetSetMethod )
() *
	nonPublic* 3
:3 4
true5 9
)9 :
;: ;
if 

( 
	setMethod 
!= 
null 
) 
{ 	
	setMethod 
. 
Invoke 
( 
target #
,# $
new% (
[( )
]) *
{+ ,
value- 2
}3 4
)4 5
;5 6
return 
; 
} 	
for 
( 
var 
t 
= 
target 
. 
GetType #
(# $
)$ %
;% &
t' (
!=) +
null, 0
;0 1
t2 3
=4 5
t6 7
.7 8
BaseType8 @
)@ A
{ 	
var 
backingField 
= 
t  
.  !
GetField! )
() *
$" 
$str 
{ 
propertyName  
}  !
$str! 1
"1 2
,2 3
BindingFlags 
. 
Instance %
|& '
BindingFlags( 4
.4 5
	NonPublic5 >
)> ?
;? @
if!! 
(!! 
backingField!! 
!=!! 
null!!  $
)!!$ %
{"" 
backingField## 
.## 
SetValue## %
(##% &
target##& ,
,##, -
value##. 3
)##3 4
;##4 5
return$$ 
;$$ 
}%% 
}&& 	
throw(( 
new(( 
ArgumentException(( #
(((# $
$"(($ &
$str((& I
{((I J
propertyName((J V
}((V W
$str((W \
{((\ ]
target((] c
.((c d
GetType((d k
(((k l
)((l m
.((m n
FullName((n v
}((v w
$str((w x
"((x y
)((y z
;((z {
})) 
public++ 

static++ 
TField++ 
GetField++ !
<++! "
TField++" (
>++( )
(++) *
object++* 0
target++1 7
,++7 8
string++9 ?
	fieldName++@ I
)++I J
{,, 
var-- 
field-- 
=-- 
target-- 
.-- 
GetType-- "
(--" #
)--# $
.--$ %
GetField--% -
(--- .
	fieldName.. 
,.. 
BindingFlags// 
.// 
Instance// !
|//" #
BindingFlags//$ 0
.//0 1
	NonPublic//1 :
|//; <
BindingFlags//= I
.//I J
Public//J P
)//P Q
;//Q R
if11 

(11 
field11 
==11 
null11 
)11 
{22 	
throw33 
new33 %
InvalidOperationException33 /
(33/ 0
$"330 2
$str332 9
{339 :
	fieldName33: C
}33C D
$str33D S
{33S T
target33T Z
.33Z [
GetType33[ b
(33b c
)33c d
.33d e
FullName33e m
}33m n
$str33n o
"33o p
)33p q
;33q r
}44 	
return66 
(66 
TField66 
)66 
field66 
.66 
GetValue66 %
(66% &
target66& ,
)66, -
!66- .
;66. /
}77 
}88 €á
rC:\Users\giris\Documents\Code\Redesign-POS\Windows Based POS\Magidesk\Magidesk.Migrations\Seeding\FullPosSeeder.cs
	namespace 	
Magidesk
 
. 

Migrations 
. 
Seeding %
;% &
public 
static 
class 
FullPosSeeder !
{ 
public 

static 
async 
Task 
< 

SeedResult '
>' (
	SeedAsync) 2
(2 3
IServiceProvider 
services !
,! " 
ApplicationDbContext 
db 
,   
AesEncryptionService 
encryptionService .
,. /
SeedOptions 
options 
, 
CancellationToken 
cancellationToken +
=, -
default. 5
)5 6
{ 
var 
rng 
= 
new 
Random 
( 
options $
.$ %

RandomSeed% /
)/ 0
;0 1'
SeedRestaurantConfiguration #
(# $
db$ &
)& '
;' (
var 
	terminals 
= 
await 
SeedTerminalsAsync 0
(0 1
db1 3
,3 4
cancellationToken5 F
)F G
;G H
var 
terminalFront 
= 
	terminals %
[% &
$str& 1
]1 2
;2 3
var   
terminalBar   
=   
	terminals   #
[  # $
$str  $ -
]  - .
;  . /
var!! 
terminalBackOffice!! 
=!!  
	terminals!!! *
[!!* +
$str!!+ 7
]!!7 8
;!!8 9
var## 
printerGroups## 
=## 
await## !"
SeedPrinterGroupsAsync##" 8
(##8 9
db##9 ;
,##; <
cancellationToken##= N
)##N O
;##O P
await$$ $
SeedPrinterMappingsAsync$$ &
($$& '
db$$' )
,$$) *
terminalFront$$+ 8
,$$8 9
terminalBar$$: E
,$$E F
terminalBackOffice$$G Y
,$$Y Z
printerGroups$$[ h
,$$h i
cancellationToken$$j {
)$${ |
;$$| }
await&& *
SeedMerchantGatewayConfigAsync&& ,
(&&, -
db&&- /
,&&/ 0
encryptionService&&1 B
,&&B C
terminalFront&&D Q
,&&Q R
terminalBar&&S ^
,&&^ _
cancellationToken&&` q
)&&q r
;&&r s
var(( 
roles(( 
=(( 
await(( 
SeedRolesAsync(( (
(((( )
db(() +
,((+ ,
cancellationToken((- >
)((> ?
;((? @
var)) 
users)) 
=)) 
await)) 
SeedUsersAsync)) (
())( )
db))) +
,))+ ,
encryptionService))- >
,))> ?
roles))@ E
,))E F
cancellationToken))G X
)))X Y
;))Y Z
var++ 
shifts++ 
=++ 
await++ 
SeedShiftsAsync++ *
(++* +
db+++ -
,++- .
cancellationToken++/ @
)++@ A
;++A B
var,, 

orderTypes,, 
=,, 
await,, 
SeedOrderTypesAsync,, 2
(,,2 3
db,,3 5
,,,5 6
cancellationToken,,7 H
),,H I
;,,I J
var.. 
floors.. 
=.. 
new.. 

Dictionary.. #
<..# $
string..$ *
,..* +
Guid.., 0
>..0 1
{// 	
[00 
$str00 
]00 
=00 
Guid00 
.00 
NewGuid00 %
(00% &
)00& '
,00' (
[11 
$str11 
]11 
=11 
Guid11 
.11 
NewGuid11 $
(11$ %
)11% &
,11& '
[22 
$str22 
]22 
=22 
Guid22 
.22 
NewGuid22 "
(22" #
)22# $
}33 	
;33	 

await55 
SeedTablesAsync55 
(55 
db55  
,55  !
floors55" (
,55( )
cancellationToken55* ;
)55; <
;55< =
var>> 
	inventory>> 
=>> 
await>> 
SeedInventoryAsync>> 0
(>>0 1
db>>1 3
,>>3 4
cancellationToken>>5 F
)>>F G
;>>G H
varCC 
modifierGroupsCC 
=CC 
awaitCC "#
SeedModifierGroupsAsyncCC# :
(CC: ;
dbCC; =
,CC= >
cancellationTokenCC? P
)CCP Q
;CCQ R
varDD 
menuModifiersDD 
=DD 
awaitDD !"
SeedMenuModifiersAsyncDD" 8
(DD8 9
dbDD9 ;
,DD; <
modifierGroupsDD= K
,DDK L
cancellationTokenDDM ^
)DD^ _
;DD_ `
varJJ 
	discountsJJ 
=JJ 
awaitJJ 
SeedDiscountsAsyncJJ 0
(JJ0 1
dbJJ1 3
,JJ3 4
cancellationTokenJJ5 F
)JJF G
;JJG H
varOO 
menuOO 
=OO 
awaitOO 
SeedMenuAsyncOO &
(OO& '
dbPP 
,PP 
	inventoryQQ 
,QQ 
printerGroupsRR 
,RR 
modifierGroupsSS 
,SS 
cancellationTokenTT 
)TT 
;TT 
awaitVV *
SeedMenuItemModifierLinksAsyncVV ,
(VV, -
dbVV- /
,VV/ 0
menuVV1 5
,VV5 6
modifierGroupsVV7 E
,VVE F
cancellationTokenVVG X
)VVX Y
;VVY Z
var[[ 
cashierUser[[ 
=[[ 
users[[ 
[[[  
$str[[  )
][[) *
;[[* +
var\\ 
managerUser\\ 
=\\ 
users\\ 
[\\  
$str\\  )
]\\) *
;\\* +
var]] 

serverUser]] 
=]] 
users]] 
[]] 
$str]] '
]]]' (
;]]( )
var__ 
currentShift__ 
=__ 
shifts__ !
.__! "
Values__" (
.__( )
First__) .
(__. /
)__/ 0
;__0 1
var`` 
openCashSession`` 
=`` 
CashSession`` )
.``) *
Open``* .
(``. /
userIdaa 
:aa 
cashierUseraa 
.aa  
Idaa  "
,aa" #

terminalIdbb 
:bb 
terminalFrontbb %
.bb% &
Idbb& (
,bb( )
shiftIdcc 
:cc 
currentShiftcc !
.cc! "
Idcc" $
,cc$ %
openingBalancedd 
:dd 
newdd 
Moneydd  %
(dd% &
$numdd& *
)dd* +
)dd+ ,
;dd, -
dbee 

.ee
 
CashSessionsee 
.ee 
Addee 
(ee 
openCashSessionee +
)ee+ ,
;ee, -
awaitff 
dbff 
.ff 
SaveChangesAsyncff !
(ff! "
cancellationTokenff" 3
)ff3 4
;ff4 5
awaitii +
SeedHistoricalCashSessionsAsyncii -
(ii- .
dbjj 
,jj 
cashierUserkk 
,kk 
terminalFrontll 
,ll 
currentShiftmm 
,mm 
rngnn 
,nn 
cancellationTokenoo 
)oo 
;oo 
vartt 
nextTicketNumbertt 
=tt 
$numtt #
;tt# $
nextTicketNumberuu 
=uu 
awaituu  +
SeedTodayOpenTicketsDirectAsyncuu! @
(uu@ A
dbvv 
,vv 
rngww 
,ww 
nextTicketNumberxx 
,xx 
menuyy 
,yy 
menuModifierszz 
,zz 

orderTypes{{ 
,{{ 
shifts|| 
,|| 
	terminals}} 
,}} 
users~~ 
,~~ 
	discounts 
, 
cancellationToken
ÄÄ 
)
ÄÄ 
;
ÄÄ 
nextTicketNumber
ÇÇ 
=
ÇÇ 
await
ÇÇ  -
SeedScheduledTicketsDirectAsync
ÇÇ! @
(
ÇÇ@ A
db
ÉÉ 
,
ÉÉ 
rng
ÑÑ 
,
ÑÑ 
nextTicketNumber
ÖÖ 
,
ÖÖ 
menu
ÜÜ 
,
ÜÜ 

orderTypes
áá 
,
áá 
shifts
àà 
,
àà 
terminalFront
ââ 
,
ââ 

serverUser
ää 
,
ää 
options
ãã 
.
ãã #
ScheduledTicketsToday
ãã )
,
ãã) *
cancellationToken
åå 
)
åå 
;
åå 
nextTicketNumber
èè 
=
èè 
await
èè  .
 SeedHistoricalTicketsDirectAsync
èè! A
(
èèA B
db
êê 
,
êê 
rng
ëë 
,
ëë 
nextTicketNumber
íí 
,
íí 
openCashSession
ìì 
,
ìì 
menu
îî 
,
îî 
menuModifiers
ïï 
,
ïï 

orderTypes
ññ 
,
ññ 
shifts
óó 
,
óó 
terminalFront
òò 
,
òò 
terminalBar
ôô 
,
ôô 
cashierUser
öö 
,
öö 
managerUser
õõ 
,
õõ 

serverUser
úú 
,
úú 
	discounts
ùù 
,
ùù 
options
ûû 
,
ûû 
cancellationToken
üü 
)
üü 
;
üü 
await
§§ (
SeedAttendanceHistoryAsync
§§ (
(
§§( )
db
§§) +
,
§§+ ,
users
§§- 2
,
§§2 3
shifts
§§4 :
,
§§: ;
options
§§< C
,
§§C D
cancellationToken
§§E V
)
§§V W
;
§§W X
var
ßß 
counts
ßß 
=
ßß 
new
ßß 

Dictionary
ßß #
<
ßß# $
string
ßß$ *
,
ßß* +
int
ßß, /
>
ßß/ 0
{
®® 	
[
©© 
$str
©© 
]
©© 
=
©© 
await
©© 
db
©©  
.
©©  !
Roles
©©! &
.
©©& '

CountAsync
©©' 1
(
©©1 2
cancellationToken
©©2 C
)
©©C D
,
©©D E
[
™™ 
$str
™™ 
]
™™ 
=
™™ 
await
™™ 
db
™™  
.
™™  !
Users
™™! &
.
™™& '

CountAsync
™™' 1
(
™™1 2
cancellationToken
™™2 C
)
™™C D
,
™™D E
[
´´ 
$str
´´ 
]
´´ 
=
´´ 
await
´´ !
db
´´" $
.
´´$ %
	Terminals
´´% .
.
´´. /

CountAsync
´´/ 9
(
´´9 :
cancellationToken
´´: K
)
´´K L
,
´´L M
[
¨¨ 
$str
¨¨ 
]
¨¨ 
=
¨¨ 
await
¨¨  %
db
¨¨& (
.
¨¨( )
PrinterGroups
¨¨) 6
.
¨¨6 7

CountAsync
¨¨7 A
(
¨¨A B
cancellationToken
¨¨B S
)
¨¨S T
,
¨¨T U
[
≠≠ 
$str
≠≠ 
]
≠≠ 
=
≠≠  !
await
≠≠" '
db
≠≠( *
.
≠≠* +
PrinterMappings
≠≠+ :
.
≠≠: ;

CountAsync
≠≠; E
(
≠≠E F
cancellationToken
≠≠F W
)
≠≠W X
,
≠≠X Y
[
ÆÆ 
$str
ÆÆ ,
]
ÆÆ, -
=
ÆÆ. /
await
ÆÆ0 5
db
ÆÆ6 8
.
ÆÆ8 9+
MerchantGatewayConfigurations
ÆÆ9 V
.
ÆÆV W

CountAsync
ÆÆW a
(
ÆÆa b
cancellationToken
ÆÆb s
)
ÆÆs t
,
ÆÆt u
[
ØØ 
$str
ØØ 
]
ØØ 
=
ØØ 
await
ØØ 
db
ØØ !
.
ØØ! "
Shifts
ØØ" (
.
ØØ( )

CountAsync
ØØ) 3
(
ØØ3 4
cancellationToken
ØØ4 E
)
ØØE F
,
ØØF G
[
∞∞ 
$str
∞∞ 
]
∞∞ 
=
∞∞ 
await
∞∞ "
db
∞∞# %
.
∞∞% &

OrderTypes
∞∞& 0
.
∞∞0 1

CountAsync
∞∞1 ;
(
∞∞; <
cancellationToken
∞∞< M
)
∞∞M N
,
∞∞N O
[
±± 
$str
±± 
]
±± 
=
±± 
await
±± 
db
±± !
.
±±! "
Tables
±±" (
.
±±( )

CountAsync
±±) 3
(
±±3 4
cancellationToken
±±4 E
)
±±E F
,
±±F G
[
≤≤ 
$str
≤≤ 
]
≤≤ 
=
≤≤  
await
≤≤! &
db
≤≤' )
.
≤≤) *
InventoryItems
≤≤* 8
.
≤≤8 9

CountAsync
≤≤9 C
(
≤≤C D
cancellationToken
≤≤D U
)
≤≤U V
,
≤≤V W
[
≥≥ 
$str
≥≥ 
]
≥≥ 
=
≥≥  
await
≥≥! &
db
≥≥' )
.
≥≥) *
ModifierGroups
≥≥* 8
.
≥≥8 9

CountAsync
≥≥9 C
(
≥≥C D
cancellationToken
≥≥D U
)
≥≥U V
,
≥≥V W
[
¥¥ 
$str
¥¥ 
]
¥¥ 
=
¥¥ 
await
¥¥  %
db
¥¥& (
.
¥¥( )
MenuModifiers
¥¥) 6
.
¥¥6 7

CountAsync
¥¥7 A
(
¥¥A B
cancellationToken
¥¥B S
)
¥¥S T
,
¥¥T U
[
µµ 
$str
µµ 
]
µµ 
=
µµ  
await
µµ! &
db
µµ' )
.
µµ) *
MenuCategories
µµ* 8
.
µµ8 9

CountAsync
µµ9 C
(
µµC D
cancellationToken
µµD U
)
µµU V
,
µµV W
[
∂∂ 
$str
∂∂ 
]
∂∂ 
=
∂∂ 
await
∂∂ "
db
∂∂# %
.
∂∂% &

MenuGroups
∂∂& 0
.
∂∂0 1

CountAsync
∂∂1 ;
(
∂∂; <
cancellationToken
∂∂< M
)
∂∂M N
,
∂∂N O
[
∑∑ 
$str
∑∑ 
]
∑∑ 
=
∑∑ 
await
∑∑ !
db
∑∑" $
.
∑∑$ %
	MenuItems
∑∑% .
.
∑∑. /

CountAsync
∑∑/ 9
(
∑∑9 :
cancellationToken
∑∑: K
)
∑∑K L
,
∑∑L M
[
∏∏ 
$str
∏∏ %
]
∏∏% &
=
∏∏' (
await
∏∏) .
db
∏∏/ 1
.
∏∏1 2$
MenuItemModifierGroups
∏∏2 H
.
∏∏H I

CountAsync
∏∏I S
(
∏∏S T
cancellationToken
∏∏T e
)
∏∏e f
,
∏∏f g
[
ππ 
$str
ππ 
]
ππ 
=
ππ 
await
ππ !
db
ππ" $
.
ππ$ %
	Discounts
ππ% .
.
ππ. /

CountAsync
ππ/ 9
(
ππ9 :
cancellationToken
ππ: K
)
ππK L
,
ππL M
[
∫∫ 
$str
∫∫ 
]
∫∫ 
=
∫∫ 
await
∫∫ 
db
∫∫  "
.
∫∫" #
Tickets
∫∫# *
.
∫∫* +

CountAsync
∫∫+ 5
(
∫∫5 6
cancellationToken
∫∫6 G
)
∫∫G H
,
∫∫H I
[
ªª 
$str
ªª 
]
ªª 
=
ªª 
await
ªª "
db
ªª# %
.
ªª% &

OrderLines
ªª& 0
.
ªª0 1

CountAsync
ªª1 ;
(
ªª; <
cancellationToken
ªª< M
)
ªªM N
,
ªªN O
[
ºº 
$str
ºº !
]
ºº! "
=
ºº# $
await
ºº% *
db
ºº+ -
.
ºº- . 
OrderLineModifiers
ºº. @
.
ºº@ A

CountAsync
ººA K
(
ººK L
cancellationToken
ººL ]
)
ºº] ^
,
ºº^ _
[
ΩΩ 
$str
ΩΩ 
]
ΩΩ 
=
ΩΩ 
await
ΩΩ  
db
ΩΩ! #
.
ΩΩ# $
Payments
ΩΩ$ ,
.
ΩΩ, -

CountAsync
ΩΩ- 7
(
ΩΩ7 8
cancellationToken
ΩΩ8 I
)
ΩΩI J
,
ΩΩJ K
[
ææ 
$str
ææ 
]
ææ 
=
ææ 
await
ææ $
db
ææ% '
.
ææ' (
CashSessions
ææ( 4
.
ææ4 5

CountAsync
ææ5 ?
(
ææ? @
cancellationToken
ææ@ Q
)
ææQ R
,
ææR S
[
øø 
$str
øø 
]
øø 
=
øø 
await
øø 
db
øø  "
.
øø" #
Payouts
øø# *
.
øø* +

CountAsync
øø+ 5
(
øø5 6
cancellationToken
øø6 G
)
øøG H
,
øøH I
[
¿¿ 
$str
¿¿ 
]
¿¿ 
=
¿¿ 
await
¿¿ !
db
¿¿" $
.
¿¿$ %
	CashDrops
¿¿% .
.
¿¿. /

CountAsync
¿¿/ 9
(
¿¿9 :
cancellationToken
¿¿: K
)
¿¿K L
,
¿¿L M
[
¡¡ 
$str
¡¡ 
]
¡¡ 
=
¡¡ 
await
¡¡ $
db
¡¡% '
.
¡¡' (
DrawerBleeds
¡¡( 4
.
¡¡4 5

CountAsync
¡¡5 ?
(
¡¡? @
cancellationToken
¡¡@ Q
)
¡¡Q R
,
¡¡R S
[
¬¬ 
$str
¬¬ 
]
¬¬ 
=
¬¬ 
await
¬¬  %
db
¬¬& (
.
¬¬( )
KitchenOrders
¬¬) 6
.
¬¬6 7

CountAsync
¬¬7 A
(
¬¬A B
cancellationToken
¬¬B S
)
¬¬S T
,
¬¬T U
[
√√ 
$str
√√  
]
√√  !
=
√√" #
await
√√$ )
db
√√* ,
.
√√, -
KitchenOrderItems
√√- >
.
√√> ?

CountAsync
√√? I
(
√√I J
cancellationToken
√√J [
)
√√[ \
,
√√\ ]
[
ƒƒ 
$str
ƒƒ 
]
ƒƒ 
=
ƒƒ 
await
ƒƒ #
db
ƒƒ$ &
.
ƒƒ& '
AuditEvents
ƒƒ' 2
.
ƒƒ2 3

CountAsync
ƒƒ3 =
(
ƒƒ= >
cancellationToken
ƒƒ> O
)
ƒƒO P
,
ƒƒP Q
[
≈≈ 
$str
≈≈ "
]
≈≈" #
=
≈≈$ %
await
≈≈& +
db
≈≈, .
.
≈≈. /!
AttendanceHistories
≈≈/ B
.
≈≈B C

CountAsync
≈≈C M
(
≈≈M N
cancellationToken
≈≈N _
)
≈≈_ `
}
∆∆ 	
;
∆∆	 

var
»» 
keyFacts
»» 
=
»» 
new
»» 

Dictionary
»» %
<
»»% &
string
»»& ,
,
»», -
string
»». 4
>
»»4 5
{
…… 	
[
   
$str
   
]
   
=
   
await
    
DbFacts
  ! (
.
  ( )%
GetCurrentDatabaseAsync
  ) @
(
  @ A
db
  A C
,
  C D
cancellationToken
  E V
)
  V W
,
  W X
[
ÀÀ 
$str
ÀÀ 
]
ÀÀ 
=
ÀÀ 
$str
ÀÀ ;
,
ÀÀ; <
[
ÃÃ 
$str
ÃÃ 
]
ÃÃ 
=
ÃÃ  
$str
ÃÃ! ?
,
ÃÃ? @
[
ÕÕ 
$str
ÕÕ 
]
ÕÕ 
=
ÕÕ  
$str
ÕÕ! ?
,
ÕÕ? @
[
ŒŒ 
$str
ŒŒ 
]
ŒŒ 
=
ŒŒ 
$str
ŒŒ  =
,
ŒŒ= >
[
œœ 
$str
œœ 
]
œœ 
=
œœ  
$str
œœ! ?
,
œœ? @
[
–– 
$str
–– 
]
–– 
=
–– 
$str
–– <
,
––< =
[
—— 
$str
——  
]
——  !
=
——" #
openCashSession
——$ 3
.
——3 4
Id
——4 6
.
——6 7
ToString
——7 ?
(
——? @
)
——@ A
}
““ 	
;
““	 

return
‘‘ 
new
‘‘ 

SeedResult
‘‘ 
(
‘‘ 
counts
‘‘ $
,
‘‘$ %
keyFacts
‘‘& .
)
‘‘. /
;
‘‘/ 0
}
’’ 
private
◊◊ 
static
◊◊ 
void
◊◊ )
SeedRestaurantConfiguration
◊◊ 3
(
◊◊3 4"
ApplicationDbContext
◊◊4 H
db
◊◊I K
)
◊◊K L
{
ÿÿ 
db
ŸŸ 

.
ŸŸ
 &
RestaurantConfigurations
ŸŸ #
.
ŸŸ# $
Add
ŸŸ$ '
(
ŸŸ' (
new
ŸŸ( +%
RestaurantConfiguration
ŸŸ, C
{
⁄⁄ 	
Id
€€ 
=
€€ 
$num
€€ 
,
€€ 
Name
‹‹ 
=
‹‹ 
$str
‹‹ -
,
‹‹- .
Address
›› 
=
›› 
$str
›› 0
,
››0 1
Phone
ﬁﬁ 
=
ﬁﬁ 
$str
ﬁﬁ $
,
ﬁﬁ$ %
Email
ﬂﬂ 
=
ﬂﬂ 
$str
ﬂﬂ *
,
ﬂﬂ* +
Website
‡‡ 
=
‡‡ 
$str
‡‡ &
,
‡‡& '"
ReceiptFooterMessage
··  
=
··! "
$str
··# B
,
··B C
TaxId
‚‚ 
=
‚‚ 
$str
‚‚ "
,
‚‚" #
ZipCode
„„ 
=
„„ 
$str
„„ 
,
„„ 
Capacity
‰‰ 
=
‰‰ 
$num
‰‰ 
,
‰‰ 
CurrencySymbol
ÂÂ 
=
ÂÂ 
$str
ÂÂ  
,
ÂÂ  !%
ServiceChargePercentage
ÊÊ #
=
ÊÊ$ %
$num
ÊÊ& +
,
ÊÊ+ ,'
DefaultGratuityPercentage
ÁÁ %
=
ÁÁ& '
$num
ÁÁ( -
,
ÁÁ- .
IsKioskMode
ËË 
=
ËË 
false
ËË 
}
ÈÈ 	
)
ÈÈ	 

;
ÈÈ
 
}
ÍÍ 
private
ÏÏ 
static
ÏÏ 
async
ÏÏ 
Task
ÏÏ 
<
ÏÏ 

Dictionary
ÏÏ (
<
ÏÏ( )
string
ÏÏ) /
,
ÏÏ/ 0
Terminal
ÏÏ1 9
>
ÏÏ9 :
>
ÏÏ: ; 
SeedTerminalsAsync
ÏÏ< N
(
ÏÏN O"
ApplicationDbContext
ÌÌ 
db
ÌÌ 
,
ÌÌ  
CancellationToken
ÓÓ 
cancellationToken
ÓÓ +
)
ÓÓ+ ,
{
ÔÔ 
var
 
front
 
=
 
Terminal
 
.
 
Create
 #
(
# $
$str
$ /
,
/ 0
$str
1 @
)
@ A
;
A B
front
ÒÒ 
.
ÒÒ 
Location
ÒÒ 
=
ÒÒ 
$str
ÒÒ 
;
ÒÒ  
front
ÚÚ 
.
ÚÚ  
ShowGuestSelection
ÚÚ  
=
ÚÚ! "
true
ÚÚ# '
;
ÚÚ' (
front
ÛÛ 
.
ÛÛ  
ShowTableSelection
ÛÛ  
=
ÛÛ! "
true
ÛÛ# '
;
ÛÛ' (
var
ıı 
bar
ıı 
=
ıı 
Terminal
ıı 
.
ıı 
Create
ıı !
(
ıı! "
$str
ıı" +
,
ıı+ ,
$str
ıı- :
)
ıı: ;
;
ıı; <
bar
ˆˆ 
.
ˆˆ 
Location
ˆˆ 
=
ˆˆ 
$str
ˆˆ 
;
ˆˆ 
bar
˜˜ 
.
˜˜  
ShowGuestSelection
˜˜ 
=
˜˜  
false
˜˜! &
;
˜˜& '
bar
¯¯ 
.
¯¯  
ShowTableSelection
¯¯ 
=
¯¯  
false
¯¯! &
;
¯¯& '
var
˙˙ 

backOffice
˙˙ 
=
˙˙ 
Terminal
˙˙ !
.
˙˙! "
Create
˙˙" (
(
˙˙( )
$str
˙˙) 5
,
˙˙5 6
$str
˙˙7 C
)
˙˙C D
;
˙˙D E

backOffice
˚˚ 
.
˚˚ 
Location
˚˚ 
=
˚˚ 
$str
˚˚ &
;
˚˚& '

backOffice
¸¸ 
.
¸¸ 
HasCashDrawer
¸¸  
=
¸¸! "
false
¸¸# (
;
¸¸( )
db
˛˛ 

.
˛˛
 
	Terminals
˛˛ 
.
˛˛ 
AddRange
˛˛ 
(
˛˛ 
front
˛˛ #
,
˛˛# $
bar
˛˛% (
,
˛˛( )

backOffice
˛˛* 4
)
˛˛4 5
;
˛˛5 6
await
ˇˇ 
db
ˇˇ 
.
ˇˇ 
SaveChangesAsync
ˇˇ !
(
ˇˇ! "
cancellationToken
ˇˇ" 3
)
ˇˇ3 4
;
ˇˇ4 5
return
ÅÅ 
new
ÅÅ 

Dictionary
ÅÅ 
<
ÅÅ 
string
ÅÅ $
,
ÅÅ$ %
Terminal
ÅÅ& .
>
ÅÅ. /
{
ÇÇ 	
[
ÉÉ 
$str
ÉÉ 
]
ÉÉ 
=
ÉÉ 
front
ÉÉ !
,
ÉÉ! "
[
ÑÑ 
$str
ÑÑ 
]
ÑÑ 
=
ÑÑ 
bar
ÑÑ 
,
ÑÑ 
[
ÖÖ 
$str
ÖÖ 
]
ÖÖ 
=
ÖÖ 

backOffice
ÖÖ '
}
ÜÜ 	
;
ÜÜ	 

}
áá 
private
ââ 
static
ââ 
async
ââ 
Task
ââ 
<
ââ 

Dictionary
ââ (
<
ââ( )
string
ââ) /
,
ââ/ 0
PrinterGroup
ââ1 =
>
ââ= >
>
ââ> ?$
SeedPrinterGroupsAsync
ââ@ V
(
ââV W"
ApplicationDbContext
ää 
db
ää 
,
ää  
CancellationToken
ãã 
cancellationToken
ãã +
)
ãã+ ,
{
åå 
var
çç 
kitchen
çç 
=
çç 
PrinterGroup
çç "
.
çç" #
Create
çç# )
(
çç) *
$str
çç* 3
,
çç3 4
PrinterType
çç5 @
.
çç@ A
Kitchen
ççA H
)
ççH I
;
ççI J
var
éé 
bar
éé 
=
éé 
PrinterGroup
éé 
.
éé 
Create
éé %
(
éé% &
$str
éé& +
,
éé+ ,
PrinterType
éé- 8
.
éé8 9
Kitchen
éé9 @
)
éé@ A
;
ééA B
var
èè 
receipt
èè 
=
èè 
PrinterGroup
èè "
.
èè" #
Create
èè# )
(
èè) *
$str
èè* 3
,
èè3 4
PrinterType
èè5 @
.
èè@ A
Receipt
èèA H
)
èèH I
;
èèI J
var
êê 
reports
êê 
=
êê 
PrinterGroup
êê "
.
êê" #
Create
êê# )
(
êê) *
$str
êê* 3
,
êê3 4
PrinterType
êê5 @
.
êê@ A
Report
êêA G
)
êêG H
;
êêH I
var
ëë 
kds
ëë 
=
ëë 
PrinterGroup
ëë 
.
ëë 
Create
ëë %
(
ëë% &
$str
ëë& +
,
ëë+ ,
PrinterType
ëë- 8
.
ëë8 9
Kds
ëë9 <
)
ëë< =
;
ëë= >
db
ìì 

.
ìì
 
PrinterGroups
ìì 
.
ìì 
AddRange
ìì !
(
ìì! "
kitchen
ìì" )
,
ìì) *
bar
ìì+ .
,
ìì. /
receipt
ìì0 7
,
ìì7 8
reports
ìì9 @
,
ìì@ A
kds
ììB E
)
ììE F
;
ììF G
await
îî 
db
îî 
.
îî 
SaveChangesAsync
îî !
(
îî! "
cancellationToken
îî" 3
)
îî3 4
;
îî4 5
return
ññ 
new
ññ 

Dictionary
ññ 
<
ññ 
string
ññ $
,
ññ$ %
PrinterGroup
ññ& 2
>
ññ2 3
{
óó 	
[
òò 
$str
òò 
]
òò 
=
òò 
kitchen
òò !
,
òò! "
[
ôô 
$str
ôô 
]
ôô 
=
ôô 
bar
ôô 
,
ôô 
[
öö 
$str
öö 
]
öö 
=
öö 
receipt
öö !
,
öö! "
[
õõ 
$str
õõ 
]
õõ 
=
õõ 
reports
õõ !
,
õõ! "
[
úú 
$str
úú 
]
úú 
=
úú 
kds
úú 
}
ùù 	
;
ùù	 

}
ûû 
private
†† 
static
†† 
async
†† 
Task
†† &
SeedPrinterMappingsAsync
†† 6
(
††6 7"
ApplicationDbContext
°° 
db
°° 
,
°°  
Terminal
¢¢ 
front
¢¢ 
,
¢¢ 
Terminal
££ 
bar
££ 
,
££ 
Terminal
§§ 

backOffice
§§ 
,
§§ 

Dictionary
•• 
<
•• 
string
•• 
,
•• 
PrinterGroup
•• '
>
••' (
groups
••) /
,
••/ 0
CancellationToken
¶¶ 
cancellationToken
¶¶ +
)
¶¶+ ,
{
ßß 
var
®® 
fallbackPrinter
®® 
=
®® 
$str
®® 6
;
®®6 7
db
™™ 

.
™™
 
PrinterMappings
™™ 
.
™™ 
AddRange
™™ #
(
™™# $
PrinterMapping
´´ 
.
´´ 
Create
´´ !
(
´´! "
front
´´" '
.
´´' (
Id
´´( *
,
´´* +
groups
´´, 2
[
´´2 3
$str
´´3 <
]
´´< =
.
´´= >
Id
´´> @
,
´´@ A
fallbackPrinter
´´B Q
)
´´Q R
,
´´R S
PrinterMapping
¨¨ 
.
¨¨ 
Create
¨¨ !
(
¨¨! "
front
¨¨" '
.
¨¨' (
Id
¨¨( *
,
¨¨* +
groups
¨¨, 2
[
¨¨2 3
$str
¨¨3 <
]
¨¨< =
.
¨¨= >
Id
¨¨> @
,
¨¨@ A
fallbackPrinter
¨¨B Q
)
¨¨Q R
,
¨¨R S
PrinterMapping
≠≠ 
.
≠≠ 
Create
≠≠ !
(
≠≠! "
front
≠≠" '
.
≠≠' (
Id
≠≠( *
,
≠≠* +
groups
≠≠, 2
[
≠≠2 3
$str
≠≠3 <
]
≠≠< =
.
≠≠= >
Id
≠≠> @
,
≠≠@ A
fallbackPrinter
≠≠B Q
)
≠≠Q R
,
≠≠R S
PrinterMapping
ØØ 
.
ØØ 
Create
ØØ !
(
ØØ! "
bar
ØØ" %
.
ØØ% &
Id
ØØ& (
,
ØØ( )
groups
ØØ* 0
[
ØØ0 1
$str
ØØ1 6
]
ØØ6 7
.
ØØ7 8
Id
ØØ8 :
,
ØØ: ;
fallbackPrinter
ØØ< K
)
ØØK L
,
ØØL M
PrinterMapping
∞∞ 
.
∞∞ 
Create
∞∞ !
(
∞∞! "
bar
∞∞" %
.
∞∞% &
Id
∞∞& (
,
∞∞( )
groups
∞∞* 0
[
∞∞0 1
$str
∞∞1 :
]
∞∞: ;
.
∞∞; <
Id
∞∞< >
,
∞∞> ?
fallbackPrinter
∞∞@ O
)
∞∞O P
,
∞∞P Q
PrinterMapping
≤≤ 
.
≤≤ 
Create
≤≤ !
(
≤≤! "

backOffice
≤≤" ,
.
≤≤, -
Id
≤≤- /
,
≤≤/ 0
groups
≤≤1 7
[
≤≤7 8
$str
≤≤8 A
]
≤≤A B
.
≤≤B C
Id
≤≤C E
,
≤≤E F
fallbackPrinter
≤≤G V
)
≤≤V W
)
≥≥ 	
;
≥≥	 

await
µµ 
db
µµ 
.
µµ 
SaveChangesAsync
µµ !
(
µµ! "
cancellationToken
µµ" 3
)
µµ3 4
;
µµ4 5
}
∂∂ 
private
∏∏ 
static
∏∏ 
async
∏∏ 
Task
∏∏ ,
SeedMerchantGatewayConfigAsync
∏∏ <
(
∏∏< ="
ApplicationDbContext
ππ 
db
ππ 
,
ππ  "
AesEncryptionService
∫∫ 
encryptionService
∫∫ .
,
∫∫. /
Terminal
ªª 
front
ªª 
,
ªª 
Terminal
ºº 
bar
ºº 
,
ºº 
CancellationToken
ΩΩ 
cancellationToken
ΩΩ +
)
ΩΩ+ ,
{
ææ 
var
øø 
encryptedApiKey
øø 
=
øø 
encryptionService
øø /
.
øø/ 0
Encrypt
øø0 7
(
øø7 8
$str
øø8 J
)
øøJ K
;
øøK L
db
¡¡ 

.
¡¡
 +
MerchantGatewayConfigurations
¡¡ (
.
¡¡( )
AddRange
¡¡) 1
(
¡¡1 2*
MerchantGatewayConfiguration
¬¬ (
.
¬¬( )
Create
¬¬) /
(
¬¬/ 0
front
¬¬0 5
.
¬¬5 6
Id
¬¬6 8
,
¬¬8 9
$str
¬¬: G
,
¬¬G H
$str
¬¬I Y
,
¬¬Y Z
encryptedApiKey
¬¬[ j
,
¬¬j k
$str¬¬l É
)¬¬É Ñ
,¬¬Ñ Ö*
MerchantGatewayConfiguration
√√ (
.
√√( )
Create
√√) /
(
√√/ 0
bar
√√0 3
.
√√3 4
Id
√√4 6
,
√√6 7
$str
√√8 E
,
√√E F
$str
√√G U
,
√√U V
encryptedApiKey
√√W f
,
√√f g
$str
√√h 
)√√ Ä
)
ƒƒ 	
;
ƒƒ	 

await
∆∆ 
db
∆∆ 
.
∆∆ 
SaveChangesAsync
∆∆ !
(
∆∆! "
cancellationToken
∆∆" 3
)
∆∆3 4
;
∆∆4 5
}
«« 
private
…… 
static
…… 
async
…… 
Task
…… 
<
…… 

Dictionary
…… (
<
……( )
string
……) /
,
……/ 0
Role
……1 5
>
……5 6
>
……6 7
SeedRolesAsync
……8 F
(
……F G"
ApplicationDbContext
   
db
   
,
    
CancellationToken
ÀÀ 
cancellationToken
ÀÀ +
)
ÀÀ+ ,
{
ÃÃ 
var
ÕÕ 
allPerms
ÕÕ 
=
ÕÕ 
Enum
ÕÕ 
.
ÕÕ 
	GetValues
ÕÕ %
<
ÕÕ% &
UserPermission
ÕÕ& 4
>
ÕÕ4 5
(
ÕÕ5 6
)
ÕÕ6 7
.
ŒŒ 
	Aggregate
ŒŒ 
(
ŒŒ 
UserPermission
ŒŒ %
.
ŒŒ% &
None
ŒŒ& *
,
ŒŒ* +
(
ŒŒ, -
acc
ŒŒ- 0
,
ŒŒ0 1
p
ŒŒ2 3
)
ŒŒ3 4
=>
ŒŒ5 7
acc
ŒŒ8 ;
|
ŒŒ< =
p
ŒŒ> ?
)
ŒŒ? @
;
ŒŒ@ A
var
–– 
owner
–– 
=
–– 
Role
–– 
.
–– 
Create
–– 
(
––  
$str
––  '
,
––' (
allPerms
––) 1
)
––1 2
;
––2 3
var
—— 
manager
—— 
=
—— 
Role
—— 
.
—— 
Create
—— !
(
——! "
$str
——" +
,
——+ ,
allPerms
——- 5
)
——5 6
;
——6 7
var
““ 
cashier
““ 
=
““ 
Role
““ 
.
““ 
Create
““ !
(
““! "
$str
““" +
,
““+ ,
UserPermission
““- ;
.
““; <
CreateTicket
““< H
|
““I J
UserPermission
““K Y
.
““Y Z

EditTicket
““Z d
|
““e f
UserPermission
““g u
.
““u v
TakePayment““v Å
|““Ç É
UserPermission““Ñ í
.““í ì

OpenDrawer““ì ù
)““ù û
;““û ü
var
”” 
server
”” 
=
”” 
Role
”” 
.
”” 
Create
””  
(
””  !
$str
””! )
,
””) *
UserPermission
””+ 9
.
””9 :
CreateTicket
””: F
|
””G H
UserPermission
””I W
.
””W X

EditTicket
””X b
|
””c d
UserPermission
””e s
.
””s t
TakePayment
””t 
)”” Ä
;””Ä Å
var
‘‘ 
kitchen
‘‘ 
=
‘‘ 
Role
‘‘ 
.
‘‘ 
Create
‘‘ !
(
‘‘! "
$str
‘‘" +
,
‘‘+ ,
UserPermission
‘‘- ;
.
‘‘; <
None
‘‘< @
)
‘‘@ A
;
‘‘A B
db
÷÷ 

.
÷÷
 
Roles
÷÷ 
.
÷÷ 
AddRange
÷÷ 
(
÷÷ 
owner
÷÷ 
,
÷÷  
manager
÷÷! (
,
÷÷( )
cashier
÷÷* 1
,
÷÷1 2
server
÷÷3 9
,
÷÷9 :
kitchen
÷÷; B
)
÷÷B C
;
÷÷C D
await
◊◊ 
db
◊◊ 
.
◊◊ 
SaveChangesAsync
◊◊ !
(
◊◊! "
cancellationToken
◊◊" 3
)
◊◊3 4
;
◊◊4 5
return
ŸŸ 
new
ŸŸ 

Dictionary
ŸŸ 
<
ŸŸ 
string
ŸŸ $
,
ŸŸ$ %
Role
ŸŸ& *
>
ŸŸ* +
{
⁄⁄ 	
[
€€ 
$str
€€ 
]
€€ 
=
€€ 
owner
€€ 
,
€€ 
[
‹‹ 
$str
‹‹ 
]
‹‹ 
=
‹‹ 
manager
‹‹ !
,
‹‹! "
[
›› 
$str
›› 
]
›› 
=
›› 
cashier
›› !
,
››! "
[
ﬁﬁ 
$str
ﬁﬁ 
]
ﬁﬁ 
=
ﬁﬁ 
server
ﬁﬁ 
,
ﬁﬁ  
[
ﬂﬂ 
$str
ﬂﬂ 
]
ﬂﬂ 
=
ﬂﬂ 
kitchen
ﬂﬂ !
}
‡‡ 	
;
‡‡	 

}
·· 
private
„„ 
static
„„ 
async
„„ 
Task
„„ 
<
„„ 

Dictionary
„„ (
<
„„( )
string
„„) /
,
„„/ 0
User
„„1 5
>
„„5 6
>
„„6 7
SeedUsersAsync
„„8 F
(
„„F G"
ApplicationDbContext
‰‰ 
db
‰‰ 
,
‰‰  "
AesEncryptionService
ÂÂ 
encryptionService
ÂÂ .
,
ÂÂ. /

Dictionary
ÊÊ 
<
ÊÊ 
string
ÊÊ 
,
ÊÊ 
Role
ÊÊ 
>
ÊÊ  
roles
ÊÊ! &
,
ÊÊ& '
CancellationToken
ÁÁ 
cancellationToken
ÁÁ +
)
ÁÁ+ ,
{
ËË 
var
ÈÈ 
owner
ÈÈ 
=
ÈÈ 
User
ÈÈ 
.
ÈÈ 
Create
ÈÈ 
(
ÈÈ  
$str
ÈÈ  '
,
ÈÈ' (
$str
ÈÈ) 1
,
ÈÈ1 2
$str
ÈÈ3 :
,
ÈÈ: ;
roles
ÈÈ< A
[
ÈÈA B
$str
ÈÈB I
]
ÈÈI J
.
ÈÈJ K
Id
ÈÈK M
,
ÈÈM N
encryptionService
ÈÈO `
.
ÈÈ` a
Encrypt
ÈÈa h
(
ÈÈh i
$str
ÈÈi o
)
ÈÈo p
,
ÈÈp q

hourlyRate
ÈÈr |
:
ÈÈ| }
$numÈÈ~ Å
)ÈÈÅ Ç
;ÈÈÇ É
var
ÍÍ 
manager
ÍÍ 
=
ÍÍ 
User
ÍÍ 
.
ÍÍ 
Create
ÍÍ !
(
ÍÍ! "
$str
ÍÍ" +
,
ÍÍ+ ,
$str
ÍÍ- 4
,
ÍÍ4 5
$str
ÍÍ6 ?
,
ÍÍ? @
roles
ÍÍA F
[
ÍÍF G
$str
ÍÍG P
]
ÍÍP Q
.
ÍÍQ R
Id
ÍÍR T
,
ÍÍT U
encryptionService
ÍÍV g
.
ÍÍg h
Encrypt
ÍÍh o
(
ÍÍo p
$str
ÍÍp v
)
ÍÍv w
,
ÍÍw x

hourlyRateÍÍy É
:ÍÍÉ Ñ
$numÍÍÖ à
)ÍÍà â
;ÍÍâ ä
var
ÎÎ 
cashier
ÎÎ 
=
ÎÎ 
User
ÎÎ 
.
ÎÎ 
Create
ÎÎ !
(
ÎÎ! "
$str
ÎÎ" +
,
ÎÎ+ ,
$str
ÎÎ- 4
,
ÎÎ4 5
$str
ÎÎ6 ?
,
ÎÎ? @
roles
ÎÎA F
[
ÎÎF G
$str
ÎÎG P
]
ÎÎP Q
.
ÎÎQ R
Id
ÎÎR T
,
ÎÎT U
encryptionService
ÎÎV g
.
ÎÎg h
Encrypt
ÎÎh o
(
ÎÎo p
$str
ÎÎp v
)
ÎÎv w
,
ÎÎw x

hourlyRateÎÎy É
:ÎÎÉ Ñ
$numÎÎÖ à
)ÎÎà â
;ÎÎâ ä
var
ÏÏ 
server
ÏÏ 
=
ÏÏ 
User
ÏÏ 
.
ÏÏ 
Create
ÏÏ  
(
ÏÏ  !
$str
ÏÏ! )
,
ÏÏ) *
$str
ÏÏ+ 0
,
ÏÏ0 1
$str
ÏÏ2 :
,
ÏÏ: ;
roles
ÏÏ< A
[
ÏÏA B
$str
ÏÏB J
]
ÏÏJ K
.
ÏÏK L
Id
ÏÏL N
,
ÏÏN O
encryptionService
ÏÏP a
.
ÏÏa b
Encrypt
ÏÏb i
(
ÏÏi j
$str
ÏÏj p
)
ÏÏp q
,
ÏÏq r

hourlyRate
ÏÏs }
:
ÏÏ} ~
$numÏÏ Ç
)ÏÏÇ É
;ÏÏÉ Ñ
var
ÌÌ 
kitchen
ÌÌ 
=
ÌÌ 
User
ÌÌ 
.
ÌÌ 
Create
ÌÌ !
(
ÌÌ! "
$str
ÌÌ" +
,
ÌÌ+ ,
$str
ÌÌ- 2
,
ÌÌ2 3
$str
ÌÌ4 =
,
ÌÌ= >
roles
ÌÌ? D
[
ÌÌD E
$str
ÌÌE N
]
ÌÌN O
.
ÌÌO P
Id
ÌÌP R
,
ÌÌR S
encryptionService
ÌÌT e
.
ÌÌe f
Encrypt
ÌÌf m
(
ÌÌm n
$str
ÌÌn t
)
ÌÌt u
,
ÌÌu v

hourlyRateÌÌw Å
:ÌÌÅ Ç
$numÌÌÉ Ü
)ÌÌÜ á
;ÌÌá à
db
ÔÔ 

.
ÔÔ
 
Users
ÔÔ 
.
ÔÔ 
AddRange
ÔÔ 
(
ÔÔ 
owner
ÔÔ 
,
ÔÔ  
manager
ÔÔ! (
,
ÔÔ( )
cashier
ÔÔ* 1
,
ÔÔ1 2
server
ÔÔ3 9
,
ÔÔ9 :
kitchen
ÔÔ; B
)
ÔÔB C
;
ÔÔC D
await
 
db
 
.
 
SaveChangesAsync
 !
(
! "
cancellationToken
" 3
)
3 4
;
4 5
return
ÚÚ 
new
ÚÚ 

Dictionary
ÚÚ 
<
ÚÚ 
string
ÚÚ $
,
ÚÚ$ %
User
ÚÚ& *
>
ÚÚ* +
{
ÛÛ 	
[
ÙÙ 
$str
ÙÙ 
]
ÙÙ 
=
ÙÙ 
owner
ÙÙ 
,
ÙÙ 
[
ıı 
$str
ıı 
]
ıı 
=
ıı 
manager
ıı !
,
ıı! "
[
ˆˆ 
$str
ˆˆ 
]
ˆˆ 
=
ˆˆ 
cashier
ˆˆ !
,
ˆˆ! "
[
˜˜ 
$str
˜˜ 
]
˜˜ 
=
˜˜ 
server
˜˜ 
,
˜˜  
[
¯¯ 
$str
¯¯ 
]
¯¯ 
=
¯¯ 
kitchen
¯¯ !
}
˘˘ 	
;
˘˘	 

}
˙˙ 
private
¸¸ 
static
¸¸ 
async
¸¸ 
Task
¸¸ 
<
¸¸ 

Dictionary
¸¸ (
<
¸¸( )
string
¸¸) /
,
¸¸/ 0
Shift
¸¸1 6
>
¸¸6 7
>
¸¸7 8
SeedShiftsAsync
¸¸9 H
(
¸¸H I"
ApplicationDbContext
˝˝ 
db
˝˝ 
,
˝˝  
CancellationToken
˛˛ 
cancellationToken
˛˛ +
)
˛˛+ ,
{
ˇˇ 
var
ÄÄ 
	breakfast
ÄÄ 
=
ÄÄ 
Shift
ÄÄ 
.
ÄÄ 
Create
ÄÄ $
(
ÄÄ$ %
$str
ÄÄ% 0
,
ÄÄ0 1
new
ÄÄ2 5
TimeSpan
ÄÄ6 >
(
ÄÄ> ?
$num
ÄÄ? @
,
ÄÄ@ A
$num
ÄÄB C
,
ÄÄC D
$num
ÄÄE F
)
ÄÄF G
,
ÄÄG H
new
ÄÄI L
TimeSpan
ÄÄM U
(
ÄÄU V
$num
ÄÄV X
,
ÄÄX Y
$num
ÄÄZ [
,
ÄÄ[ \
$num
ÄÄ] ^
)
ÄÄ^ _
)
ÄÄ_ `
;
ÄÄ` a
var
ÅÅ 
lunch
ÅÅ 
=
ÅÅ 
Shift
ÅÅ 
.
ÅÅ 
Create
ÅÅ  
(
ÅÅ  !
$str
ÅÅ! (
,
ÅÅ( )
new
ÅÅ* -
TimeSpan
ÅÅ. 6
(
ÅÅ6 7
$num
ÅÅ7 9
,
ÅÅ9 :
$num
ÅÅ; <
,
ÅÅ< =
$num
ÅÅ> ?
)
ÅÅ? @
,
ÅÅ@ A
new
ÅÅB E
TimeSpan
ÅÅF N
(
ÅÅN O
$num
ÅÅO Q
,
ÅÅQ R
$num
ÅÅS T
,
ÅÅT U
$num
ÅÅV W
)
ÅÅW X
)
ÅÅX Y
;
ÅÅY Z
var
ÇÇ 
dinner
ÇÇ 
=
ÇÇ 
Shift
ÇÇ 
.
ÇÇ 
Create
ÇÇ !
(
ÇÇ! "
$str
ÇÇ" *
,
ÇÇ* +
new
ÇÇ, /
TimeSpan
ÇÇ0 8
(
ÇÇ8 9
$num
ÇÇ9 ;
,
ÇÇ; <
$num
ÇÇ= >
,
ÇÇ> ?
$num
ÇÇ@ A
)
ÇÇA B
,
ÇÇB C
new
ÇÇD G
TimeSpan
ÇÇH P
(
ÇÇP Q
$num
ÇÇQ S
,
ÇÇS T
$num
ÇÇU V
,
ÇÇV W
$num
ÇÇX Y
)
ÇÇY Z
)
ÇÇZ [
;
ÇÇ[ \
var
ÉÉ 
night
ÉÉ 
=
ÉÉ 
Shift
ÉÉ 
.
ÉÉ 
Create
ÉÉ  
(
ÉÉ  !
$str
ÉÉ! (
,
ÉÉ( )
new
ÉÉ* -
TimeSpan
ÉÉ. 6
(
ÉÉ6 7
$num
ÉÉ7 9
,
ÉÉ9 :
$num
ÉÉ; <
,
ÉÉ< =
$num
ÉÉ> ?
)
ÉÉ? @
,
ÉÉ@ A
new
ÉÉB E
TimeSpan
ÉÉF N
(
ÉÉN O
$num
ÉÉO P
,
ÉÉP Q
$num
ÉÉR S
,
ÉÉS T
$num
ÉÉU V
)
ÉÉV W
)
ÉÉW X
;
ÉÉX Y
db
ÖÖ 

.
ÖÖ
 
Shifts
ÖÖ 
.
ÖÖ 
AddRange
ÖÖ 
(
ÖÖ 
	breakfast
ÖÖ $
,
ÖÖ$ %
lunch
ÖÖ& +
,
ÖÖ+ ,
dinner
ÖÖ- 3
,
ÖÖ3 4
night
ÖÖ5 :
)
ÖÖ: ;
;
ÖÖ; <
await
ÜÜ 
db
ÜÜ 
.
ÜÜ 
SaveChangesAsync
ÜÜ !
(
ÜÜ! "
cancellationToken
ÜÜ" 3
)
ÜÜ3 4
;
ÜÜ4 5
return
àà 
new
àà 

Dictionary
àà 
<
àà 
string
àà $
,
àà$ %
Shift
àà& +
>
àà+ ,
{
ââ 	
[
ää 
$str
ää 
]
ää 
=
ää 
	breakfast
ää %
,
ää% &
[
ãã 
$str
ãã 
]
ãã 
=
ãã 
lunch
ãã 
,
ãã 
[
åå 
$str
åå 
]
åå 
=
åå 
dinner
åå 
,
åå  
[
çç 
$str
çç 
]
çç 
=
çç 
night
çç 
}
éé 	
;
éé	 

}
èè 
private
ëë 
static
ëë 
async
ëë 
Task
ëë 
<
ëë 

Dictionary
ëë (
<
ëë( )
string
ëë) /
,
ëë/ 0
	OrderType
ëë1 :
>
ëë: ;
>
ëë; <!
SeedOrderTypesAsync
ëë= P
(
ëëP Q"
ApplicationDbContext
íí 
db
íí 
,
íí  
CancellationToken
ìì 
cancellationToken
ìì +
)
ìì+ ,
{
îî 
var
ïï 
dineIn
ïï 
=
ïï 
	OrderType
ïï 
.
ïï 
Create
ïï %
(
ïï% &
$str
ïï& /
,
ïï/ 0
closeOnPaid
ïï1 <
:
ïï< =
false
ïï> C
,
ïïC D!
allowSeatBasedOrder
ïïE X
:
ïïX Y
true
ïïZ ^
,
ïï^ _!
allowToAddTipsLater
ïï` s
:
ïïs t
true
ïïu y
)
ïïy z
;
ïïz {
dineIn
ññ 
.
ññ 
SetProperty
ññ 
(
ññ 
$str
ññ *
,
ññ* +
$str
ññ, 2
)
ññ2 3
;
ññ3 4
var
òò 
takeOut
òò 
=
òò 
	OrderType
òò 
.
òò  
Create
òò  &
(
òò& '
$str
òò' 1
,
òò1 2
closeOnPaid
òò3 >
:
òò> ?
true
òò@ D
)
òòD E
;
òòE F
takeOut
ôô 
.
ôô 
SetProperty
ôô 
(
ôô 
$str
ôô .
,
ôô. /
$str
ôô0 7
)
ôô7 8
;
ôô8 9
var
õõ 
pickUp
õõ 
=
õõ 
	OrderType
õõ 
.
õõ 
Create
õõ %
(
õõ% &
$str
õõ& /
,
õõ/ 0
closeOnPaid
õõ1 <
:
õõ< =
true
õõ> B
)
õõB C
;
õõC D
pickUp
úú 
.
úú 
SetProperty
úú 
(
úú 
$str
úú -
,
úú- .
$str
úú/ 5
)
úú5 6
;
úú6 7
var
ûû 
delivery
ûû 
=
ûû 
	OrderType
ûû  
.
ûû  !
Create
ûû! '
(
ûû' (
$str
ûû( 2
,
ûû2 3
closeOnPaid
ûû4 ?
:
ûû? @
false
ûûA F
)
ûûF G
;
ûûG H
delivery
üü 
.
üü 
SetProperty
üü 
(
üü 
$str
üü /
,
üü/ 0
$str
üü1 7
)
üü7 8
;
üü8 9
var
°° 
barTab
°° 
=
°° 
	OrderType
°° 
.
°° 
Create
°° %
(
°°% &
$str
°°& /
,
°°/ 0
isBarTab
°°1 9
:
°°9 :
true
°°; ?
,
°°? @!
allowToAddTipsLater
°°A T
:
°°T U
true
°°V Z
)
°°Z [
;
°°[ \
db
££ 

.
££
 

OrderTypes
££ 
.
££ 
AddRange
££ 
(
££ 
dineIn
££ %
,
££% &
takeOut
££' .
,
££. /
pickUp
££0 6
,
££6 7
delivery
££8 @
,
££@ A
barTab
££B H
)
££H I
;
££I J
await
§§ 
db
§§ 
.
§§ 
SaveChangesAsync
§§ !
(
§§! "
cancellationToken
§§" 3
)
§§3 4
;
§§4 5
return
¶¶ 
new
¶¶ 

Dictionary
¶¶ 
<
¶¶ 
string
¶¶ $
,
¶¶$ %
	OrderType
¶¶& /
>
¶¶/ 0
{
ßß 	
[
®® 
$str
®® 
]
®® 
=
®® 
dineIn
®®  
,
®®  !
[
©© 
$str
©© 
]
©© 
=
©© 
takeOut
©© "
,
©©" #
[
™™ 
$str
™™ 
]
™™ 
=
™™ 
pickUp
™™  
,
™™  !
[
´´ 
$str
´´ 
]
´´ 
=
´´ 
delivery
´´ #
,
´´# $
[
¨¨ 
$str
¨¨ 
]
¨¨ 
=
¨¨ 
barTab
¨¨  
}
≠≠ 	
;
≠≠	 

}
ÆÆ 
private
∞∞ 
static
∞∞ 
async
∞∞ 
Task
∞∞ 
SeedTablesAsync
∞∞ -
(
∞∞- ."
ApplicationDbContext
±± 
db
±± 
,
±±  

Dictionary
≤≤ 
<
≤≤ 
string
≤≤ 
,
≤≤ 
Guid
≤≤ 
>
≤≤  
floors
≤≤! '
,
≤≤' (
CancellationToken
≥≥ 
cancellationToken
≥≥ +
)
≥≥+ ,
{
¥¥ 
var
µµ 
tables
µµ 
=
µµ 
new
µµ 
List
µµ 
<
µµ 
Table
µµ #
>
µµ# $
(
µµ$ %
)
µµ% &
;
µµ& '
for
∏∏ 
(
∏∏ 
var
∏∏ 
i
∏∏ 
=
∏∏ 
$num
∏∏ 
;
∏∏ 
i
∏∏ 
<=
∏∏ 
$num
∏∏ 
;
∏∏  
i
∏∏! "
++
∏∏" $
)
∏∏$ %
{
ππ 	
tables
∫∫ 
.
∫∫ 
Add
∫∫ 
(
∫∫ 
Table
∫∫ 
.
∫∫ 
Create
∫∫ #
(
∫∫# $
tableNumber
ªª 
:
ªª 
i
ªª 
,
ªª 
capacity
ºº 
:
ºº 
i
ºº 
<=
ºº 
$num
ºº !
?
ºº" #
$num
ºº$ %
:
ºº& '
$num
ºº( )
,
ºº) *
x
ΩΩ 
:
ΩΩ 
(
ΩΩ 
i
ΩΩ 
-
ΩΩ 
$num
ΩΩ 
)
ΩΩ 
%
ΩΩ 
$num
ΩΩ 
*
ΩΩ  
$num
ΩΩ! $
,
ΩΩ$ %
y
ææ 
:
ææ 
(
ææ 
i
ææ 
-
ææ 
$num
ææ 
)
ææ 
/
ææ 
$num
ææ 
*
ææ  
$num
ææ! #
,
ææ# $
floorId
øø 
:
øø 
floors
øø 
[
øø  
$str
øø  (
]
øø( )
,
øø) *
shape
¿¿ 
:
¿¿ 
TableShapeType
¿¿ %
.
¿¿% &
	Rectangle
¿¿& /
,
¿¿/ 0
width
¡¡ 
:
¡¡ 
$num
¡¡ 
,
¡¡ 
height
¬¬ 
:
¬¬ 
$num
¬¬ 
)
¬¬ 
)
¬¬ 
;
¬¬ 
}
√√ 	
for
∆∆ 
(
∆∆ 
var
∆∆ 
i
∆∆ 
=
∆∆ 
$num
∆∆ 
;
∆∆ 
i
∆∆ 
<=
∆∆ 
$num
∆∆  
;
∆∆  !
i
∆∆" #
++
∆∆# %
)
∆∆% &
{
«« 	
tables
»» 
.
»» 
Add
»» 
(
»» 
Table
»» 
.
»» 
Create
»» #
(
»»# $
tableNumber
…… 
:
…… 
i
…… 
,
…… 
capacity
   
:
   
$num
   
,
   
x
ÀÀ 
:
ÀÀ 
(
ÀÀ 
i
ÀÀ 
-
ÀÀ 
$num
ÀÀ 
)
ÀÀ 
%
ÀÀ 
$num
ÀÀ 
*
ÀÀ  !
$num
ÀÀ" %
,
ÀÀ% &
y
ÃÃ 
:
ÃÃ 
(
ÃÃ 
i
ÃÃ 
-
ÃÃ 
$num
ÃÃ 
)
ÃÃ 
/
ÃÃ 
$num
ÃÃ 
*
ÃÃ  !
$num
ÃÃ" %
,
ÃÃ% &
floorId
ÕÕ 
:
ÕÕ 
floors
ÕÕ 
[
ÕÕ  
$str
ÕÕ  '
]
ÕÕ' (
,
ÕÕ( )
shape
ŒŒ 
:
ŒŒ 
TableShapeType
ŒŒ %
.
ŒŒ% &
Round
ŒŒ& +
,
ŒŒ+ ,
width
œœ 
:
œœ 
$num
œœ 
,
œœ 
height
–– 
:
–– 
$num
–– 
)
–– 
)
–– 
;
–– 
}
—— 	
for
‘‘ 
(
‘‘ 
var
‘‘ 
i
‘‘ 
=
‘‘ 
$num
‘‘ 
;
‘‘ 
i
‘‘ 
<=
‘‘ 
$num
‘‘  
;
‘‘  !
i
‘‘" #
++
‘‘# %
)
‘‘% &
{
’’ 	
tables
÷÷ 
.
÷÷ 
Add
÷÷ 
(
÷÷ 
Table
÷÷ 
.
÷÷ 
Create
÷÷ #
(
÷÷# $
tableNumber
◊◊ 
:
◊◊ 
i
◊◊ 
,
◊◊ 
capacity
ÿÿ 
:
ÿÿ 
$num
ÿÿ 
,
ÿÿ 
x
ŸŸ 
:
ŸŸ 
(
ŸŸ 
i
ŸŸ 
-
ŸŸ 
$num
ŸŸ 
)
ŸŸ 
*
ŸŸ 
$num
ŸŸ !
,
ŸŸ! "
y
⁄⁄ 
:
⁄⁄ 
$num
⁄⁄ 
,
⁄⁄ 
floorId
€€ 
:
€€ 
floors
€€ 
[
€€  
$str
€€  %
]
€€% &
,
€€& '
shape
‹‹ 
:
‹‹ 
TableShapeType
‹‹ %
.
‹‹% &
Square
‹‹& ,
,
‹‹, -
width
›› 
:
›› 
$num
›› 
,
›› 
height
ﬁﬁ 
:
ﬁﬁ 
$num
ﬁﬁ 
)
ﬁﬁ 
)
ﬁﬁ 
;
ﬁﬁ 
}
ﬂﬂ 	
db
·· 

.
··
 
Tables
·· 
.
·· 
AddRange
·· 
(
·· 
tables
·· !
)
··! "
;
··" #
await
‚‚ 
db
‚‚ 
.
‚‚ 
SaveChangesAsync
‚‚ !
(
‚‚! "
cancellationToken
‚‚" 3
)
‚‚3 4
;
‚‚4 5
}
„„ 
private
ÂÂ 
static
ÂÂ 
async
ÂÂ 
Task
ÂÂ 
<
ÂÂ 

Dictionary
ÂÂ (
<
ÂÂ( )
string
ÂÂ) /
,
ÂÂ/ 0
InventoryItem
ÂÂ1 >
>
ÂÂ> ?
>
ÂÂ? @ 
SeedInventoryAsync
ÂÂA S
(
ÂÂS T"
ApplicationDbContext
ÊÊ 
db
ÊÊ 
,
ÊÊ  
CancellationToken
ÁÁ 
cancellationToken
ÁÁ +
)
ÁÁ+ ,
{
ËË 
var
ÈÈ 
items
ÈÈ 
=
ÈÈ 
new
ÈÈ 
[
ÈÈ 
]
ÈÈ 
{
ÍÍ 	
InventoryItem
ÎÎ 
.
ÎÎ 
Create
ÎÎ  
(
ÎÎ  !
$str
ÎÎ! 3
,
ÎÎ3 4
$str
ÎÎ5 <
,
ÎÎ< =
$num
ÎÎ> A
,
ÎÎA B
$num
ÎÎC E
)
ÎÎE F
,
ÎÎF G
InventoryItem
ÏÏ 
.
ÏÏ 
Create
ÏÏ  
(
ÏÏ  !
$str
ÏÏ! 4
,
ÏÏ4 5
$str
ÏÏ6 ;
,
ÏÏ; <
$num
ÏÏ= ?
,
ÏÏ? @
$num
ÏÏA C
)
ÏÏC D
,
ÏÏD E
InventoryItem
ÌÌ 
.
ÌÌ 
Create
ÌÌ  
(
ÌÌ  !
$str
ÌÌ! ,
,
ÌÌ, -
$str
ÌÌ. 3
,
ÌÌ3 4
$num
ÌÌ5 7
,
ÌÌ7 8
$num
ÌÌ9 :
)
ÌÌ: ;
,
ÌÌ; <
InventoryItem
ÓÓ 
.
ÓÓ 
Create
ÓÓ  
(
ÓÓ  !
$str
ÓÓ! /
,
ÓÓ/ 0
$str
ÓÓ1 5
,
ÓÓ5 6
$num
ÓÓ7 9
,
ÓÓ9 :
$num
ÓÓ; =
)
ÓÓ= >
,
ÓÓ> ?
InventoryItem
ÔÔ 
.
ÔÔ 
Create
ÔÔ  
(
ÔÔ  !
$str
ÔÔ! .
,
ÔÔ. /
$str
ÔÔ0 5
,
ÔÔ5 6
$num
ÔÔ7 9
,
ÔÔ9 :
$num
ÔÔ; =
)
ÔÔ= >
,
ÔÔ> ?
InventoryItem
 
.
 
Create
  
(
  !
$str
! .
,
. /
$str
0 7
,
7 8
$num
9 <
,
< =
$num
> @
)
@ A
,
A B
InventoryItem
ÒÒ 
.
ÒÒ 
Create
ÒÒ  
(
ÒÒ  !
$str
ÒÒ! *
,
ÒÒ* +
$str
ÒÒ, 1
,
ÒÒ1 2
$num
ÒÒ3 5
,
ÒÒ5 6
$num
ÒÒ7 8
)
ÒÒ8 9
,
ÒÒ9 :
InventoryItem
ÚÚ 
.
ÚÚ 
Create
ÚÚ  
(
ÚÚ  !
$str
ÚÚ! +
,
ÚÚ+ ,
$str
ÚÚ- 2
,
ÚÚ2 3
$num
ÚÚ4 6
,
ÚÚ6 7
$num
ÚÚ8 9
)
ÚÚ9 :
,
ÚÚ: ;
InventoryItem
ÛÛ 
.
ÛÛ 
Create
ÛÛ  
(
ÛÛ  !
$str
ÛÛ! )
,
ÛÛ) *
$str
ÛÛ+ 0
,
ÛÛ0 1
$num
ÛÛ2 4
,
ÛÛ4 5
$num
ÛÛ6 7
)
ÛÛ7 8
,
ÛÛ8 9
InventoryItem
ÙÙ 
.
ÙÙ 
Create
ÙÙ  
(
ÙÙ  !
$str
ÙÙ! /
,
ÙÙ/ 0
$str
ÙÙ1 6
,
ÙÙ6 7
$num
ÙÙ8 :
,
ÙÙ: ;
$num
ÙÙ< >
)
ÙÙ> ?
,
ÙÙ? @
InventoryItem
ıı 
.
ıı 
Create
ıı  
(
ıı  !
$str
ıı! 1
,
ıı1 2
$str
ıı3 8
,
ıı8 9
$num
ıı: <
,
ıı< =
$num
ıı> @
)
ıı@ A
,
ııA B
InventoryItem
ˆˆ 
.
ˆˆ 
Create
ˆˆ  
(
ˆˆ  !
$str
ˆˆ! /
,
ˆˆ/ 0
$str
ˆˆ1 6
,
ˆˆ6 7
$num
ˆˆ8 :
,
ˆˆ: ;
$num
ˆˆ< =
)
ˆˆ= >
,
ˆˆ> ?
InventoryItem
˜˜ 
.
˜˜ 
Create
˜˜  
(
˜˜  !
$str
˜˜! '
,
˜˜' (
$str
˜˜) .
,
˜˜. /
$num
˜˜0 2
,
˜˜2 3
$num
˜˜4 5
)
˜˜5 6
,
˜˜6 7
InventoryItem
¯¯ 
.
¯¯ 
Create
¯¯  
(
¯¯  !
$str
¯¯! ,
,
¯¯, -
$str
¯¯. 2
,
¯¯2 3
$num
¯¯4 6
,
¯¯6 7
$num
¯¯8 9
)
¯¯9 :
,
¯¯: ;
InventoryItem
˘˘ 
.
˘˘ 
Create
˘˘  
(
˘˘  !
$str
˘˘! -
,
˘˘- .
$str
˘˘/ 4
,
˘˘4 5
$num
˘˘6 8
,
˘˘8 9
$num
˘˘: ;
)
˘˘; <
,
˘˘< =
InventoryItem
˙˙ 
.
˙˙ 
Create
˙˙  
(
˙˙  !
$str
˙˙! 3
,
˙˙3 4
$str
˙˙5 :
,
˙˙: ;
$num
˙˙< ?
,
˙˙? @
$num
˙˙A C
)
˙˙C D
,
˙˙D E
InventoryItem
˚˚ 
.
˚˚ 
Create
˚˚  
(
˚˚  !
$str
˚˚! 3
,
˚˚3 4
$str
˚˚5 =
,
˚˚= >
$num
˚˚? A
,
˚˚A B
$num
˚˚C E
)
˚˚E F
,
˚˚F G
InventoryItem
¸¸ 
.
¸¸ 
Create
¸¸  
(
¸¸  !
$str
¸¸! (
,
¸¸( )
$str
¸¸* 1
,
¸¸1 2
$num
¸¸3 6
,
¸¸6 7
$num
¸¸8 :
)
¸¸: ;
,
¸¸; <
InventoryItem
˝˝ 
.
˝˝ 
Create
˝˝  
(
˝˝  !
$str
˝˝! *
,
˝˝* +
$str
˝˝, 4
,
˝˝4 5
$num
˝˝6 8
,
˝˝8 9
$num
˝˝: ;
)
˝˝; <
,
˝˝< =
InventoryItem
˛˛ 
.
˛˛ 
Create
˛˛  
(
˛˛  !
$str
˛˛! (
,
˛˛( )
$str
˛˛* 2
,
˛˛2 3
$num
˛˛4 6
,
˛˛6 7
$num
˛˛8 9
)
˛˛9 :
,
˛˛: ;
}
ˇˇ 	
;
ˇˇ	 

db
ÅÅ 

.
ÅÅ
 
InventoryItems
ÅÅ 
.
ÅÅ 
AddRange
ÅÅ "
(
ÅÅ" #
items
ÅÅ# (
)
ÅÅ( )
;
ÅÅ) *
await
ÇÇ 
db
ÇÇ 
.
ÇÇ 
SaveChangesAsync
ÇÇ !
(
ÇÇ! "
cancellationToken
ÇÇ" 3
)
ÇÇ3 4
;
ÇÇ4 5
return
ÑÑ 
items
ÑÑ 
.
ÑÑ 
ToDictionary
ÑÑ !
(
ÑÑ! "
i
ÑÑ" #
=>
ÑÑ$ &
i
ÑÑ' (
.
ÑÑ( )
Name
ÑÑ) -
,
ÑÑ- .
i
ÑÑ/ 0
=>
ÑÑ1 3
i
ÑÑ4 5
)
ÑÑ5 6
;
ÑÑ6 7
}
ÖÖ 
private
áá 
static
áá 
async
áá 
Task
áá 
<
áá 

Dictionary
áá (
<
áá( )
string
áá) /
,
áá/ 0
ModifierGroup
áá1 >
>
áá> ?
>
áá? @%
SeedModifierGroupsAsync
ááA X
(
ááX Y"
ApplicationDbContext
àà 
db
àà 
,
àà  
CancellationToken
ââ 
cancellationToken
ââ +
)
ââ+ ,
{
ää 
var
ãã 
groups
ãã 
=
ãã 
new
ãã 
[
ãã 
]
ãã 
{
åå 	
ModifierGroup
çç 
.
çç 
Create
çç  
(
çç  !
$str
çç! -
,
çç- .

isRequired
çç/ 9
:
çç9 :
true
çç; ?
,
çç? @
minSelections
ççA N
:
ççN O
$num
ççP Q
,
ççQ R
maxSelections
ççS `
:
çç` a
$num
ççb c
,
ççc d%
allowMultipleSelections
ççe |
:
çç| }
falseçç~ É
,ççÉ Ñ
descriptionççÖ ê
:ççê ë
$strççí °
,çç° ¢
displayOrderçç£ Ø
:ççØ ∞
$numçç± ≤
)çç≤ ≥
,çç≥ ¥
ModifierGroup
éé 
.
éé 
Create
éé  
(
éé  !
$str
éé! 1
,
éé1 2

isRequired
éé3 =
:
éé= >
false
éé? D
,
ééD E
minSelections
ééF S
:
ééS T
$num
ééU V
,
ééV W
maxSelections
ééX e
:
éée f
$num
éég h
,
ééh i&
allowMultipleSelectionsééj Å
:ééÅ Ç
trueééÉ á
,ééá à
descriptionééâ î
:ééî ï
$strééñ ß
,ééß ®
displayOrderéé© µ
:ééµ ∂
$numéé∑ ∏
)éé∏ π
,ééπ ∫
ModifierGroup
èè 
.
èè 
Create
èè  
(
èè  !
$str
èè! .
,
èè. /

isRequired
èè0 :
:
èè: ;
true
èè< @
,
èè@ A
minSelections
èèB O
:
èèO P
$num
èèQ R
,
èèR S
maxSelections
èèT a
:
èèa b
$num
èèc d
,
èèd e%
allowMultipleSelections
èèf }
:
èè} ~
falseèè Ñ
,èèÑ Ö
descriptionèèÜ ë
:èèë í
$strèèì ®
,èè® ©
displayOrderèè™ ∂
:èè∂ ∑
$numèè∏ π
)èèπ ∫
,èè∫ ª
ModifierGroup
êê 
.
êê 
Create
êê  
(
êê  !
$str
êê! 1
,
êê1 2

isRequired
êê3 =
:
êê= >
false
êê? D
,
êêD E
minSelections
êêF S
:
êêS T
$num
êêU V
,
êêV W
maxSelections
êêX e
:
êêe f
$num
êêg h
,
êêh i&
allowMultipleSelectionsêêj Å
:êêÅ Ç
trueêêÉ á
,êêá à
descriptionêêâ î
:êêî ï
$strêêñ ü
,êêü †
displayOrderêê° ≠
:êê≠ Æ
$numêêØ ∞
)êê∞ ±
,êê± ≤
ModifierGroup
ëë 
.
ëë 
Create
ëë  
(
ëë  !
$str
ëë! -
,
ëë- .

isRequired
ëë/ 9
:
ëë9 :
true
ëë; ?
,
ëë? @
minSelections
ëëA N
:
ëëN O
$num
ëëP Q
,
ëëQ R
maxSelections
ëëS `
:
ëë` a
$num
ëëb c
,
ëëc d%
allowMultipleSelections
ëëe |
:
ëë| }
falseëë~ É
,ëëÉ Ñ
descriptionëëÖ ê
:ëëê ë
$strëëí ò
,ëëò ô
displayOrderëëö ¶
:ëë¶ ß
$numëë® ©
)ëë© ™
,ëë™ ´
ModifierGroup
íí 
.
íí 
Create
íí  
(
íí  !
$str
íí! .
,
íí. /

isRequired
íí0 :
:
íí: ;
false
íí< A
,
ííA B
minSelections
ííC P
:
ííP Q
$num
ííR S
,
ííS T
maxSelections
ííU b
:
ííb c
$num
ííd e
,
ííe f%
allowMultipleSelections
ííg ~
:
íí~ 
falseííÄ Ö
,ííÖ Ü
descriptionííá í
:ííí ì
$strííî °
,íí° ¢
displayOrderíí£ Ø
:ííØ ∞
$numíí± ≤
)íí≤ ≥
,íí≥ ¥
ModifierGroup
ìì 
.
ìì 
Create
ìì  
(
ìì  !
$str
ìì! /
,
ìì/ 0

isRequired
ìì1 ;
:
ìì; <
false
ìì= B
,
ììB C
minSelections
ììD Q
:
ììQ R
$num
ììS T
,
ììT U
maxSelections
ììV c
:
ììc d
$num
ììe f
,
ììf g%
allowMultipleSelections
ììh 
:ìì Ä
trueììÅ Ö
,ììÖ Ü
descriptionììá í
:ììí ì
$strììî ú
,ììú ù
displayOrderììû ™
:ìì™ ´
$numìì¨ ≠
)ìì≠ Æ
,ììÆ Ø
}
îî 	
;
îî	 

db
ññ 

.
ññ
 
ModifierGroups
ññ 
.
ññ 
AddRange
ññ "
(
ññ" #
groups
ññ# )
)
ññ) *
;
ññ* +
await
óó 
db
óó 
.
óó 
SaveChangesAsync
óó !
(
óó! "
cancellationToken
óó" 3
)
óó3 4
;
óó4 5
return
ôô 
groups
ôô 
.
ôô 
ToDictionary
ôô "
(
ôô" #
g
ôô# $
=>
ôô% '
g
ôô( )
.
ôô) *
Name
ôô* .
,
ôô. /
g
ôô0 1
=>
ôô2 4
g
ôô5 6
)
ôô6 7
;
ôô7 8
}
öö 
private
úú 
static
úú 
async
úú 
Task
úú 
<
úú 
List
úú "
<
úú" #
MenuModifier
úú# /
>
úú/ 0
>
úú0 1$
SeedMenuModifiersAsync
úú2 H
(
úúH I"
ApplicationDbContext
ùù 
db
ùù 
,
ùù  

Dictionary
ûû 
<
ûû 
string
ûû 
,
ûû 
ModifierGroup
ûû (
>
ûû( )
groups
ûû* 0
,
ûû0 1
CancellationToken
üü 
cancellationToken
üü +
)
üü+ ,
{
†† 
var
°° 
mods
°° 
=
°° 
new
°° 
List
°° 
<
°° 
MenuModifier
°° (
>
°°( )
{
¢¢ 	
MenuModifier
§§ 
.
§§ 
Create
§§ 
(
§§  
$str
§§  .
,
§§. /
ModifierType
§§0 <
.
§§< =
Normal
§§= C
,
§§C D
new
§§E H
Money
§§I N
(
§§N O
$num
§§O Q
)
§§Q R
,
§§R S
groups
§§T Z
[
§§Z [
$str
§§[ g
]
§§g h
.
§§h i
Id
§§i k
,
§§k l
displayOrder
§§m y
:
§§y z
$num
§§{ |
)
§§| }
,
§§} ~
MenuModifier
•• 
.
•• 
Create
•• 
(
••  
$str
••  /
,
••/ 0
ModifierType
••1 =
.
••= >
Normal
••> D
,
••D E
new
••F I
Money
••J O
(
••O P
$num
••P R
)
••R S
,
••S T
groups
••U [
[
••[ \
$str
••\ h
]
••h i
.
••i j
Id
••j l
,
••l m
displayOrder
••n z
:
••z {
$num
••| }
)
••} ~
,
••~ 
MenuModifier
¶¶ 
.
¶¶ 
Create
¶¶ 
(
¶¶  
$str
¶¶  .
,
¶¶. /
ModifierType
¶¶0 <
.
¶¶< =
Normal
¶¶= C
,
¶¶C D
new
¶¶E H
Money
¶¶I N
(
¶¶N O
$num
¶¶O Q
)
¶¶Q R
,
¶¶R S
groups
¶¶T Z
[
¶¶Z [
$str
¶¶[ g
]
¶¶g h
.
¶¶h i
Id
¶¶i k
,
¶¶k l
displayOrder
¶¶m y
:
¶¶y z
$num
¶¶{ |
)
¶¶| }
,
¶¶} ~
MenuModifier
©© 
.
©© 
Create
©© 
(
©©  
$str
©©  +
,
©©+ ,
ModifierType
©©- 9
.
©©9 :
Normal
©©: @
,
©©@ A
new
©©B E
Money
©©F K
(
©©K L
$num
©©L Q
)
©©Q R
,
©©R S
groups
©©T Z
[
©©Z [
$str
©©[ k
]
©©k l
.
©©l m
Id
©©m o
,
©©o p
displayOrder
©©q }
:
©©} ~
$num©© Ä
,©©Ä Å"
isSectionWisePrice©©Ç î
:©©î ï
true©©ñ ö
,©©ö õ
sectionName©©ú ß
:©©ß ®
$str©©© ∞
,©©∞ ±
multiplierName©©≤ ¿
:©©¿ ¡
$str©©¬ ∆
)©©∆ «
,©©« »
MenuModifier
™™ 
.
™™ 
Create
™™ 
(
™™  
$str
™™  +
,
™™+ ,
ModifierType
™™- 9
.
™™9 :
Normal
™™: @
,
™™@ A
new
™™B E
Money
™™F K
(
™™K L
$num
™™L Q
)
™™Q R
,
™™R S
groups
™™T Z
[
™™Z [
$str
™™[ k
]
™™k l
.
™™l m
Id
™™m o
,
™™o p
displayOrder
™™q }
:
™™} ~
$num™™ Ä
,™™Ä Å"
isSectionWisePrice™™Ç î
:™™î ï
true™™ñ ö
,™™ö õ
sectionName™™ú ß
:™™ß ®
$str™™© ∞
,™™∞ ±
multiplierName™™≤ ¿
:™™¿ ¡
$str™™¬ ∆
)™™∆ «
,™™« »
MenuModifier
´´ 
.
´´ 
Create
´´ 
(
´´  
$str
´´  (
,
´´( )
ModifierType
´´* 6
.
´´6 7
Normal
´´7 =
,
´´= >
new
´´? B
Money
´´C H
(
´´H I
$num
´´I N
)
´´N O
,
´´O P
groups
´´Q W
[
´´W X
$str
´´X h
]
´´h i
.
´´i j
Id
´´j l
,
´´l m
displayOrder
´´n z
:
´´z {
$num
´´| }
,
´´} ~!
isSectionWisePrice´´ ë
:´´ë í
true´´ì ó
,´´ó ò
sectionName´´ô §
:´´§ •
$str´´¶ ≠
,´´≠ Æ
multiplierName´´Ø Ω
:´´Ω æ
$str´´ø √
)´´√ ƒ
,´´ƒ ≈
MenuModifier
¨¨ 
.
¨¨ 
Create
¨¨ 
(
¨¨  
$str
¨¨  .
,
¨¨. /
ModifierType
¨¨0 <
.
¨¨< =
Extra
¨¨= B
,
¨¨B C
new
¨¨D G
Money
¨¨H M
(
¨¨M N
$num
¨¨N S
)
¨¨S T
,
¨¨T U
groups
¨¨V \
[
¨¨\ ]
$str
¨¨] m
]
¨¨m n
.
¨¨n o
Id
¨¨o q
,
¨¨q r
displayOrder
¨¨s 
:¨¨ Ä
$num¨¨Å Ç
,¨¨Ç É"
isSectionWisePrice¨¨Ñ ñ
:¨¨ñ ó
true¨¨ò ú
,¨¨ú ù
sectionName¨¨û ©
:¨¨© ™
$str¨¨´ ≤
,¨¨≤ ≥
multiplierName¨¨¥ ¬
:¨¨¬ √
$str¨¨ƒ »
)¨¨» …
,¨¨…  
MenuModifier
ØØ 
.
ØØ 
Create
ØØ 
(
ØØ  
$str
ØØ  &
,
ØØ& '
ModifierType
ØØ( 4
.
ØØ4 5
InfoOnly
ØØ5 =
,
ØØ= >
new
ØØ? B
Money
ØØC H
(
ØØH I
$num
ØØI K
)
ØØK L
,
ØØL M
groups
ØØN T
[
ØØT U
$str
ØØU b
]
ØØb c
.
ØØc d
Id
ØØd f
,
ØØf g
displayOrder
ØØh t
:
ØØt u
$num
ØØv w
,
ØØw x#
shouldPrintToKitchenØØy ç
:ØØç é
trueØØè ì
)ØØì î
,ØØî ï
MenuModifier
∞∞ 
.
∞∞ 
Create
∞∞ 
(
∞∞  
$str
∞∞  (
,
∞∞( )
ModifierType
∞∞* 6
.
∞∞6 7
InfoOnly
∞∞7 ?
,
∞∞? @
new
∞∞A D
Money
∞∞E J
(
∞∞J K
$num
∞∞K M
)
∞∞M N
,
∞∞N O
groups
∞∞P V
[
∞∞V W
$str
∞∞W d
]
∞∞d e
.
∞∞e f
Id
∞∞f h
,
∞∞h i
displayOrder
∞∞j v
:
∞∞v w
$num
∞∞x y
,
∞∞y z#
shouldPrintToKitchen∞∞{ è
:∞∞è ê
true∞∞ë ï
)∞∞ï ñ
,∞∞ñ ó
MenuModifier
±± 
.
±± 
Create
±± 
(
±±  
$str
±±  +
,
±±+ ,
ModifierType
±±- 9
.
±±9 :
InfoOnly
±±: B
,
±±B C
new
±±D G
Money
±±H M
(
±±M N
$num
±±N P
)
±±P Q
,
±±Q R
groups
±±S Y
[
±±Y Z
$str
±±Z g
]
±±g h
.
±±h i
Id
±±i k
,
±±k l
displayOrder
±±m y
:
±±y z
$num
±±{ |
,
±±| }#
shouldPrintToKitchen±±~ í
:±±í ì
true±±î ò
)±±ò ô
,±±ô ö
MenuModifier
¥¥ 
.
¥¥ 
Create
¥¥ 
(
¥¥  
$str
¥¥  '
,
¥¥' (
ModifierType
¥¥) 5
.
¥¥5 6
Extra
¥¥6 ;
,
¥¥; <
new
¥¥= @
Money
¥¥A F
(
¥¥F G
$num
¥¥G L
)
¥¥L M
,
¥¥M N
groups
¥¥O U
[
¥¥U V
$str
¥¥V f
]
¥¥f g
.
¥¥g h
Id
¥¥h j
,
¥¥j k
displayOrder
¥¥l x
:
¥¥x y
$num
¥¥z {
)
¥¥{ |
,
¥¥| }
MenuModifier
µµ 
.
µµ 
Create
µµ 
(
µµ  
$str
µµ  )
,
µµ) *
ModifierType
µµ+ 7
.
µµ7 8
Extra
µµ8 =
,
µµ= >
new
µµ? B
Money
µµC H
(
µµH I
$num
µµI N
)
µµN O
,
µµO P
groups
µµQ W
[
µµW X
$str
µµX h
]
µµh i
.
µµi j
Id
µµj l
,
µµl m
displayOrder
µµn z
:
µµz {
$num
µµ| }
)
µµ} ~
,
µµ~ 
MenuModifier
∂∂ 
.
∂∂ 
Create
∂∂ 
(
∂∂  
$str
∂∂  -
,
∂∂- .
ModifierType
∂∂/ ;
.
∂∂; <
Extra
∂∂< A
,
∂∂A B
new
∂∂C F
Money
∂∂G L
(
∂∂L M
$num
∂∂M R
)
∂∂R S
,
∂∂S T
groups
∂∂U [
[
∂∂[ \
$str
∂∂\ l
]
∂∂l m
.
∂∂m n
Id
∂∂n p
,
∂∂p q
displayOrder
∂∂r ~
:
∂∂~ 
$num∂∂Ä Å
)∂∂Å Ç
,∂∂Ç É
MenuModifier
ππ 
.
ππ 
Create
ππ 
(
ππ  
$str
ππ  '
,
ππ' (
ModifierType
ππ) 5
.
ππ5 6
Normal
ππ6 <
,
ππ< =
new
ππ> A
Money
ππB G
(
ππG H
$num
ππH J
)
ππJ K
,
ππK L
groups
ππM S
[
ππS T
$str
ππT `
]
ππ` a
.
ππa b
Id
ππb d
,
ππd e
displayOrder
ππf r
:
ππr s
$num
ππt u
)
ππu v
,
ππv w
MenuModifier
∫∫ 
.
∫∫ 
Create
∫∫ 
(
∫∫  
$str
∫∫  (
,
∫∫( )
ModifierType
∫∫* 6
.
∫∫6 7
Normal
∫∫7 =
,
∫∫= >
new
∫∫? B
Money
∫∫C H
(
∫∫H I
$num
∫∫I N
)
∫∫N O
,
∫∫O P
groups
∫∫Q W
[
∫∫W X
$str
∫∫X d
]
∫∫d e
.
∫∫e f
Id
∫∫f h
,
∫∫h i
displayOrder
∫∫j v
:
∫∫v w
$num
∫∫x y
)
∫∫y z
,
∫∫z {
MenuModifier
ªª 
.
ªª 
Create
ªª 
(
ªª  
$str
ªª  '
,
ªª' (
ModifierType
ªª) 5
.
ªª5 6
Normal
ªª6 <
,
ªª< =
new
ªª> A
Money
ªªB G
(
ªªG H
$num
ªªH M
)
ªªM N
,
ªªN O
groups
ªªP V
[
ªªV W
$str
ªªW c
]
ªªc d
.
ªªd e
Id
ªªe g
,
ªªg h
displayOrder
ªªi u
:
ªªu v
$num
ªªw x
)
ªªx y
,
ªªy z
MenuModifier
ææ 
.
ææ 
Create
ææ 
(
ææ  
$str
ææ  ,
,
ææ, -
ModifierType
ææ. :
.
ææ: ;
InfoOnly
ææ; C
,
ææC D
new
ææE H
Money
ææI N
(
ææN O
$num
ææO Q
)
ææQ R
,
ææR S
groups
ææT Z
[
ææZ [
$str
ææ[ h
]
ææh i
.
ææi j
Id
ææj l
,
ææl m
displayOrder
ææn z
:
ææz {
$num
ææ| }
)
ææ} ~
,
ææ~ 
MenuModifier
øø 
.
øø 
Create
øø 
(
øø  
$str
øø  *
,
øø* +
ModifierType
øø, 8
.
øø8 9
InfoOnly
øø9 A
,
øøA B
new
øøC F
Money
øøG L
(
øøL M
$num
øøM R
)
øøR S
,
øøS T
groups
øøU [
[
øø[ \
$str
øø\ i
]
øøi j
.
øøj k
Id
øøk m
,
øøm n
displayOrder
øøo {
:
øø{ |
$num
øø} ~
)
øø~ 
,øø Ä
MenuModifier
¬¬ 
.
¬¬ 
Create
¬¬ 
(
¬¬  
$str
¬¬  /
,
¬¬/ 0
ModifierType
¬¬1 =
.
¬¬= >
Extra
¬¬> C
,
¬¬C D
new
¬¬E H
Money
¬¬I N
(
¬¬N O
$num
¬¬O T
)
¬¬T U
,
¬¬U V
groups
¬¬W ]
[
¬¬] ^
$str
¬¬^ l
]
¬¬l m
.
¬¬m n
Id
¬¬n p
,
¬¬p q
displayOrder
¬¬r ~
:
¬¬~ 
$num¬¬Ä Å
)¬¬Å Ç
,¬¬Ç É
MenuModifier
√√ 
.
√√ 
Create
√√ 
(
√√  
$str
√√  /
,
√√/ 0
ModifierType
√√1 =
.
√√= >
Extra
√√> C
,
√√C D
new
√√E H
Money
√√I N
(
√√N O
$num
√√O T
)
√√T U
,
√√U V
groups
√√W ]
[
√√] ^
$str
√√^ l
]
√√l m
.
√√m n
Id
√√n p
,
√√p q
displayOrder
√√r ~
:
√√~ 
$num√√Ä Å
)√√Å Ç
,√√Ç É
}
ƒƒ 	
;
ƒƒ	 

var
«« 
leftHalfPepperoni
«« 
=
«« 
new
««  # 
FractionalModifier
««$ 6
(
««6 7
$str
»» #
,
»»# $
new
…… 
Money
…… 
(
…… 
$num
…… 
)
…… 
,
…… 
	sortOrder
   
:
   
$num
   
,
   
portion
ÀÀ 
:
ÀÀ 
ModifierPortion
ÀÀ $
.
ÀÀ$ %
LeftHalf
ÀÀ% -
,
ÀÀ- .
priceStrategy
ÃÃ 
:
ÃÃ 
PriceStrategy
ÃÃ (
.
ÃÃ( )
SumOfHalves
ÃÃ) 4
)
ÃÃ4 5
;
ÃÃ5 6
ReflectionUtil
ÕÕ 
.
ÕÕ 
SetProperty
ÕÕ "
(
ÕÕ" #
leftHalfPepperoni
ÕÕ# 4
,
ÕÕ4 5
$str
ÕÕ6 G
,
ÕÕG H
groups
ÕÕI O
[
ÕÕO P
$str
ÕÕP `
]
ÕÕ` a
.
ÕÕa b
Id
ÕÕb d
)
ÕÕd e
;
ÕÕe f
ReflectionUtil
ŒŒ 
.
ŒŒ 
SetProperty
ŒŒ "
(
ŒŒ" #
leftHalfPepperoni
ŒŒ# 4
,
ŒŒ4 5
$str
ŒŒ6 L
,
ŒŒL M
true
ŒŒN R
)
ŒŒR S
;
ŒŒS T
ReflectionUtil
œœ 
.
œœ 
SetProperty
œœ "
(
œœ" #
leftHalfPepperoni
œœ# 4
,
œœ4 5
$str
œœ6 D
,
œœD E
ModifierType
œœF R
.
œœR S
Normal
œœS Y
)
œœY Z
;
œœZ [
var
——  
rightHalfMushrooms
—— 
=
——  
new
——! $ 
FractionalModifier
——% 7
(
——7 8
$str
““ $
,
““$ %
new
”” 
Money
”” 
(
”” 
$num
”” 
)
”” 
,
”” 
	sortOrder
‘‘ 
:
‘‘ 
$num
‘‘ 
,
‘‘ 
portion
’’ 
:
’’ 
ModifierPortion
’’ $
.
’’$ %
	RightHalf
’’% .
,
’’. /
priceStrategy
÷÷ 
:
÷÷ 
PriceStrategy
÷÷ (
.
÷÷( )
SumOfHalves
÷÷) 4
)
÷÷4 5
;
÷÷5 6
ReflectionUtil
◊◊ 
.
◊◊ 
SetProperty
◊◊ "
(
◊◊" # 
rightHalfMushrooms
◊◊# 5
,
◊◊5 6
$str
◊◊7 H
,
◊◊H I
groups
◊◊J P
[
◊◊P Q
$str
◊◊Q a
]
◊◊a b
.
◊◊b c
Id
◊◊c e
)
◊◊e f
;
◊◊f g
ReflectionUtil
ÿÿ 
.
ÿÿ 
SetProperty
ÿÿ "
(
ÿÿ" # 
rightHalfMushrooms
ÿÿ# 5
,
ÿÿ5 6
$str
ÿÿ7 M
,
ÿÿM N
true
ÿÿO S
)
ÿÿS T
;
ÿÿT U
ReflectionUtil
ŸŸ 
.
ŸŸ 
SetProperty
ŸŸ "
(
ŸŸ" # 
rightHalfMushrooms
ŸŸ# 5
,
ŸŸ5 6
$str
ŸŸ7 E
,
ŸŸE F
ModifierType
ŸŸG S
.
ŸŸS T
Normal
ŸŸT Z
)
ŸŸZ [
;
ŸŸ[ \
mods
€€ 
.
€€ 
Add
€€ 
(
€€ 
leftHalfPepperoni
€€ "
)
€€" #
;
€€# $
mods
‹‹ 
.
‹‹ 
Add
‹‹ 
(
‹‹  
rightHalfMushrooms
‹‹ #
)
‹‹# $
;
‹‹$ %
db
ﬁﬁ 

.
ﬁﬁ
 
MenuModifiers
ﬁﬁ 
.
ﬁﬁ 
AddRange
ﬁﬁ !
(
ﬁﬁ! "
mods
ﬁﬁ" &
)
ﬁﬁ& '
;
ﬁﬁ' (
await
ﬂﬂ 
db
ﬂﬂ 
.
ﬂﬂ 
SaveChangesAsync
ﬂﬂ !
(
ﬂﬂ! "
cancellationToken
ﬂﬂ" 3
)
ﬂﬂ3 4
;
ﬂﬂ4 5
return
·· 
mods
·· 
;
·· 
}
‚‚ 
private
‰‰ 
static
‰‰ 
async
‰‰ 
Task
‰‰ 
<
‰‰ 
List
‰‰ "
<
‰‰" #
Discount
‰‰# +
>
‰‰+ ,
>
‰‰, - 
SeedDiscountsAsync
‰‰. @
(
‰‰@ A"
ApplicationDbContext
ÂÂ 
db
ÂÂ 
,
ÂÂ  
CancellationToken
ÊÊ 
cancellationToken
ÊÊ +
)
ÊÊ+ ,
{
ÁÁ 
var
ËË 
list
ËË 
=
ËË 
new
ËË 
List
ËË 
<
ËË 
Discount
ËË $
>
ËË$ %
{
ÈÈ 	
Discount
ÍÍ 
.
ÍÍ 
Create
ÍÍ 
(
ÍÍ 
$str
ÍÍ -
,
ÍÍ- .
DiscountType
ÍÍ/ ;
.
ÍÍ; <
Amount
ÍÍ< B
,
ÍÍB C
$num
ÍÍD F
,
ÍÍF G
QualificationType
ÍÍH Y
.
ÍÍY Z
Order
ÍÍZ _
,
ÍÍ_ `
ApplicationType
ÍÍa p
.
ÍÍp q
FixedPerOrder
ÍÍq ~
,
ÍÍ~ 
	autoApplyÍÍÄ â
:ÍÍâ ä
falseÍÍã ê
)ÍÍê ë
,ÍÍë í
Discount
ÎÎ 
.
ÎÎ 
Create
ÎÎ 
(
ÎÎ 
$str
ÎÎ -
,
ÎÎ- .
DiscountType
ÎÎ/ ;
.
ÎÎ; <

Percentage
ÎÎ< F
,
ÎÎF G
$num
ÎÎH M
,
ÎÎM N
QualificationType
ÎÎO `
.
ÎÎ` a
Order
ÎÎa f
,
ÎÎf g
ApplicationType
ÎÎh w
.
ÎÎw x!
PercentagePerOrderÎÎx ä
,ÎÎä ã
	autoApplyÎÎå ï
:ÎÎï ñ
falseÎÎó ú
,ÎÎú ù

couponCodeÎÎû ®
:ÎÎ® ©
$strÎÎ™ ≥
)ÎÎ≥ ¥
,ÎÎ¥ µ
Discount
ÏÏ 
.
ÏÏ 
Create
ÏÏ 
(
ÏÏ 
$str
ÏÏ -
,
ÏÏ- .
DiscountType
ÏÏ/ ;
.
ÏÏ; <

Percentage
ÏÏ< F
,
ÏÏF G
$num
ÏÏH M
,
ÏÏM N
QualificationType
ÏÏO `
.
ÏÏ` a
Item
ÏÏa e
,
ÏÏe f
ApplicationType
ÏÏg v
.
ÏÏv w 
PercentagePerItemÏÏw à
,ÏÏà â
	autoApplyÏÏä ì
:ÏÏì î
falseÏÏï ö
)ÏÏö õ
,ÏÏõ ú
Discount
ÌÌ 
.
ÌÌ 
Create
ÌÌ 
(
ÌÌ 
$str
ÌÌ ,
,
ÌÌ, -
DiscountType
ÌÌ. :
.
ÌÌ: ;
Amount
ÌÌ; A
,
ÌÌA B
$num
ÌÌC E
,
ÌÌE F
QualificationType
ÌÌG X
.
ÌÌX Y
Order
ÌÌY ^
,
ÌÌ^ _
ApplicationType
ÌÌ` o
.
ÌÌo p
FixedPerOrder
ÌÌp }
,
ÌÌ} ~
	autoApplyÌÌ à
:ÌÌà â
falseÌÌä è
,ÌÌè ê

couponCodeÌÌë õ
:ÌÌõ ú
$strÌÌù £
)ÌÌ£ §
,ÌÌ§ •
}
ÓÓ 	
;
ÓÓ	 

db
 

.

 
	Discounts
 
.
 
AddRange
 
(
 
list
 "
)
" #
;
# $
await
ÒÒ 
db
ÒÒ 
.
ÒÒ 
SaveChangesAsync
ÒÒ !
(
ÒÒ! "
cancellationToken
ÒÒ" 3
)
ÒÒ3 4
;
ÒÒ4 5
return
ÛÛ 
list
ÛÛ 
;
ÛÛ 
}
ÙÙ 
private
ˆˆ 
static
ˆˆ 
async
ˆˆ 
Task
ˆˆ 
<
ˆˆ 
MenuSeed
ˆˆ &
>
ˆˆ& '
SeedMenuAsync
ˆˆ( 5
(
ˆˆ5 6"
ApplicationDbContext
˜˜ 
db
˜˜ 
,
˜˜  

Dictionary
¯¯ 
<
¯¯ 
string
¯¯ 
,
¯¯ 
InventoryItem
¯¯ (
>
¯¯( )
	inventory
¯¯* 3
,
¯¯3 4

Dictionary
˘˘ 
<
˘˘ 
string
˘˘ 
,
˘˘ 
PrinterGroup
˘˘ '
>
˘˘' (
printerGroups
˘˘) 6
,
˘˘6 7

Dictionary
˙˙ 
<
˙˙ 
string
˙˙ 
,
˙˙ 
ModifierGroup
˙˙ (
>
˙˙( )
modifierGroups
˙˙* 8
,
˙˙8 9
CancellationToken
˚˚ 
cancellationToken
˚˚ +
)
˚˚+ ,
{
¸¸ 
var
˛˛ 

categories
˛˛ 
=
˛˛ 
new
˛˛ 
[
˛˛ 
]
˛˛ 
{
ˇˇ 	
MenuCategory
ÄÄ 
.
ÄÄ 
Create
ÄÄ 
(
ÄÄ  
$str
ÄÄ  (
,
ÄÄ( )
$num
ÄÄ* +
,
ÄÄ+ ,

isBeverage
ÄÄ- 7
:
ÄÄ7 8
true
ÄÄ9 =
)
ÄÄ= >
,
ÄÄ> ?
MenuCategory
ÅÅ 
.
ÅÅ 
Create
ÅÅ 
(
ÅÅ  
$str
ÅÅ  ,
,
ÅÅ, -
$num
ÅÅ. /
)
ÅÅ/ 0
,
ÅÅ0 1
MenuCategory
ÇÇ 
.
ÇÇ 
Create
ÇÇ 
(
ÇÇ  
$str
ÇÇ  (
,
ÇÇ( )
$num
ÇÇ* +
)
ÇÇ+ ,
,
ÇÇ, -
MenuCategory
ÉÉ 
.
ÉÉ 
Create
ÉÉ 
(
ÉÉ  
$str
ÉÉ  )
,
ÉÉ) *
$num
ÉÉ+ ,
)
ÉÉ, -
,
ÉÉ- .
MenuCategory
ÑÑ 
.
ÑÑ 
Create
ÑÑ 
(
ÑÑ  
$str
ÑÑ  (
,
ÑÑ( )
$num
ÑÑ* +
)
ÑÑ+ ,
,
ÑÑ, -
MenuCategory
ÖÖ 
.
ÖÖ 
Create
ÖÖ 
(
ÖÖ  
$str
ÖÖ  *
,
ÖÖ* +
$num
ÖÖ, -
)
ÖÖ- .
,
ÖÖ. /
MenuCategory
ÜÜ 
.
ÜÜ 
Create
ÜÜ 
(
ÜÜ  
$str
ÜÜ  (
,
ÜÜ( )
$num
ÜÜ* +
)
ÜÜ+ ,
,
ÜÜ, -
MenuCategory
áá 
.
áá 
Create
áá 
(
áá  
$str
áá  &
,
áá& '
$num
áá( *
)
áá* +
}
àà 	
;
àà	 

db
ââ 

.
ââ
 
MenuCategories
ââ 
.
ââ 
AddRange
ââ "
(
ââ" #

categories
ââ# -
)
ââ- .
;
ââ. /
await
ää 
db
ää 
.
ää 
SaveChangesAsync
ää !
(
ää! "
cancellationToken
ää" 3
)
ää3 4
;
ää4 5
var
åå 
cat
åå 
=
åå 

categories
åå 
.
åå 
ToDictionary
åå )
(
åå) *
c
åå* +
=>
åå, .
c
åå/ 0
.
åå0 1
Name
åå1 5
,
åå5 6
c
åå7 8
=>
åå9 ;
c
åå< =
)
åå= >
;
åå> ?
var
èè 
groups
èè 
=
èè 
new
èè 
[
èè 
]
èè 
{
êê 	
	MenuGroup
ëë 
.
ëë 
Create
ëë 
(
ëë 
$str
ëë *
,
ëë* +
cat
ëë, /
[
ëë/ 0
$str
ëë0 8
]
ëë8 9
.
ëë9 :
Id
ëë: <
,
ëë< =
$num
ëë> ?
)
ëë? @
,
ëë@ A
	MenuGroup
íí 
.
íí 
Create
íí 
(
íí 
$str
íí #
,
íí# $
cat
íí% (
[
íí( )
$str
íí) 1
]
íí1 2
.
íí2 3
Id
íí3 5
,
íí5 6
$num
íí7 8
)
íí8 9
,
íí9 :
	MenuGroup
ìì 
.
ìì 
Create
ìì 
(
ìì 
$str
ìì #
,
ìì# $
cat
ìì% (
[
ìì( )
$str
ìì) 1
]
ìì1 2
.
ìì2 3
Id
ìì3 5
,
ìì5 6
$num
ìì7 8
)
ìì8 9
,
ìì9 :
	MenuGroup
îî 
.
îî 
Create
îî 
(
îî 
$str
îî +
,
îî+ ,
cat
îî- 0
[
îî0 1
$str
îî1 9
]
îî9 :
.
îî: ;
Id
îî; =
,
îî= >
$num
îî? @
)
îî@ A
,
îîA B
	MenuGroup
ññ 
.
ññ 
Create
ññ 
(
ññ 
$str
ññ '
,
ññ' (
cat
ññ) ,
[
ññ, -
$str
ññ- 9
]
ññ9 :
.
ññ: ;
Id
ññ; =
,
ññ= >
$num
ññ? @
)
ññ@ A
,
ññA B
	MenuGroup
óó 
.
óó 
Create
óó 
(
óó 
$str
óó $
,
óó$ %
cat
óó& )
[
óó) *
$str
óó* 6
]
óó6 7
.
óó7 8
Id
óó8 :
,
óó: ;
$num
óó< =
)
óó= >
,
óó> ?
	MenuGroup
ôô 
.
ôô 
Create
ôô 
(
ôô 
$str
ôô +
,
ôô+ ,
cat
ôô- 0
[
ôô0 1
$str
ôô1 9
]
ôô9 :
.
ôô: ;
Id
ôô; =
,
ôô= >
$num
ôô? @
)
ôô@ A
,
ôôA B
	MenuGroup
õõ 
.
õõ 
Create
õõ 
(
õõ 
$str
õõ 0
,
õõ0 1
cat
õõ2 5
[
õõ5 6
$str
õõ6 ?
]
õõ? @
.
õõ@ A
Id
õõA C
,
õõC D
$num
õõE F
)
õõF G
,
õõG H
	MenuGroup
ùù 
.
ùù 
Create
ùù 
(
ùù 
$str
ùù -
,
ùù- .
cat
ùù/ 2
[
ùù2 3
$str
ùù3 ;
]
ùù; <
.
ùù< =
Id
ùù= ?
,
ùù? @
$num
ùùA B
)
ùùB C
,
ùùC D
	MenuGroup
ûû 
.
ûû 
Create
ûû 
(
ûû 
$str
ûû -
,
ûû- .
cat
ûû/ 2
[
ûû2 3
$str
ûû3 ;
]
ûû; <
.
ûû< =
Id
ûû= ?
,
ûû? @
$num
ûûA B
)
ûûB C
,
ûûC D
	MenuGroup
†† 
.
†† 
Create
†† 
(
†† 
$str
†† &
,
††& '
cat
††( +
[
††+ ,
$str
††, 6
]
††6 7
.
††7 8
Id
††8 :
,
††: ;
$num
††< =
)
††= >
,
††> ?
	MenuGroup
¢¢ 
.
¢¢ 
Create
¢¢ 
(
¢¢ 
$str
¢¢ +
,
¢¢+ ,
cat
¢¢- 0
[
¢¢0 1
$str
¢¢1 9
]
¢¢9 :
.
¢¢: ;
Id
¢¢; =
,
¢¢= >
$num
¢¢? @
)
¢¢@ A
,
¢¢A B
	MenuGroup
§§ 
.
§§ 
Create
§§ 
(
§§ 
$str
§§ (
,
§§( )
cat
§§* -
[
§§- .
$str
§§. 4
]
§§4 5
.
§§5 6
Id
§§6 8
,
§§8 9
$num
§§: ;
)
§§; <
,
§§< =
}
•• 	
;
••	 

db
¶¶ 

.
¶¶
 

MenuGroups
¶¶ 
.
¶¶ 
AddRange
¶¶ 
(
¶¶ 
groups
¶¶ %
)
¶¶% &
;
¶¶& '
await
ßß 
db
ßß 
.
ßß 
SaveChangesAsync
ßß !
(
ßß! "
cancellationToken
ßß" 3
)
ßß3 4
;
ßß4 5
var
©© 
grp
©© 
=
©© 
groups
©© 
.
©© 
ToDictionary
©© %
(
©©% &
g
©©& '
=>
©©( *
g
©©+ ,
.
©©, -
Name
©©- 1
,
©©1 2
g
©©3 4
=>
©©5 7
g
©©8 9
)
©©9 :
;
©©: ;
var
¨¨ 
lunchComboDef
¨¨ 
=
¨¨ 
new
¨¨ 
ComboDefinition
¨¨  /
(
¨¨/ 0
$str
¨¨0 =
,
¨¨= >
new
¨¨? B
Money
¨¨C H
(
¨¨H I
$num
¨¨I O
)
¨¨O P
)
¨¨P Q
;
¨¨Q R
db
≠≠ 

.
≠≠
 
ComboDefinitions
≠≠ 
.
≠≠ 
Add
≠≠ 
(
≠≠  
lunchComboDef
≠≠  -
)
≠≠- .
;
≠≠. /
await
ÆÆ 
db
ÆÆ 
.
ÆÆ 
SaveChangesAsync
ÆÆ !
(
ÆÆ! "
cancellationToken
ÆÆ" 3
)
ÆÆ3 4
;
ÆÆ4 5
var
∞∞ 
	comboMain
∞∞ 
=
∞∞ 
new
∞∞ 

ComboGroup
∞∞ &
(
∞∞& '
lunchComboDef
∞∞' 4
.
∞∞4 5
Id
∞∞5 7
,
∞∞7 8
$str
∞∞9 ?
,
∞∞? @
$num
∞∞A B
)
∞∞B C
;
∞∞C D
var
±± 
	comboSide
±± 
=
±± 
new
±± 

ComboGroup
±± &
(
±±& '
lunchComboDef
±±' 4
.
±±4 5
Id
±±5 7
,
±±7 8
$str
±±9 ?
,
±±? @
$num
±±A B
)
±±B C
;
±±C D
var
≤≤ 

comboDrink
≤≤ 
=
≤≤ 
new
≤≤ 

ComboGroup
≤≤ '
(
≤≤' (
lunchComboDef
≤≤( 5
.
≤≤5 6
Id
≤≤6 8
,
≤≤8 9
$str
≤≤: A
,
≤≤A B
$num
≤≤C D
)
≤≤D E
;
≤≤E F
lunchComboDef
≥≥ 
.
≥≥ 
AddGroup
≥≥ 
(
≥≥ 
	comboMain
≥≥ (
)
≥≥( )
;
≥≥) *
lunchComboDef
¥¥ 
.
¥¥ 
AddGroup
¥¥ 
(
¥¥ 
	comboSide
¥¥ (
)
¥¥( )
;
¥¥) *
lunchComboDef
µµ 
.
µµ 
AddGroup
µµ 
(
µµ 

comboDrink
µµ )
)
µµ) *
;
µµ* +
db
∂∂ 

.
∂∂
 
ComboGroups
∂∂ 
.
∂∂ 
AddRange
∂∂ 
(
∂∂  
	comboMain
∂∂  )
,
∂∂) *
	comboSide
∂∂+ 4
,
∂∂4 5

comboDrink
∂∂6 @
)
∂∂@ A
;
∂∂A B
await
∑∑ 
db
∑∑ 
.
∑∑ 
SaveChangesAsync
∑∑ !
(
∑∑! "
cancellationToken
∑∑" 3
)
∑∑3 4
;
∑∑4 5
var
∫∫ 
items
∫∫ 
=
∫∫ 
new
∫∫ 
List
∫∫ 
<
∫∫ 
MenuItem
∫∫ %
>
∫∫% &
(
∫∫& '
)
∫∫' (
;
∫∫( )
void
ºº 
AddItem
ºº 
(
ºº 
string
ºº 
name
ºº  
,
ºº  !
decimal
ºº" )
price
ºº* /
,
ºº/ 0
string
ºº1 7
	groupName
ºº8 A
,
ººA B
string
ººC I
categoryName
ººJ V
,
ººV W
Guid
ººX \
?
ºº\ ]
printerGroupId
ºº^ l
=
ººm n
null
ººo s
,
ººs t
bool
ººu y
variablePriceººz á
=ººà â
falseººä è
)ººè ê
{
ΩΩ 	
var
ææ 
item
ææ 
=
ææ 
MenuItem
ææ 
.
ææ  
Create
ææ  &
(
ææ& '
name
ææ' +
,
ææ+ ,
new
ææ- 0
Money
ææ1 6
(
ææ6 7
price
ææ7 <
)
ææ< =
,
ææ= >
taxRate
ææ? F
:
ææF G
$num
ææH J
)
ææJ K
;
ææK L
item
øø 
.
øø 
SetCategory
øø 
(
øø 
cat
øø  
[
øø  !
categoryName
øø! -
]
øø- .
.
øø. /
Id
øø/ 1
)
øø1 2
;
øø2 3
item
¿¿ 
.
¿¿ 
SetGroup
¿¿ 
(
¿¿ 
grp
¿¿ 
[
¿¿ 
	groupName
¿¿ '
]
¿¿' (
.
¿¿( )
Id
¿¿) +
)
¿¿+ ,
;
¿¿, -
if
¡¡ 
(
¡¡ 
printerGroupId
¡¡ 
.
¡¡ 
HasValue
¡¡ '
)
¡¡' (
{
¬¬ 
item
√√ 
.
√√ 
SetPrinterGroup
√√ $
(
√√$ %
printerGroupId
√√% 3
)
√√3 4
;
√√4 5
}
ƒƒ 
var
«« 
props
«« 
=
«« 
ReflectionUtil
«« &
.
««& '
GetField
««' /
<
««/ 0

Dictionary
««0 :
<
««: ;
string
««; A
,
««A B
string
««C I
>
««I J
>
««J K
(
««K L
item
««L P
,
««P Q
$str
««R _
)
««_ `
;
««` a
if
»» 
(
»» 
variablePrice
»» 
)
»» 
{
…… 
props
   
[
   
$str
   '
]
  ' (
=
  ) *
$str
  + 1
;
  1 2
}
ÀÀ 
props
ÕÕ 
[
ÕÕ 
$str
ÕÕ 
]
ÕÕ 
=
ÕÕ  
categoryName
ÕÕ! -
==
ÕÕ. 0
$str
ÕÕ1 9
?
ÕÕ: ;
$str
ÕÕ< E
:
ÕÕF G
$str
ÕÕH Q
;
ÕÕQ R
items
œœ 
.
œœ 
Add
œœ 
(
œœ 
item
œœ 
)
œœ 
;
œœ 
}
–– 	
var
”” 

barPrinter
”” 
=
”” 
printerGroups
”” &
[
””& '
$str
””' ,
]
””, -
.
””- .
Id
””. 0
;
””0 1
AddItem
‘‘ 
(
‘‘ 
$str
‘‘ 
,
‘‘ 
$num
‘‘ 
,
‘‘ 
$str
‘‘ ,
,
‘‘, -
$str
‘‘. 6
,
‘‘6 7

barPrinter
‘‘8 B
)
‘‘B C
;
‘‘C D
AddItem
’’ 
(
’’ 
$str
’’ 
,
’’ 
$num
’’ "
,
’’" #
$str
’’$ 1
,
’’1 2
$str
’’3 ;
,
’’; <

barPrinter
’’= G
)
’’G H
;
’’H I
AddItem
÷÷ 
(
÷÷ 
$str
÷÷ 
,
÷÷ 
$num
÷÷ 
,
÷÷  
$str
÷÷! .
,
÷÷. /
$str
÷÷0 8
,
÷÷8 9

barPrinter
÷÷: D
)
÷÷D E
;
÷÷E F
AddItem
◊◊ 
(
◊◊ 
$str
◊◊ 
,
◊◊ 
$num
◊◊ !
,
◊◊! "
$str
◊◊# 0
,
◊◊0 1
$str
◊◊2 :
,
◊◊: ;

barPrinter
◊◊< F
)
◊◊F G
;
◊◊G H
AddItem
ÿÿ 
(
ÿÿ 
$str
ÿÿ 
,
ÿÿ 
$num
ÿÿ "
,
ÿÿ" #
$str
ÿÿ$ 1
,
ÿÿ1 2
$str
ÿÿ3 ;
,
ÿÿ; <

barPrinter
ÿÿ= G
)
ÿÿG H
;
ÿÿH I
AddItem
ŸŸ 
(
ŸŸ 
$str
ŸŸ 
,
ŸŸ 
$num
ŸŸ !
,
ŸŸ! "
$str
ŸŸ# 0
,
ŸŸ0 1
$str
ŸŸ2 :
,
ŸŸ: ;

barPrinter
ŸŸ< F
)
ŸŸF G
;
ŸŸG H
AddItem
‹‹ 
(
‹‹ 
$str
‹‹ $
,
‹‹$ %
$num
‹‹& +
,
‹‹+ ,
$str
‹‹- 3
,
‹‹3 4
$str
‹‹5 =
,
‹‹= >

barPrinter
‹‹? I
)
‹‹I J
;
‹‹J K
AddItem
›› 
(
›› 
$str
›› 
,
›› 
$num
›› #
,
››# $
$str
››% +
,
››+ ,
$str
››- 5
,
››5 6

barPrinter
››7 A
)
››A B
;
››B C
AddItem
ﬁﬁ 
(
ﬁﬁ 
$str
ﬁﬁ #
,
ﬁﬁ# $
$num
ﬁﬁ% *
,
ﬁﬁ* +
$str
ﬁﬁ, 2
,
ﬁﬁ2 3
$str
ﬁﬁ4 <
,
ﬁﬁ< =

barPrinter
ﬁﬁ> H
)
ﬁﬁH I
;
ﬁﬁI J
AddItem
ﬂﬂ 
(
ﬂﬂ 
$str
ﬂﬂ %
,
ﬂﬂ% &
$num
ﬂﬂ' ,
,
ﬂﬂ, -
$str
ﬂﬂ. 4
,
ﬂﬂ4 5
$str
ﬂﬂ6 >
,
ﬂﬂ> ?

barPrinter
ﬂﬂ@ J
)
ﬂﬂJ K
;
ﬂﬂK L
AddItem
‚‚ 
(
‚‚ 
$str
‚‚ 
,
‚‚  
$num
‚‚! &
,
‚‚& '
$str
‚‚( 6
,
‚‚6 7
$str
‚‚8 @
,
‚‚@ A

barPrinter
‚‚B L
)
‚‚L M
;
‚‚M N
AddItem
„„ 
(
„„ 
$str
„„ 
,
„„ 
$num
„„ 
,
„„ 
$str
„„  .
,
„„. /
$str
„„0 8
,
„„8 9

barPrinter
„„: D
)
„„D E
;
„„E F
AddItem
‰‰ 
(
‰‰ 
$str
‰‰ 
,
‰‰ 
$num
‰‰  
,
‰‰  !
$str
‰‰" 0
,
‰‰0 1
$str
‰‰2 :
,
‰‰: ;

barPrinter
‰‰< F
)
‰‰F G
;
‰‰G H
var
ÁÁ 
kitchenPrinter
ÁÁ 
=
ÁÁ 
printerGroups
ÁÁ *
[
ÁÁ* +
$str
ÁÁ+ 4
]
ÁÁ4 5
.
ÁÁ5 6
Id
ÁÁ6 8
;
ÁÁ8 9
AddItem
ËË 
(
ËË 
$str
ËË #
,
ËË# $
$num
ËË% *
,
ËË* +
$str
ËË, 6
,
ËË6 7
$str
ËË8 D
,
ËËD E
kitchenPrinter
ËËF T
)
ËËT U
;
ËËU V
AddItem
ÈÈ 
(
ÈÈ 
$str
ÈÈ 
,
ÈÈ 
$num
ÈÈ  &
,
ÈÈ& '
$str
ÈÈ( 2
,
ÈÈ2 3
$str
ÈÈ4 @
,
ÈÈ@ A
kitchenPrinter
ÈÈB P
)
ÈÈP Q
;
ÈÈQ R
AddItem
ÍÍ 
(
ÍÍ 
$str
ÍÍ &
,
ÍÍ& '
$num
ÍÍ( .
,
ÍÍ. /
$str
ÍÍ0 7
,
ÍÍ7 8
$str
ÍÍ9 E
,
ÍÍE F
kitchenPrinter
ÍÍG U
)
ÍÍU V
;
ÍÍV W
AddItem
ÎÎ 
(
ÎÎ 
$str
ÎÎ &
,
ÎÎ& '
$num
ÎÎ( .
,
ÎÎ. /
$str
ÎÎ0 7
,
ÎÎ7 8
$str
ÎÎ9 E
,
ÎÎE F
kitchenPrinter
ÎÎG U
)
ÎÎU V
;
ÎÎV W
AddItem
ÓÓ 
(
ÓÓ 
$str
ÓÓ 
,
ÓÓ 
$num
ÓÓ $
,
ÓÓ$ %
$str
ÓÓ& 4
,
ÓÓ4 5
$str
ÓÓ6 >
,
ÓÓ> ?
kitchenPrinter
ÓÓ@ N
)
ÓÓN O
;
ÓÓO P
AddItem
ÔÔ 
(
ÔÔ 
$str
ÔÔ 
,
ÔÔ 
$num
ÔÔ  %
,
ÔÔ% &
$str
ÔÔ' 5
,
ÔÔ5 6
$str
ÔÔ7 ?
,
ÔÔ? @
kitchenPrinter
ÔÔA O
)
ÔÔO P
;
ÔÔP Q
AddItem
 
(
 
$str
 &
,
& '
$num
( .
,
. /
$str
0 >
,
> ?
$str
@ H
,
H I
kitchenPrinter
J X
)
X Y
;
Y Z
AddItem
ÛÛ 
(
ÛÛ 
$str
ÛÛ &
,
ÛÛ& '
$num
ÛÛ( .
,
ÛÛ. /
$str
ÛÛ0 C
,
ÛÛC D
$str
ÛÛE N
,
ÛÛN O
kitchenPrinter
ÛÛP ^
)
ÛÛ^ _
;
ÛÛ_ `
AddItem
ÙÙ 
(
ÙÙ 
$str
ÙÙ "
,
ÙÙ" #
$num
ÙÙ$ *
,
ÙÙ* +
$str
ÙÙ, ?
,
ÙÙ? @
$str
ÙÙA J
,
ÙÙJ K
kitchenPrinter
ÙÙL Z
)
ÙÙZ [
;
ÙÙ[ \
AddItem
ıı 
(
ıı 
$str
ıı 
,
ıı  
$num
ıı! '
,
ıı' (
$str
ıı) <
,
ıı< =
$str
ıı> G
,
ııG H
kitchenPrinter
ııI W
)
ııW X
;
ııX Y
AddItem
¯¯ 
(
¯¯ 
$str
¯¯ 
,
¯¯ 
$num
¯¯  &
,
¯¯& '
$str
¯¯( 8
,
¯¯8 9
$str
¯¯: B
,
¯¯B C
kitchenPrinter
¯¯D R
)
¯¯R S
;
¯¯S T
AddItem
˘˘ 
(
˘˘ 
$str
˘˘ !
,
˘˘! "
$num
˘˘# )
,
˘˘) *
$str
˘˘+ ;
,
˘˘; <
$str
˘˘= E
,
˘˘E F
kitchenPrinter
˘˘G U
)
˘˘U V
;
˘˘V W
AddItem
˙˙ 
(
˙˙ 
$str
˙˙ 
,
˙˙  
$num
˙˙! '
,
˙˙' (
$str
˙˙) 9
,
˙˙9 :
$str
˙˙; C
,
˙˙C D
kitchenPrinter
˙˙E S
)
˙˙S T
;
˙˙T U
AddItem
˝˝ 
(
˝˝ 
$str
˝˝ &
,
˝˝& '
$num
˝˝( .
,
˝˝. /
$str
˝˝0 @
,
˝˝@ A
$str
˝˝B J
,
˝˝J K
kitchenPrinter
˝˝L Z
,
˝˝Z [
variablePrice
˝˝\ i
:
˝˝i j
true
˝˝k o
)
˝˝o p
;
˝˝p q
AddItem
ÄÄ 
(
ÄÄ 
$str
ÄÄ  
,
ÄÄ  !
$num
ÄÄ" '
,
ÄÄ' (
$str
ÄÄ) 2
,
ÄÄ2 3
$str
ÄÄ4 >
,
ÄÄ> ?
kitchenPrinter
ÄÄ@ N
)
ÄÄN O
;
ÄÄO P
AddItem
ÅÅ 
(
ÅÅ 
$str
ÅÅ !
,
ÅÅ! "
$num
ÅÅ# (
,
ÅÅ( )
$str
ÅÅ* 3
,
ÅÅ3 4
$str
ÅÅ5 ?
,
ÅÅ? @
kitchenPrinter
ÅÅA O
)
ÅÅO P
;
ÅÅP Q
var
ÑÑ 
	comboItem
ÑÑ 
=
ÑÑ 
MenuItem
ÑÑ  
.
ÑÑ  !
Create
ÑÑ! '
(
ÑÑ' (
$str
ÑÑ( 5
,
ÑÑ5 6
new
ÑÑ7 :
Money
ÑÑ; @
(
ÑÑ@ A
$num
ÑÑA G
)
ÑÑG H
,
ÑÑH I
taxRate
ÑÑJ Q
:
ÑÑQ R
$num
ÑÑS U
)
ÑÑU V
;
ÑÑV W
	comboItem
ÖÖ 
.
ÖÖ 
SetCategory
ÖÖ 
(
ÖÖ 
cat
ÖÖ !
[
ÖÖ! "
$str
ÖÖ" *
]
ÖÖ* +
.
ÖÖ+ ,
Id
ÖÖ, .
)
ÖÖ. /
;
ÖÖ/ 0
	comboItem
ÜÜ 
.
ÜÜ 
SetGroup
ÜÜ 
(
ÜÜ 
grp
ÜÜ 
[
ÜÜ 
$str
ÜÜ -
]
ÜÜ- .
.
ÜÜ. /
Id
ÜÜ/ 1
)
ÜÜ1 2
;
ÜÜ2 3
	comboItem
áá 
.
áá  
SetComboDefinition
áá $
(
áá$ %
lunchComboDef
áá% 2
.
áá2 3
Id
áá3 5
)
áá5 6
;
áá6 7
	comboItem
àà 
.
àà 
SetPrinterGroup
àà !
(
àà! "
kitchenPrinter
àà" 0
)
àà0 1
;
àà1 2
items
ââ 
.
ââ 
Add
ââ 
(
ââ 
	comboItem
ââ 
)
ââ 
;
ââ 
AddItem
åå 
(
åå 
$str
åå 
,
åå 
$num
åå "
,
åå" #
$str
åå$ /
,
åå/ 0
$str
åå1 7
,
åå7 8
kitchenPrinter
åå9 G
,
ååG H
variablePrice
ååI V
:
ååV W
true
ååX \
)
åå\ ]
;
åå] ^
var
èè 
burgerNames
èè 
=
èè 
new
èè 
[
èè 
]
èè 
{
èè  !
$str
èè" 9
,
èè9 :
$str
èè; R
,
èèR S
$str
èèT i
,
èèi j
$str
èèk 
}èèÄ Å
;èèÅ Ç
foreach
êê 
(
êê 
var
êê 
n
êê 
in
êê 
burgerNames
êê %
)
êê% &
{
ëë 	
AddItem
íí 
(
íí 
n
íí 
,
íí 
$num
íí 
+
íí 
(
íí  !
decimal
íí! (
)
íí( )
(
íí) *
items
íí* /
.
íí/ 0
Count
íí0 5
%
íí6 7
$num
íí8 9
)
íí9 :
*
íí; <
$num
íí= B
,
ííB C
$str
ííD W
,
ííW X
$str
ííY b
,
ííb c
kitchenPrinter
ííd r
)
íír s
;
íís t
}
ìì 	
for
ïï 
(
ïï 
var
ïï 
i
ïï 
=
ïï 
$num
ïï 
;
ïï 
i
ïï 
<=
ïï 
$num
ïï 
;
ïï  
i
ïï! "
++
ïï" $
)
ïï$ %
{
ññ 	
AddItem
óó 
(
óó 
$"
óó 
$str
óó 
{
óó  
i
óó  !
:
óó! "
$str
óó" %
}
óó% &
"
óó& '
,
óó' (
$num
óó) .
+
óó/ 0
(
óó1 2
i
óó2 3
%
óó4 5
$num
óó6 7
)
óó7 8
,
óó8 9
$str
óó: D
,
óóD E
$str
óóF R
,
óóR S
kitchenPrinter
óóT b
)
óób c
;
óóc d
}
òò 	
db
öö 

.
öö
 
	MenuItems
öö 
.
öö 
AddRange
öö 
(
öö 
items
öö #
)
öö# $
;
öö$ %
await
õõ 
db
õõ 
.
õõ 
SaveChangesAsync
õõ !
(
õõ! "
cancellationToken
õõ" 3
)
õõ3 4
;
õõ4 5
var
ûû 
mains
ûû 
=
ûû 
items
ûû 
.
ûû 
Where
ûû 
(
ûû  
i
ûû  !
=>
ûû" $
i
ûû% &
.
ûû& '
GroupId
ûû' .
==
ûû/ 1
grp
ûû2 5
[
ûû5 6
$str
ûû6 I
]
ûûI J
.
ûûJ K
Id
ûûK M
)
ûûM N
.
ûûN O
Take
ûûO S
(
ûûS T
$num
ûûT U
)
ûûU V
.
ûûV W
ToList
ûûW ]
(
ûû] ^
)
ûû^ _
;
ûû_ `
var
üü 
sides
üü 
=
üü 
items
üü 
.
üü 
Where
üü 
(
üü  
i
üü  !
=>
üü" $
i
üü% &
.
üü& '
GroupId
üü' .
==
üü/ 1
grp
üü2 5
[
üü5 6
$str
üü6 @
]
üü@ A
.
üüA B
Id
üüB D
)
üüD E
.
üüE F
Take
üüF J
(
üüJ K
$num
üüK L
)
üüL M
.
üüM N
ToList
üüN T
(
üüT U
)
üüU V
;
üüV W
var
†† 
drinks
†† 
=
†† 
items
†† 
.
†† 
Where
††  
(
††  !
i
††! "
=>
††# %
i
††& '
.
††' (
GroupId
††( /
==
††0 2
grp
††3 6
[
††6 7
$str
††7 D
]
††D E
.
††E F
Id
††F H
)
††H I
.
††I J
Take
††J N
(
††N O
$num
††O P
)
††P Q
.
††Q R
ToList
††R X
(
††X Y
)
††Y Z
;
††Z [
var
¢¢ 

comboItems
¢¢ 
=
¢¢ 
mains
¢¢ 
.
¢¢ 
Select
¢¢ %
(
¢¢% &
m
¢¢& '
=>
¢¢( *
new
¢¢+ .
ComboGroupItem
¢¢/ =
(
¢¢= >
	comboMain
¢¢> G
.
¢¢G H
Id
¢¢H J
,
¢¢J K
m
¢¢L M
.
¢¢M N
Id
¢¢N P
,
¢¢P Q
new
¢¢R U
Money
¢¢V [
(
¢¢[ \
$num
¢¢\ ^
)
¢¢^ _
)
¢¢_ `
)
¢¢` a
.
££ 
Concat
££ 
(
££ 
sides
££ 
.
££ 
Select
££  
(
££  !
s
££! "
=>
££# %
new
££& )
ComboGroupItem
££* 8
(
££8 9
	comboSide
££9 B
.
££B C
Id
££C E
,
££E F
s
££G H
.
££H I
Id
££I K
,
££K L
new
££M P
Money
££Q V
(
££V W
$num
££W Y
)
££Y Z
)
££Z [
)
££[ \
)
££\ ]
.
§§ 
Concat
§§ 
(
§§ 
drinks
§§ 
.
§§ 
Select
§§ !
(
§§! "
d
§§" #
=>
§§$ &
new
§§' *
ComboGroupItem
§§+ 9
(
§§9 :

comboDrink
§§: D
.
§§D E
Id
§§E G
,
§§G H
d
§§I J
.
§§J K
Id
§§K M
,
§§M N
new
§§O R
Money
§§S X
(
§§X Y
$num
§§Y [
)
§§[ \
)
§§\ ]
)
§§] ^
)
§§^ _
.
•• 
ToList
•• 
(
•• 
)
•• 
;
•• 
db
ßß 

.
ßß
 
ComboGroupItems
ßß 
.
ßß 
AddRange
ßß #
(
ßß# $

comboItems
ßß$ .
)
ßß. /
;
ßß/ 0
await
©© 
db
©© 
.
©© 
SaveChangesAsync
©© !
(
©©! "
cancellationToken
©©" 3
)
©©3 4
;
©©4 5
var
¨¨ 
byName
¨¨ 
=
¨¨ 
items
¨¨ 
.
¨¨ 
ToDictionary
¨¨ '
(
¨¨' (
i
¨¨( )
=>
¨¨* ,
i
¨¨- .
.
¨¨. /
Name
¨¨/ 3
,
¨¨3 4
i
¨¨5 6
=>
¨¨7 9
i
¨¨: ;
)
¨¨; <
;
¨¨< =
if
≠≠ 

(
≠≠ 
byName
≠≠ 
.
≠≠ 
TryGetValue
≠≠ 
(
≠≠ 
$str
≠≠ 0
,
≠≠0 1
out
≠≠2 5
var
≠≠6 9
pep
≠≠: =
)
≠≠= >
)
≠≠> ?
{
ÆÆ 	
pep
ØØ 
.
ØØ 
AddRecipeLine
ØØ 
(
ØØ 
	inventory
ØØ '
[
ØØ' (
$str
ØØ( :
]
ØØ: ;
.
ØØ; <
Id
ØØ< >
,
ØØ> ?
$num
ØØ@ B
)
ØØB C
;
ØØC D
pep
∞∞ 
.
∞∞ 
AddRecipeLine
∞∞ 
(
∞∞ 
	inventory
∞∞ '
[
∞∞' (
$str
∞∞( 6
]
∞∞6 7
.
∞∞7 8
Id
∞∞8 :
,
∞∞: ;
$num
∞∞< A
)
∞∞A B
;
∞∞B C
pep
±± 
.
±± 
AddRecipeLine
±± 
(
±± 
	inventory
±± '
[
±±' (
$str
±±( ;
]
±±; <
.
±±< =
Id
±±= ?
,
±±? @
$num
±±A F
)
±±F G
;
±±G H
pep
≤≤ 
.
≤≤ 
AddRecipeLine
≤≤ 
(
≤≤ 
	inventory
≤≤ '
[
≤≤' (
$str
≤≤( 3
]
≤≤3 4
.
≤≤4 5
Id
≤≤5 7
,
≤≤7 8
$num
≤≤9 >
)
≤≤> ?
;
≤≤? @
}
≥≥ 	
if
µµ 

(
µµ 
byName
µµ 
.
µµ 
TryGetValue
µµ 
(
µµ 
$str
µµ 5
,
µµ5 6
out
µµ7 :
var
µµ; >
burger
µµ? E
)
µµE F
)
µµF G
{
∂∂ 	
burger
∑∑ 
.
∑∑ 
AddRecipeLine
∑∑  
(
∑∑  !
	inventory
∑∑! *
[
∑∑* +
$str
∑∑+ 8
]
∑∑8 9
.
∑∑9 :
Id
∑∑: <
,
∑∑< =
$num
∑∑> @
)
∑∑@ A
;
∑∑A B
burger
∏∏ 
.
∏∏ 
AddRecipeLine
∏∏  
(
∏∏  !
	inventory
∏∏! *
[
∏∏* +
$str
∏∏+ 8
]
∏∏8 9
.
∏∏9 :
Id
∏∏: <
,
∏∏< =
$num
∏∏> C
)
∏∏C D
;
∏∏D E
burger
ππ 
.
ππ 
AddRecipeLine
ππ  
(
ππ  !
	inventory
ππ! *
[
ππ* +
$str
ππ+ 4
]
ππ4 5
.
ππ5 6
Id
ππ6 8
,
ππ8 9
$num
ππ: ?
)
ππ? @
;
ππ@ A
burger
∫∫ 
.
∫∫ 
AddRecipeLine
∫∫  
(
∫∫  !
	inventory
∫∫! *
[
∫∫* +
$str
∫∫+ 5
]
∫∫5 6
.
∫∫6 7
Id
∫∫7 9
,
∫∫9 :
$num
∫∫; @
)
∫∫@ A
;
∫∫A B
burger
ªª 
.
ªª 
AddRecipeLine
ªª  
(
ªª  !
	inventory
ªª! *
[
ªª* +
$str
ªª+ 3
]
ªª3 4
.
ªª4 5
Id
ªª5 7
,
ªª7 8
$num
ªª9 >
)
ªª> ?
;
ªª? @
}
ºº 	
await
ææ 
db
ææ 
.
ææ 
SaveChangesAsync
ææ !
(
ææ! "
cancellationToken
ææ" 3
)
ææ3 4
;
ææ4 5
return
¿¿ 
new
¿¿ 
MenuSeed
¿¿ 
(
¿¿ 

categories
¿¿ &
,
¿¿& '
groups
¿¿( .
,
¿¿. /
items
¿¿0 5
,
¿¿5 6
lunchComboDef
¿¿7 D
)
¿¿D E
;
¿¿E F
}
¡¡ 
private
√√ 
static
√√ 
async
√√ 
Task
√√ ,
SeedMenuItemModifierLinksAsync
√√ <
(
√√< ="
ApplicationDbContext
ƒƒ 
db
ƒƒ 
,
ƒƒ  
MenuSeed
≈≈ 
menu
≈≈ 
,
≈≈ 

Dictionary
∆∆ 
<
∆∆ 
string
∆∆ 
,
∆∆ 
ModifierGroup
∆∆ (
>
∆∆( )
modifierGroups
∆∆* 8
,
∆∆8 9
CancellationToken
«« 
cancellationToken
«« +
)
««+ ,
{
»» 
var
…… 
links
…… 
=
…… 
new
…… 
List
…… 
<
…… #
MenuItemModifierGroup
…… 2
>
……2 3
(
……3 4
)
……4 5
;
……5 6
var
ÀÀ 

pizzaItems
ÀÀ 
=
ÀÀ 
menu
ÀÀ 
.
ÀÀ 
Items
ÀÀ #
.
ÀÀ# $
Where
ÀÀ$ )
(
ÀÀ) *
i
ÀÀ* +
=>
ÀÀ, .
i
ÀÀ/ 0
.
ÀÀ0 1
GroupId
ÀÀ1 8
==
ÀÀ9 ;
menu
ÀÀ< @
.
ÀÀ@ A
Groups
ÀÀA G
.
ÀÀG H
First
ÀÀH M
(
ÀÀM N
g
ÀÀN O
=>
ÀÀP R
g
ÀÀS T
.
ÀÀT U
Name
ÀÀU Y
==
ÀÀZ \
$str
ÀÀ] m
)
ÀÀm n
.
ÀÀn o
Id
ÀÀo q
||
ÃÃ/ 1
i
ÃÃ2 3
.
ÃÃ3 4
GroupId
ÃÃ4 ;
==
ÃÃ< >
menu
ÃÃ? C
.
ÃÃC D
Groups
ÃÃD J
.
ÃÃJ K
First
ÃÃK P
(
ÃÃP Q
g
ÃÃQ R
=>
ÃÃS U
g
ÃÃV W
.
ÃÃW X
Name
ÃÃX \
==
ÃÃ] _
$str
ÃÃ` p
)
ÃÃp q
.
ÃÃq r
Id
ÃÃr t
)
ÃÃt u
;
ÃÃu v
foreach
ÕÕ 
(
ÕÕ 
var
ÕÕ 
item
ÕÕ 
in
ÕÕ 

pizzaItems
ÕÕ '
)
ÕÕ' (
{
ŒŒ 	
links
œœ 
.
œœ 
Add
œœ 
(
œœ #
MenuItemModifierGroup
œœ +
.
œœ+ ,
Create
œœ, 2
(
œœ2 3
item
œœ3 7
.
œœ7 8
Id
œœ8 :
,
œœ: ;
modifierGroups
œœ< J
[
œœJ K
$str
œœK W
]
œœW X
.
œœX Y
Id
œœY [
,
œœ[ \
$num
œœ] ^
)
œœ^ _
)
œœ_ `
;
œœ` a
links
–– 
.
–– 
Add
–– 
(
–– #
MenuItemModifierGroup
–– +
.
––+ ,
Create
––, 2
(
––2 3
item
––3 7
.
––7 8
Id
––8 :
,
––: ;
modifierGroups
––< J
[
––J K
$str
––K [
]
––[ \
.
––\ ]
Id
––] _
,
––_ `
$num
––a b
)
––b c
)
––c d
;
––d e
}
—— 	
var
”” 
burgerItems
”” 
=
”” 
menu
”” 
.
”” 
Items
”” $
.
””$ %
Where
””% *
(
””* +
i
””+ ,
=>
””- /
i
””0 1
.
””1 2

CategoryId
””2 <
==
””= ?
menu
””@ D
.
””D E

Categories
””E O
.
””O P
First
””P U
(
””U V
c
””V W
=>
””X Z
c
””[ \
.
””\ ]
Name
””] a
==
””b d
$str
””e n
)
””n o
.
””o p
Id
””p r
)
””r s
;
””s t
foreach
‘‘ 
(
‘‘ 
var
‘‘ 
item
‘‘ 
in
‘‘ 
burgerItems
‘‘ (
)
‘‘( )
{
’’ 	
links
÷÷ 
.
÷÷ 
Add
÷÷ 
(
÷÷ #
MenuItemModifierGroup
÷÷ +
.
÷÷+ ,
Create
÷÷, 2
(
÷÷2 3
item
÷÷3 7
.
÷÷7 8
Id
÷÷8 :
,
÷÷: ;
modifierGroups
÷÷< J
[
÷÷J K
$str
÷÷K X
]
÷÷X Y
.
÷÷Y Z
Id
÷÷Z \
,
÷÷\ ]
$num
÷÷^ _
)
÷÷_ `
)
÷÷` a
;
÷÷a b
links
◊◊ 
.
◊◊ 
Add
◊◊ 
(
◊◊ #
MenuItemModifierGroup
◊◊ +
.
◊◊+ ,
Create
◊◊, 2
(
◊◊2 3
item
◊◊3 7
.
◊◊7 8
Id
◊◊8 :
,
◊◊: ;
modifierGroups
◊◊< J
[
◊◊J K
$str
◊◊K [
]
◊◊[ \
.
◊◊\ ]
Id
◊◊] _
,
◊◊_ `
$num
◊◊a b
)
◊◊b c
)
◊◊c d
;
◊◊d e
}
ÿÿ 	
var
⁄⁄ 
drinks
⁄⁄ 
=
⁄⁄ 
menu
⁄⁄ 
.
⁄⁄ 
Items
⁄⁄ 
.
⁄⁄  
Where
⁄⁄  %
(
⁄⁄% &
i
⁄⁄& '
=>
⁄⁄( *
i
⁄⁄+ ,
.
⁄⁄, -

CategoryId
⁄⁄- 7
==
⁄⁄8 :
menu
⁄⁄; ?
.
⁄⁄? @

Categories
⁄⁄@ J
.
⁄⁄J K
First
⁄⁄K P
(
⁄⁄P Q
c
⁄⁄Q R
=>
⁄⁄S U
c
⁄⁄V W
.
⁄⁄W X
Name
⁄⁄X \
==
⁄⁄] _
$str
⁄⁄` h
)
⁄⁄h i
.
⁄⁄i j
Id
⁄⁄j l
)
⁄⁄l m
.
€€ 
Where
€€ 
(
€€ 
i
€€ 
=>
€€ 
i
€€ 
.
€€ 
Name
€€ 
.
€€ 
Contains
€€ '
(
€€' (
$str
€€( .
,
€€. /
StringComparison
€€0 @
.
€€@ A
OrdinalIgnoreCase
€€A R
)
€€R S
||
€€T V
i
€€W X
.
€€X Y
Name
€€Y ]
.
€€] ^
Contains
€€^ f
(
€€f g
$str
€€g l
,
€€l m
StringComparison
€€n ~
.
€€~  
OrdinalIgnoreCase€€ ê
)€€ê ë
||€€í î
i€€ï ñ
.€€ñ ó
Name€€ó õ
.€€õ ú
Contains€€ú §
(€€§ •
$str€€• Ø
,€€Ø ∞ 
StringComparison€€± ¡
.€€¡ ¬!
OrdinalIgnoreCase€€¬ ”
)€€” ‘
)€€‘ ’
;€€’ ÷
foreach
‹‹ 
(
‹‹ 
var
‹‹ 
item
‹‹ 
in
‹‹ 
drinks
‹‹ #
)
‹‹# $
{
›› 	
links
ﬁﬁ 
.
ﬁﬁ 
Add
ﬁﬁ 
(
ﬁﬁ #
MenuItemModifierGroup
ﬁﬁ +
.
ﬁﬁ+ ,
Create
ﬁﬁ, 2
(
ﬁﬁ2 3
item
ﬁﬁ3 7
.
ﬁﬁ7 8
Id
ﬁﬁ8 :
,
ﬁﬁ: ;
modifierGroups
ﬁﬁ< J
[
ﬁﬁJ K
$str
ﬁﬁK W
]
ﬁﬁW X
.
ﬁﬁX Y
Id
ﬁﬁY [
,
ﬁﬁ[ \
$num
ﬁﬁ] ^
)
ﬁﬁ^ _
)
ﬁﬁ_ `
;
ﬁﬁ` a
}
ﬂﬂ 	
var
·· 
coffee
·· 
=
·· 
menu
·· 
.
·· 
Items
·· 
.
··  
Where
··  %
(
··% &
i
··& '
=>
··( *
i
··+ ,
.
··, -
Name
··- 1
.
··1 2
Contains
··2 :
(
··: ;
$str
··; C
,
··C D
StringComparison
··E U
.
··U V
OrdinalIgnoreCase
··V g
)
··g h
||
··i k
i
··l m
.
··m n
Name
··n r
.
··r s
Contains
··s {
(
··{ |
$str··| É
,··É Ñ 
StringComparison··Ö ï
.··ï ñ!
OrdinalIgnoreCase··ñ ß
)··ß ®
)··® ©
;··© ™
foreach
‚‚ 
(
‚‚ 
var
‚‚ 
item
‚‚ 
in
‚‚ 
coffee
‚‚ #
)
‚‚# $
{
„„ 	
links
‰‰ 
.
‰‰ 
Add
‰‰ 
(
‰‰ #
MenuItemModifierGroup
‰‰ +
.
‰‰+ ,
Create
‰‰, 2
(
‰‰2 3
item
‰‰3 7
.
‰‰7 8
Id
‰‰8 :
,
‰‰: ;
modifierGroups
‰‰< J
[
‰‰J K
$str
‰‰K X
]
‰‰X Y
.
‰‰Y Z
Id
‰‰Z \
,
‰‰\ ]
$num
‰‰^ _
)
‰‰_ `
)
‰‰` a
;
‰‰a b
links
ÂÂ 
.
ÂÂ 
Add
ÂÂ 
(
ÂÂ #
MenuItemModifierGroup
ÂÂ +
.
ÂÂ+ ,
Create
ÂÂ, 2
(
ÂÂ2 3
item
ÂÂ3 7
.
ÂÂ7 8
Id
ÂÂ8 :
,
ÂÂ: ;
modifierGroups
ÂÂ< J
[
ÂÂJ K
$str
ÂÂK Y
]
ÂÂY Z
.
ÂÂZ [
Id
ÂÂ[ ]
,
ÂÂ] ^
$num
ÂÂ_ `
)
ÂÂ` a
)
ÂÂa b
;
ÂÂb c
}
ÊÊ 	
db
ËË 

.
ËË
 $
MenuItemModifierGroups
ËË !
.
ËË! "
AddRange
ËË" *
(
ËË* +
links
ËË+ 0
)
ËË0 1
;
ËË1 2
await
ÈÈ 
db
ÈÈ 
.
ÈÈ 
SaveChangesAsync
ÈÈ !
(
ÈÈ! "
cancellationToken
ÈÈ" 3
)
ÈÈ3 4
;
ÈÈ4 5
}
ÍÍ 
private
ÏÏ 
static
ÏÏ 
async
ÏÏ 
Task
ÏÏ -
SeedHistoricalCashSessionsAsync
ÏÏ =
(
ÏÏ= >"
ApplicationDbContext
ÌÌ 
db
ÌÌ 
,
ÌÌ  
User
ÓÓ 
cashier
ÓÓ 
,
ÓÓ 
Terminal
ÔÔ 
front
ÔÔ 
,
ÔÔ 
Shift
 
shift
 
,
 
Random
ÒÒ 
rng
ÒÒ 
,
ÒÒ 
CancellationToken
ÚÚ 
cancellationToken
ÚÚ +
)
ÚÚ+ ,
{
ÛÛ 
for
ÙÙ 
(
ÙÙ 
var
ÙÙ 
daysAgo
ÙÙ 
=
ÙÙ 
$num
ÙÙ 
;
ÙÙ 
daysAgo
ÙÙ %
<=
ÙÙ& (
$num
ÙÙ) +
;
ÙÙ+ ,
daysAgo
ÙÙ- 4
++
ÙÙ4 6
)
ÙÙ6 7
{
ıı 	
var
ˆˆ 
session
ˆˆ 
=
ˆˆ 
CashSession
ˆˆ %
.
ˆˆ% &
Open
ˆˆ& *
(
ˆˆ* +
cashier
ˆˆ+ 2
.
ˆˆ2 3
Id
ˆˆ3 5
,
ˆˆ5 6
front
ˆˆ7 <
.
ˆˆ< =
Id
ˆˆ= ?
,
ˆˆ? @
shift
ˆˆA F
.
ˆˆF G
Id
ˆˆG I
,
ˆˆI J
new
ˆˆK N
Money
ˆˆO T
(
ˆˆT U
$num
ˆˆU Y
)
ˆˆY Z
)
ˆˆZ [
;
ˆˆ[ \
session
˘˘ 
.
˘˘ 
	AddPayout
˘˘ 
(
˘˘ 
Payout
˘˘ $
.
˘˘$ %
Create
˘˘% +
(
˘˘+ ,
session
˘˘, 3
.
˘˘3 4
Id
˘˘4 6
,
˘˘6 7
new
˘˘8 ;
Money
˘˘< A
(
˘˘A B
$num
˘˘B E
)
˘˘E F
,
˘˘F G
cashier
˘˘H O
.
˘˘O P
Id
˘˘P R
,
˘˘R S
$str
˘˘T `
)
˘˘` a
)
˘˘a b
;
˘˘b c
session
˙˙ 
.
˙˙ 
AddCashDrop
˙˙ 
(
˙˙  
CashDrop
˙˙  (
.
˙˙( )
Create
˙˙) /
(
˙˙/ 0
session
˙˙0 7
.
˙˙7 8
Id
˙˙8 :
,
˙˙: ;
new
˙˙< ?
Money
˙˙@ E
(
˙˙E F
$num
˙˙F I
)
˙˙I J
,
˙˙J K
cashier
˙˙L S
.
˙˙S T
Id
˙˙T V
,
˙˙V W
$str
˙˙X c
)
˙˙c d
)
˙˙d e
;
˙˙e f
session
˚˚ 
.
˚˚ 
AddDrawerBleed
˚˚ "
(
˚˚" #
DrawerBleed
˚˚# .
.
˚˚. /
Create
˚˚/ 5
(
˚˚5 6
session
˚˚6 =
.
˚˚= >
Id
˚˚> @
,
˚˚@ A
new
˚˚B E
Money
˚˚F K
(
˚˚K L
$num
˚˚L O
)
˚˚O P
,
˚˚P Q
cashier
˚˚R Y
.
˚˚Y Z
Id
˚˚Z \
,
˚˚\ ]
$str
˚˚^ l
)
˚˚l m
)
˚˚m n
;
˚˚n o
session
¸¸ 
.
¸¸ 
AddTransaction
¸¸ "
(
¸¸" #
new
¸¸# &!
TerminalTransaction
¸¸' :
(
¸¸: ;
session
¸¸; B
.
¸¸B C
Id
¸¸C E
,
¸¸E F%
TerminalTransactionType
¸¸G ^
.
¸¸^ _
	OpenFloat
¸¸_ h
,
¸¸h i
new
¸¸j m
Money
¸¸n s
(
¸¸s t
$num
¸¸t x
)
¸¸x y
,
¸¸y z
$str¸¸{ Ç
)¸¸Ç É
)¸¸É Ñ
;¸¸Ñ Ö
var
ˇˇ 
actual
ˇˇ 
=
ˇˇ 
new
ˇˇ 
Money
ˇˇ "
(
ˇˇ" #
$num
ˇˇ# '
+
ˇˇ( )
rng
ˇˇ* -
.
ˇˇ- .
Next
ˇˇ. 2
(
ˇˇ2 3
$num
ˇˇ3 4
,
ˇˇ4 5
$num
ˇˇ6 8
)
ˇˇ8 9
)
ˇˇ9 :
;
ˇˇ: ;
session
ÄÄ 
.
ÄÄ 
Close
ÄÄ 
(
ÄÄ 
cashier
ÄÄ !
.
ÄÄ! "
Id
ÄÄ" $
,
ÄÄ$ %
actual
ÄÄ& ,
)
ÄÄ, -
;
ÄÄ- .
var
ÉÉ 
openedAt
ÉÉ 
=
ÉÉ 
DateTime
ÉÉ #
.
ÉÉ# $
UtcNow
ÉÉ$ *
.
ÉÉ* +
Date
ÉÉ+ /
.
ÉÉ/ 0
AddDays
ÉÉ0 7
(
ÉÉ7 8
-
ÉÉ8 9
daysAgo
ÉÉ9 @
)
ÉÉ@ A
.
ÉÉA B
AddHours
ÉÉB J
(
ÉÉJ K
$num
ÉÉK L
)
ÉÉL M
;
ÉÉM N
ReflectionUtil
ÑÑ 
.
ÑÑ 
SetProperty
ÑÑ &
(
ÑÑ& '
session
ÑÑ' .
,
ÑÑ. /
$str
ÑÑ0 :
,
ÑÑ: ;
openedAt
ÑÑ< D
)
ÑÑD E
;
ÑÑE F
ReflectionUtil
ÖÖ 
.
ÖÖ 
SetProperty
ÖÖ &
(
ÖÖ& '
session
ÖÖ' .
,
ÖÖ. /
$str
ÖÖ0 :
,
ÖÖ: ;
openedAt
ÖÖ< D
.
ÖÖD E
AddHours
ÖÖE M
(
ÖÖM N
$num
ÖÖN O
)
ÖÖO P
)
ÖÖP Q
;
ÖÖQ R
db
áá 
.
áá 
CashSessions
áá 
.
áá 
Add
áá 
(
áá  
session
áá  '
)
áá' (
;
áá( )
}
àà 	
await
ää 
db
ää 
.
ää 
SaveChangesAsync
ää !
(
ää! "
cancellationToken
ää" 3
)
ää3 4
;
ää4 5
}
ãã 
private
ññ 
static
ññ 
async
ññ 
Task
ññ 
<
ññ 
int
ññ !
>
ññ! "-
SeedTodayOpenTicketsDirectAsync
ññ# B
(
ññB C"
ApplicationDbContext
óó 
db
óó 
,
óó  
Random
òò 
rng
òò 
,
òò 
int
ôô 
nextTicketNumber
ôô 
,
ôô 
MenuSeed
öö 
menu
öö 
,
öö 
List
õõ 
<
õõ 
MenuModifier
õõ 
>
õõ 
allModifiers
õõ '
,
õõ' (

Dictionary
úú 
<
úú 
string
úú 
,
úú 
	OrderType
úú $
>
úú$ %

orderTypes
úú& 0
,
úú0 1

Dictionary
ùù 
<
ùù 
string
ùù 
,
ùù 
Shift
ùù  
>
ùù  !
shifts
ùù" (
,
ùù( )

Dictionary
ûû 
<
ûû 
string
ûû 
,
ûû 
Terminal
ûû #
>
ûû# $
	terminals
ûû% .
,
ûû. /

Dictionary
üü 
<
üü 
string
üü 
,
üü 
User
üü 
>
üü  
users
üü! &
,
üü& '
List
†† 
<
†† 
Discount
†† 
>
†† 
	discounts
††  
,
††  !
CancellationToken
°° 
cancellationToken
°° +
)
°°+ ,
{
¢¢ 
var
££ 
server
££ 
=
££ 
users
££ 
[
££ 
$str
££ #
]
££# $
;
££$ %
var
§§ 
terminal
§§ 
=
§§ 
	terminals
§§  
[
§§  !
$str
§§! ,
]
§§, -
;
§§- .
var
•• 
shift
•• 
=
•• 
shifts
•• 
[
•• 
$str
•• #
]
••# $
;
••$ %
var
¶¶ 
dineIn
¶¶ 
=
¶¶ 

orderTypes
¶¶ 
[
¶¶  
$str
¶¶  )
]
¶¶) *
;
¶¶* +
var
®® 
tickets
®® 
=
®® 
new
®® 
List
®® 
<
®® 
Ticket
®® %
>
®®% &
(
®®& '
)
®®' (
;
®®( )
for
™™ 
(
™™ 
var
™™ 
i
™™ 
=
™™ 
$num
™™ 
;
™™ 
i
™™ 
<
™™ 
$num
™™ 
;
™™ 
i
™™  !
++
™™! #
)
™™# $
{
´´ 	
var
¨¨ 
table
¨¨ 
=
¨¨ 
$num
¨¨ 
+
¨¨ 
(
¨¨ 
i
¨¨ 
%
¨¨  
$num
¨¨! #
)
¨¨# $
;
¨¨$ %
var
≠≠ 
ticket
≠≠ 
=
≠≠ 
Ticket
≠≠ 
.
≠≠  
Create
≠≠  &
(
≠≠& '
ticketNumber
ÆÆ 
:
ÆÆ 
nextTicketNumber
ÆÆ .
++
ÆÆ. 0
,
ÆÆ0 1
	createdBy
ØØ 
:
ØØ 
server
ØØ !
.
ØØ! "
Id
ØØ" $
,
ØØ$ %

terminalId
∞∞ 
:
∞∞ 
terminal
∞∞ $
.
∞∞$ %
Id
∞∞% '
,
∞∞' (
shiftId
±± 
:
±± 
shift
±± 
.
±± 
Id
±± !
,
±±! "
orderTypeId
≤≤ 
:
≤≤ 
dineIn
≤≤ #
.
≤≤# $
Id
≤≤$ &
)
≤≤& '
;
≤≤' (
ticket
¥¥ 
.
¥¥ 
SetNumberOfGuests
¥¥ $
(
¥¥$ %
rng
¥¥% (
.
¥¥( )
Next
¥¥) -
(
¥¥- .
$num
¥¥. /
,
¥¥/ 0
$num
¥¥1 2
)
¥¥2 3
)
¥¥3 4
;
¥¥4 5
ticket
µµ 
.
µµ 
AssignTable
µµ 
(
µµ 
table
µµ $
)
µµ$ %
;
µµ% &
ticket
∂∂ 
.
∂∂ 
SetNote
∂∂ 
(
∂∂ 
i
∂∂ 
%
∂∂ 
$num
∂∂  
==
∂∂! #
$num
∂∂$ %
?
∂∂& '
$str
∂∂( Q
:
∂∂R S
null
∂∂T X
)
∂∂X Y
;
∂∂Y Z
var
ππ 
	lineCount
ππ 
=
ππ 
rng
ππ 
.
ππ  
Next
ππ  $
(
ππ$ %
$num
ππ% &
,
ππ& '
$num
ππ( )
)
ππ) *
;
ππ* +
for
∫∫ 
(
∫∫ 
var
∫∫ 
l
∫∫ 
=
∫∫ 
$num
∫∫ 
;
∫∫ 
l
∫∫ 
<
∫∫ 
	lineCount
∫∫  )
;
∫∫) *
l
∫∫+ ,
++
∫∫, .
)
∫∫. /
{
ªª 
var
ºº 
mi
ºº 
=
ºº 
menu
ºº 
.
ºº 
Items
ºº #
[
ºº# $
rng
ºº$ '
.
ºº' (
Next
ºº( ,
(
ºº, -
menu
ºº- 1
.
ºº1 2
Items
ºº2 7
.
ºº7 8
Count
ºº8 =
)
ºº= >
]
ºº> ?
;
ºº? @
var
ΩΩ 
line
ΩΩ 
=
ΩΩ 
	OrderLine
ΩΩ $
.
ΩΩ$ %
Create
ΩΩ% +
(
ΩΩ+ ,
ticket
ææ 
.
ææ 
Id
ææ 
,
ææ 
mi
øø 
.
øø 
Id
øø 
,
øø 
mi
¿¿ 
.
¿¿ 
Name
¿¿ 
,
¿¿ 
quantity
¡¡ 
:
¡¡ 
$num
¡¡ 
,
¡¡  
	unitPrice
¬¬ 
:
¬¬ 
new
¬¬ "
Money
¬¬# (
(
¬¬( )
mi
¬¬) +
.
¬¬+ ,
Price
¬¬, 1
.
¬¬1 2
Amount
¬¬2 8
,
¬¬8 9
mi
¬¬: <
.
¬¬< =
Price
¬¬= B
.
¬¬B C
Currency
¬¬C K
)
¬¬K L
,
¬¬L M
taxRate
√√ 
:
√√ 
$num
√√ 
,
√√  
categoryName
ƒƒ  
:
ƒƒ  !
mi
ƒƒ" $
.
ƒƒ$ %

CategoryId
ƒƒ% /
.
ƒƒ/ 0
HasValue
ƒƒ0 8
?
ƒƒ9 :
menu
ƒƒ; ?
.
ƒƒ? @

Categories
ƒƒ@ J
.
ƒƒJ K
First
ƒƒK P
(
ƒƒP Q
c
ƒƒQ R
=>
ƒƒS U
c
ƒƒV W
.
ƒƒW X
Id
ƒƒX Z
==
ƒƒ[ ]
mi
ƒƒ^ `
.
ƒƒ` a

CategoryId
ƒƒa k
)
ƒƒk l
.
ƒƒl m
Name
ƒƒm q
:
ƒƒr s
null
ƒƒt x
,
ƒƒx y
	groupName
≈≈ 
:
≈≈ 
mi
≈≈ !
.
≈≈! "
GroupId
≈≈" )
.
≈≈) *
HasValue
≈≈* 2
?
≈≈3 4
menu
≈≈5 9
.
≈≈9 :
Groups
≈≈: @
.
≈≈@ A
First
≈≈A F
(
≈≈F G
g
≈≈G H
=>
≈≈I K
g
≈≈L M
.
≈≈M N
Id
≈≈N P
==
≈≈Q S
mi
≈≈T V
.
≈≈V W
GroupId
≈≈W ^
)
≈≈^ _
.
≈≈_ `
Name
≈≈` d
:
≈≈e f
null
≈≈g k
)
≈≈k l
;
≈≈l m
line
∆∆ 
.
∆∆ 
SetPrinterGroup
∆∆ $
(
∆∆$ %
mi
∆∆% '
.
∆∆' (
PrinterGroupId
∆∆( 6
)
∆∆6 7
;
∆∆7 8
ReflectionUtil
«« 
.
«« 
SetProperty
«« *
(
««* +
line
««+ /
,
««/ 0
$str
««1 G
,
««G H
true
««I M
)
««M N
;
««N O
foreach
…… 
(
…… 
var
…… 
mod
……  
in
……! #&
PickModifiersForMenuItem
……$ <
(
……< =
allModifiers
……= I
,
……I J
mi
……K M
.
……M N
Name
……N R
,
……R S
rng
……T W
)
……W X
)
……X Y
{
   
line
ÀÀ 
.
ÀÀ 
AddModifier
ÀÀ $
(
ÀÀ$ %
OrderLineModifier
ÀÀ% 6
.
ÀÀ6 7
Create
ÀÀ7 =
(
ÀÀ= >
orderLineId
ÃÃ #
:
ÃÃ# $
line
ÃÃ% )
.
ÃÃ) *
Id
ÃÃ* ,
,
ÃÃ, -

modifierId
ÕÕ "
:
ÕÕ" #
mod
ÕÕ$ '
.
ÕÕ' (
Id
ÕÕ( *
,
ÕÕ* +
name
ŒŒ 
:
ŒŒ 
mod
ŒŒ !
.
ŒŒ! "
Name
ŒŒ" &
,
ŒŒ& '
modifierType
œœ $
:
œœ$ %
mod
œœ& )
.
œœ) *
ModifierType
œœ* 6
,
œœ6 7
	itemCount
–– !
:
––! "
$num
––# $
,
––$ %
	unitPrice
—— !
:
——! "
new
——# &
Money
——' ,
(
——, -
mod
——- 0
.
——0 1
	BasePrice
——1 :
.
——: ;
Amount
——; A
,
——A B
mod
——C F
.
——F G
	BasePrice
——G P
.
——P Q
Currency
——Q Y
)
——Y Z
,
——Z [
	basePrice
““ !
:
““! "
new
““# &
Money
““' ,
(
““, -
mod
““- 0
.
““0 1
	BasePrice
““1 :
.
““: ;
Amount
““; A
,
““A B
mod
““C F
.
““F G
	BasePrice
““G P
.
““P Q
Currency
““Q Y
)
““Y Z
,
““Z [
taxRate
”” 
:
””  
$num
””! #
,
””# $
modifierGroupId
‘‘ '
:
‘‘' (
mod
‘‘) ,
.
‘‘, -
ModifierGroupId
‘‘- <
,
‘‘< ="
shouldPrintToKitchen
’’ ,
:
’’, -
mod
’’. 1
.
’’1 2"
ShouldPrintToKitchen
’’2 F
)
’’F G
)
’’G H
;
’’H I
}
÷÷ 
ticket
ÿÿ 
.
ÿÿ 
AddOrderLine
ÿÿ #
(
ÿÿ# $
line
ÿÿ$ (
)
ÿÿ( )
;
ÿÿ) *
}
ŸŸ 
if
‹‹ 
(
‹‹ 
i
‹‹ 
%
‹‹ 
$num
‹‹ 
==
‹‹ 
$num
‹‹ 
)
‹‹ 
{
›› 
var
ﬁﬁ 
d
ﬁﬁ 
=
ﬁﬁ 
	discounts
ﬁﬁ !
[
ﬁﬁ! "
$num
ﬁﬁ" #
]
ﬁﬁ# $
;
ﬁﬁ$ %
var
ﬂﬂ 
amount
ﬂﬂ 
=
ﬂﬂ 
new
ﬂﬂ  
Money
ﬂﬂ! &
(
ﬂﬂ& '
Math
ﬂﬂ' +
.
ﬂﬂ+ ,
Min
ﬂﬂ, /
(
ﬂﬂ/ 0
$num
ﬂﬂ0 2
,
ﬂﬂ2 3
ticket
ﬂﬂ4 :
.
ﬂﬂ: ;
SubtotalAmount
ﬂﬂ; I
.
ﬂﬂI J
Amount
ﬂﬂJ P
)
ﬂﬂP Q
)
ﬂﬂQ R
;
ﬂﬂR S
ticket
‡‡ 
.
‡‡ 
ApplyDiscount
‡‡ $
(
‡‡$ %
TicketDiscount
‡‡% 3
.
‡‡3 4
Create
‡‡4 :
(
‡‡: ;
ticket
‡‡; A
.
‡‡A B
Id
‡‡B D
,
‡‡D E
d
‡‡F G
.
‡‡G H
Id
‡‡H J
,
‡‡J K
d
‡‡L M
.
‡‡M N
Name
‡‡N R
,
‡‡R S
d
‡‡T U
.
‡‡U V
Type
‡‡V Z
,
‡‡Z [
d
‡‡\ ]
.
‡‡] ^
Value
‡‡^ c
,
‡‡c d
amount
‡‡e k
)
‡‡k l
)
‡‡l m
;
‡‡m n
}
·· 
tickets
„„ 
.
„„ 
Add
„„ 
(
„„ 
ticket
„„ 
)
„„ 
;
„„  
}
‰‰ 	
db
ÊÊ 

.
ÊÊ
 
Tickets
ÊÊ 
.
ÊÊ 
AddRange
ÊÊ 
(
ÊÊ 
tickets
ÊÊ #
)
ÊÊ# $
;
ÊÊ$ %
await
ÁÁ 
db
ÁÁ 
.
ÁÁ 
SaveChangesAsync
ÁÁ !
(
ÁÁ! "
cancellationToken
ÁÁ" 3
)
ÁÁ3 4
;
ÁÁ4 5
return
ËË 
nextTicketNumber
ËË 
;
ËË  
}
ÈÈ 
private
ÎÎ 
static
ÎÎ 
async
ÎÎ 
Task
ÎÎ 
<
ÎÎ 
int
ÎÎ !
>
ÎÎ! "-
SeedScheduledTicketsDirectAsync
ÎÎ# B
(
ÎÎB C"
ApplicationDbContext
ÏÏ 
db
ÏÏ 
,
ÏÏ  
Random
ÌÌ 
rng
ÌÌ 
,
ÌÌ 
int
ÓÓ 
nextTicketNumber
ÓÓ 
,
ÓÓ 
MenuSeed
ÔÔ 
menu
ÔÔ 
,
ÔÔ 

Dictionary
 
<
 
string
 
,
 
	OrderType
 $
>
$ %

orderTypes
& 0
,
0 1

Dictionary
ÒÒ 
<
ÒÒ 
string
ÒÒ 
,
ÒÒ 
Shift
ÒÒ  
>
ÒÒ  !
shifts
ÒÒ" (
,
ÒÒ( )
Terminal
ÚÚ 
terminal
ÚÚ 
,
ÚÚ 
User
ÛÛ 
	createdBy
ÛÛ 
,
ÛÛ 
int
ÙÙ 
count
ÙÙ 
,
ÙÙ 
CancellationToken
ıı 
cancellationToken
ıı +
)
ıı+ ,
{
ˆˆ 
var
˜˜ 
shift
˜˜ 
=
˜˜ 
shifts
˜˜ 
[
˜˜ 
$str
˜˜ #
]
˜˜# $
;
˜˜$ %
var
¯¯ 
pickup
¯¯ 
=
¯¯ 

orderTypes
¯¯ 
[
¯¯  
$str
¯¯  )
]
¯¯) *
;
¯¯* +
var
˙˙ 
tickets
˙˙ 
=
˙˙ 
new
˙˙ 
List
˙˙ 
<
˙˙ 
Ticket
˙˙ %
>
˙˙% &
(
˙˙& '
)
˙˙' (
;
˙˙( )
for
˚˚ 
(
˚˚ 
var
˚˚ 
i
˚˚ 
=
˚˚ 
$num
˚˚ 
;
˚˚ 
i
˚˚ 
<
˚˚ 
count
˚˚ !
;
˚˚! "
i
˚˚# $
++
˚˚$ &
)
˚˚& '
{
¸¸ 	
var
˝˝ 
ticket
˝˝ 
=
˝˝ 
Ticket
˝˝ 
.
˝˝  
Create
˝˝  &
(
˝˝& '
ticketNumber
˛˛ 
:
˛˛ 
nextTicketNumber
˛˛ .
++
˛˛. 0
,
˛˛0 1
	createdBy
ˇˇ 
:
ˇˇ 
	createdBy
ˇˇ $
.
ˇˇ$ %
Id
ˇˇ% '
,
ˇˇ' (

terminalId
ÄÄ 
:
ÄÄ 
terminal
ÄÄ $
.
ÄÄ$ %
Id
ÄÄ% '
,
ÄÄ' (
shiftId
ÅÅ 
:
ÅÅ 
shift
ÅÅ 
.
ÅÅ 
Id
ÅÅ !
,
ÅÅ! "
orderTypeId
ÇÇ 
:
ÇÇ 
pickup
ÇÇ #
.
ÇÇ# $
Id
ÇÇ$ &
)
ÇÇ& '
;
ÇÇ' (
var
ÑÑ 
mi
ÑÑ 
=
ÑÑ 
menu
ÑÑ 
.
ÑÑ 
Items
ÑÑ 
.
ÑÑ  
Where
ÑÑ  %
(
ÑÑ% &
x
ÑÑ& '
=>
ÑÑ( *
x
ÑÑ+ ,
.
ÑÑ, -
Name
ÑÑ- 1
.
ÑÑ1 2
Contains
ÑÑ2 :
(
ÑÑ: ;
$str
ÑÑ; B
,
ÑÑB C
StringComparison
ÑÑD T
.
ÑÑT U
OrdinalIgnoreCase
ÑÑU f
)
ÑÑf g
)
ÑÑg h
.
ÑÑh i
OrderBy
ÑÑi p
(
ÑÑp q
_
ÑÑq r
=>
ÑÑs u
rng
ÑÑv y
.
ÑÑy z
Next
ÑÑz ~
(
ÑÑ~ 
)ÑÑ Ä
)ÑÑÄ Å
.ÑÑÅ Ç
FirstÑÑÇ á
(ÑÑá à
)ÑÑà â
;ÑÑâ ä
var
ÖÖ 
scheduledLine
ÖÖ 
=
ÖÖ 
	OrderLine
ÖÖ  )
.
ÖÖ) *
Create
ÖÖ* 0
(
ÖÖ0 1
ticket
ÖÖ1 7
.
ÖÖ7 8
Id
ÖÖ8 :
,
ÖÖ: ;
mi
ÖÖ< >
.
ÖÖ> ?
Id
ÖÖ? A
,
ÖÖA B
mi
ÖÖC E
.
ÖÖE F
Name
ÖÖF J
,
ÖÖJ K
$num
ÖÖL M
,
ÖÖM N
new
ÖÖO R
Money
ÖÖS X
(
ÖÖX Y
mi
ÖÖY [
.
ÖÖ[ \
Price
ÖÖ\ a
.
ÖÖa b
Amount
ÖÖb h
,
ÖÖh i
mi
ÖÖj l
.
ÖÖl m
Price
ÖÖm r
.
ÖÖr s
Currency
ÖÖs {
)
ÖÖ{ |
,
ÖÖ| }
taxRateÖÖ~ Ö
:ÖÖÖ Ü
$numÖÖá â
,ÖÖâ ä
categoryNameÖÖã ó
:ÖÖó ò
$strÖÖô °
,ÖÖ° ¢
	groupNameÖÖ£ ¨
:ÖÖ¨ ≠
$strÖÖÆ æ
)ÖÖæ ø
;ÖÖø ¿
scheduledLine
ÜÜ 
.
ÜÜ 
SetPrinterGroup
ÜÜ )
(
ÜÜ) *
mi
ÜÜ* ,
.
ÜÜ, -
PrinterGroupId
ÜÜ- ;
)
ÜÜ; <
;
ÜÜ< =
ReflectionUtil
áá 
.
áá 
SetProperty
áá &
(
áá& '
scheduledLine
áá' 4
,
áá4 5
$str
áá6 L
,
ááL M
true
ááN R
)
ááR S
;
ááS T
ticket
àà 
.
àà 
AddOrderLine
àà 
(
àà  
scheduledLine
àà  -
)
àà- .
;
àà. /
ticket
ää 
.
ää 
Schedule
ää 
(
ää 
DateTime
ää $
.
ää$ %
UtcNow
ää% +
.
ää+ ,
AddHours
ää, 4
(
ää4 5
$num
ää5 6
+
ää7 8
i
ää9 :
)
ää: ;
)
ää; <
;
ää< =
tickets
ãã 
.
ãã 
Add
ãã 
(
ãã 
ticket
ãã 
)
ãã 
;
ãã  
}
åå 	
db
éé 

.
éé
 
Tickets
éé 
.
éé 
AddRange
éé 
(
éé 
tickets
éé #
)
éé# $
;
éé$ %
await
èè 
db
èè 
.
èè 
SaveChangesAsync
èè !
(
èè! "
cancellationToken
èè" 3
)
èè3 4
;
èè4 5
return
êê 
nextTicketNumber
êê 
;
êê  
}
ëë 
private
ìì 
static
ìì 
async
ìì 
Task
ìì 
<
ìì 
int
ìì !
>
ìì! ".
 SeedHistoricalTicketsDirectAsync
ìì# C
(
ììC D"
ApplicationDbContext
îî 
db
îî 
,
îî  
Random
ïï 
rng
ïï 
,
ïï 
int
ññ 
nextTicketNumber
ññ 
,
ññ 
CashSession
óó 
openCashSession
óó #
,
óó# $
MenuSeed
òò 
menu
òò 
,
òò 
List
ôô 
<
ôô 
MenuModifier
ôô 
>
ôô 
allModifiers
ôô '
,
ôô' (

Dictionary
öö 
<
öö 
string
öö 
,
öö 
	OrderType
öö $
>
öö$ %

orderTypes
öö& 0
,
öö0 1

Dictionary
õõ 
<
õõ 
string
õõ 
,
õõ 
Shift
õõ  
>
õõ  !
shifts
õõ" (
,
õõ( )
Terminal
úú 
front
úú 
,
úú 
Terminal
ùù 
bar
ùù 
,
ùù 
User
ûû 
cashier
ûû 
,
ûû 
User
üü 
manager
üü 
,
üü 
User
†† 
server
†† 
,
†† 
List
°° 
<
°° 
Discount
°° 
>
°° 
	discounts
°°  
,
°°  !
SeedOptions
¢¢ 
options
¢¢ 
,
¢¢ 
CancellationToken
££ 
cancellationToken
££ +
)
££+ ,
{
§§ 
var
•• 
dineIn
•• 
=
•• 

orderTypes
•• 
[
••  
$str
••  )
]
••) *
;
••* +
var
¶¶ 
takeOut
¶¶ 
=
¶¶ 

orderTypes
¶¶  
[
¶¶  !
$str
¶¶! +
]
¶¶+ ,
;
¶¶, -
var
ßß 
barTab
ßß 
=
ßß 

orderTypes
ßß 
[
ßß  
$str
ßß  )
]
ßß) *
;
ßß* +
for
©© 
(
©© 
var
©© 
daysAgo
©© 
=
©© 
options
©© "
.
©©" #
HistoryDays
©©# .
;
©©. /
daysAgo
©©0 7
>=
©©8 :
$num
©©; <
;
©©< =
daysAgo
©©> E
--
©©E G
)
©©G H
{
™™ 	
var
´´ 
day
´´ 
=
´´ 
DateTime
´´ 
.
´´ 
UtcNow
´´ %
.
´´% &
Date
´´& *
.
´´* +
AddDays
´´+ 2
(
´´2 3
-
´´3 4
daysAgo
´´4 ;
)
´´; <
;
´´< =
var
¨¨ 
ticketCount
¨¨ 
=
¨¨ 
rng
¨¨ !
.
¨¨! "
Next
¨¨" &
(
¨¨& '
options
¨¨' .
.
¨¨. /
TicketsPerDayMin
¨¨/ ?
,
¨¨? @
options
¨¨A H
.
¨¨H I
TicketsPerDayMax
¨¨I Y
+
¨¨Z [
$num
¨¨\ ]
)
¨¨] ^
;
¨¨^ _
var
ÆÆ 
batchTickets
ÆÆ 
=
ÆÆ 
new
ÆÆ "
List
ÆÆ# '
<
ÆÆ' (
Ticket
ÆÆ( .
>
ÆÆ. /
(
ÆÆ/ 0
)
ÆÆ0 1
;
ÆÆ1 2
var
ØØ  
batchKitchenOrders
ØØ "
=
ØØ# $
new
ØØ% (
List
ØØ) -
<
ØØ- .
KitchenOrder
ØØ. :
>
ØØ: ;
(
ØØ; <
)
ØØ< =
;
ØØ= >
var
∞∞ $
batchKitchenOrderItems
∞∞ &
=
∞∞' (
new
∞∞) ,
List
∞∞- 1
<
∞∞1 2
KitchenOrderItem
∞∞2 B
>
∞∞B C
(
∞∞C D
)
∞∞D E
;
∞∞E F
var
±± 
batchAudits
±± 
=
±± 
new
±± !
List
±±" &
<
±±& '

AuditEvent
±±' 1
>
±±1 2
(
±±2 3
)
±±3 4
;
±±4 5
for
≥≥ 
(
≥≥ 
var
≥≥ 
i
≥≥ 
=
≥≥ 
$num
≥≥ 
;
≥≥ 
i
≥≥ 
<
≥≥ 
ticketCount
≥≥  +
;
≥≥+ ,
i
≥≥- .
++
≥≥. 0
)
≥≥0 1
{
¥¥ 
var
µµ 
shift
µµ 
=
µµ 
shifts
µµ "
.
µµ" #
Values
µµ# )
.
µµ) *
	ElementAt
µµ* 3
(
µµ3 4
rng
µµ4 7
.
µµ7 8
Next
µµ8 <
(
µµ< =
shifts
µµ= C
.
µµC D
Count
µµD I
)
µµI J
)
µµJ K
;
µµK L
var
∂∂ 
	orderType
∂∂ 
=
∂∂ 
i
∂∂  !
%
∂∂" #
$num
∂∂$ %
==
∂∂& (
$num
∂∂) *
?
∂∂+ ,
barTab
∂∂- 3
:
∂∂4 5
(
∂∂6 7
i
∂∂7 8
%
∂∂9 :
$num
∂∂; <
==
∂∂= ?
$num
∂∂@ A
?
∂∂B C
takeOut
∂∂D K
:
∂∂L M
dineIn
∂∂N T
)
∂∂T U
;
∂∂U V
var
∑∑ 
terminal
∑∑ 
=
∑∑ 
	orderType
∑∑ (
==
∑∑) +
barTab
∑∑, 2
?
∑∑3 4
bar
∑∑5 8
:
∑∑9 :
front
∑∑; @
;
∑∑@ A
var
∏∏ 
	createdAt
∏∏ 
=
∏∏ 
day
∏∏  #
.
∏∏# $
AddHours
∏∏$ ,
(
∏∏, -
$num
∏∏- /
+
∏∏0 1
rng
∏∏2 5
.
∏∏5 6
Next
∏∏6 :
(
∏∏: ;
$num
∏∏; <
,
∏∏< =
$num
∏∏> @
)
∏∏@ A
)
∏∏A B
.
∏∏B C

AddMinutes
∏∏C M
(
∏∏M N
rng
∏∏N Q
.
∏∏Q R
Next
∏∏R V
(
∏∏V W
$num
∏∏W X
,
∏∏X Y
$num
∏∏Z \
)
∏∏\ ]
)
∏∏] ^
;
∏∏^ _
var
ªª 
ticket
ªª 
=
ªª 
Ticket
ªª #
.
ªª# $
Create
ªª$ *
(
ªª* +
ticketNumber
ºº  
:
ºº  !
nextTicketNumber
ºº" 2
++
ºº2 4
,
ºº4 5
	createdBy
ΩΩ 
:
ΩΩ 
server
ΩΩ %
.
ΩΩ% &
Id
ΩΩ& (
,
ΩΩ( )

terminalId
ææ 
:
ææ 
terminal
ææ  (
.
ææ( )
Id
ææ) +
,
ææ+ ,
shiftId
øø 
:
øø 
shift
øø "
.
øø" #
Id
øø# %
,
øø% &
orderTypeId
¿¿ 
:
¿¿  
	orderType
¿¿! *
.
¿¿* +
Id
¿¿+ -
)
¿¿- .
;
¿¿. /
if
¬¬ 
(
¬¬ 
	orderType
¬¬ 
==
¬¬  
dineIn
¬¬! '
)
¬¬' (
{
√√ 
ticket
ƒƒ 
.
ƒƒ 
SetNumberOfGuests
ƒƒ ,
(
ƒƒ, -
rng
ƒƒ- 0
.
ƒƒ0 1
Next
ƒƒ1 5
(
ƒƒ5 6
$num
ƒƒ6 7
,
ƒƒ7 8
$num
ƒƒ9 :
)
ƒƒ: ;
)
ƒƒ; <
;
ƒƒ< =
ticket
≈≈ 
.
≈≈ 
AssignTable
≈≈ &
(
≈≈& '
rng
≈≈' *
.
≈≈* +
Next
≈≈+ /
(
≈≈/ 0
$num
≈≈0 1
,
≈≈1 2
$num
≈≈3 5
)
≈≈5 6
)
≈≈6 7
;
≈≈7 8
}
∆∆ 
var
…… 
	lineCount
…… 
=
…… 
rng
……  #
.
……# $
Next
……$ (
(
……( )
$num
……) *
,
……* +
$num
……, -
)
……- .
;
……. /
for
   
(
   
var
   
l
   
=
   
$num
   
;
   
l
    !
<
  " #
	lineCount
  $ -
;
  - .
l
  / 0
++
  0 2
)
  2 3
{
ÀÀ 
var
ÃÃ 
mi
ÃÃ 
=
ÃÃ 
menu
ÃÃ !
.
ÃÃ! "
Items
ÃÃ" '
[
ÃÃ' (
rng
ÃÃ( +
.
ÃÃ+ ,
Next
ÃÃ, 0
(
ÃÃ0 1
menu
ÃÃ1 5
.
ÃÃ5 6
Items
ÃÃ6 ;
.
ÃÃ; <
Count
ÃÃ< A
)
ÃÃA B
]
ÃÃB C
;
ÃÃC D
var
ÕÕ 
line
ÕÕ 
=
ÕÕ 
	OrderLine
ÕÕ (
.
ÕÕ( )
Create
ÕÕ) /
(
ÕÕ/ 0
ticket
ŒŒ 
.
ŒŒ 
Id
ŒŒ !
,
ŒŒ! "
mi
œœ 
.
œœ 
Id
œœ 
,
œœ 
mi
–– 
.
–– 
Name
–– 
,
––  
quantity
——  
:
——  !
$num
——" #
,
——# $
	unitPrice
““ !
:
““! "
new
““# &
Money
““' ,
(
““, -
mi
““- /
.
““/ 0
Price
““0 5
.
““5 6
Amount
““6 <
,
““< =
mi
““> @
.
““@ A
Price
““A F
.
““F G
Currency
““G O
)
““O P
,
““P Q
taxRate
”” 
:
””  
$num
””! #
,
””# $
categoryName
‘‘ $
:
‘‘$ %
mi
‘‘& (
.
‘‘( )

CategoryId
‘‘) 3
.
‘‘3 4
HasValue
‘‘4 <
?
‘‘= >
menu
‘‘? C
.
‘‘C D

Categories
‘‘D N
.
‘‘N O
First
‘‘O T
(
‘‘T U
c
‘‘U V
=>
‘‘W Y
c
‘‘Z [
.
‘‘[ \
Id
‘‘\ ^
==
‘‘_ a
mi
‘‘b d
.
‘‘d e

CategoryId
‘‘e o
)
‘‘o p
.
‘‘p q
Name
‘‘q u
:
‘‘v w
null
‘‘x |
,
‘‘| }
	groupName
’’ !
:
’’! "
mi
’’# %
.
’’% &
GroupId
’’& -
.
’’- .
HasValue
’’. 6
?
’’7 8
menu
’’9 =
.
’’= >
Groups
’’> D
.
’’D E
First
’’E J
(
’’J K
g
’’K L
=>
’’M O
g
’’P Q
.
’’Q R
Id
’’R T
==
’’U W
mi
’’X Z
.
’’Z [
GroupId
’’[ b
)
’’b c
.
’’c d
Name
’’d h
:
’’i j
null
’’k o
)
’’o p
;
’’p q
line
÷÷ 
.
÷÷ 
SetPrinterGroup
÷÷ (
(
÷÷( )
mi
÷÷) +
.
÷÷+ ,
PrinterGroupId
÷÷, :
)
÷÷: ;
;
÷÷; <
ReflectionUtil
◊◊ "
.
◊◊" #
SetProperty
◊◊# .
(
◊◊. /
line
◊◊/ 3
,
◊◊3 4
$str
◊◊5 K
,
◊◊K L
true
◊◊M Q
)
◊◊Q R
;
◊◊R S
foreach
ŸŸ 
(
ŸŸ 
var
ŸŸ  
mod
ŸŸ! $
in
ŸŸ% '&
PickModifiersForMenuItem
ŸŸ( @
(
ŸŸ@ A
allModifiers
ŸŸA M
,
ŸŸM N
mi
ŸŸO Q
.
ŸŸQ R
Name
ŸŸR V
,
ŸŸV W
rng
ŸŸX [
)
ŸŸ[ \
)
ŸŸ\ ]
{
⁄⁄ 
line
€€ 
.
€€ 
AddModifier
€€ (
(
€€( )
OrderLineModifier
€€) :
.
€€: ;
Create
€€; A
(
€€A B
orderLineId
‹‹ '
:
‹‹' (
line
‹‹) -
.
‹‹- .
Id
‹‹. 0
,
‹‹0 1

modifierId
›› &
:
››& '
mod
››( +
.
››+ ,
Id
››, .
,
››. /
name
ﬁﬁ  
:
ﬁﬁ  !
mod
ﬁﬁ" %
.
ﬁﬁ% &
Name
ﬁﬁ& *
,
ﬁﬁ* +
modifierType
ﬂﬂ (
:
ﬂﬂ( )
mod
ﬂﬂ* -
.
ﬂﬂ- .
ModifierType
ﬂﬂ. :
,
ﬂﬂ: ;
	itemCount
‡‡ %
:
‡‡% &
$num
‡‡' (
,
‡‡( )
	unitPrice
·· %
:
··% &
new
··' *
Money
··+ 0
(
··0 1
mod
··1 4
.
··4 5
	BasePrice
··5 >
.
··> ?
Amount
··? E
,
··E F
mod
··G J
.
··J K
	BasePrice
··K T
.
··T U
Currency
··U ]
)
··] ^
,
··^ _
	basePrice
‚‚ %
:
‚‚% &
new
‚‚' *
Money
‚‚+ 0
(
‚‚0 1
mod
‚‚1 4
.
‚‚4 5
	BasePrice
‚‚5 >
.
‚‚> ?
Amount
‚‚? E
,
‚‚E F
mod
‚‚G J
.
‚‚J K
	BasePrice
‚‚K T
.
‚‚T U
Currency
‚‚U ]
)
‚‚] ^
,
‚‚^ _
taxRate
„„ #
:
„„# $
$num
„„% '
,
„„' (
modifierGroupId
‰‰ +
:
‰‰+ ,
mod
‰‰- 0
.
‰‰0 1
ModifierGroupId
‰‰1 @
,
‰‰@ A"
shouldPrintToKitchen
ÂÂ 0
:
ÂÂ0 1
mod
ÂÂ2 5
.
ÂÂ5 6"
ShouldPrintToKitchen
ÂÂ6 J
)
ÂÂJ K
)
ÂÂK L
;
ÂÂL M
}
ÊÊ 
ticket
ËË 
.
ËË 
AddOrderLine
ËË '
(
ËË' (
line
ËË( ,
)
ËË, -
;
ËË- .
}
ÈÈ 
if
ÏÏ 
(
ÏÏ 
i
ÏÏ 
%
ÏÏ 
$num
ÏÏ 
==
ÏÏ 
$num
ÏÏ 
)
ÏÏ 
{
ÌÌ 
var
ÓÓ 
d
ÓÓ 
=
ÓÓ 
	discounts
ÓÓ %
[
ÓÓ% &
rng
ÓÓ& )
.
ÓÓ) *
Next
ÓÓ* .
(
ÓÓ. /
	discounts
ÓÓ/ 8
.
ÓÓ8 9
Count
ÓÓ9 >
)
ÓÓ> ?
]
ÓÓ? @
;
ÓÓ@ A
var
ÔÔ 
amount
ÔÔ 
=
ÔÔ  
new
ÔÔ! $
Money
ÔÔ% *
(
ÔÔ* +
Math
ÔÔ+ /
.
ÔÔ/ 0
Min
ÔÔ0 3
(
ÔÔ3 4
$num
ÔÔ4 6
+
ÔÔ7 8
(
ÔÔ9 :
i
ÔÔ: ;
%
ÔÔ< =
$num
ÔÔ> ?
)
ÔÔ? @
,
ÔÔ@ A
ticket
ÔÔB H
.
ÔÔH I
SubtotalAmount
ÔÔI W
.
ÔÔW X
Amount
ÔÔX ^
)
ÔÔ^ _
)
ÔÔ_ `
;
ÔÔ` a
ticket
 
.
 
ApplyDiscount
 (
(
( )
TicketDiscount
) 7
.
7 8
Create
8 >
(
> ?
ticket
? E
.
E F
Id
F H
,
H I
d
J K
.
K L
Id
L N
,
N O
d
P Q
.
Q R
Name
R V
,
V W
d
X Y
.
Y Z
Type
Z ^
,
^ _
d
` a
.
a b
Value
b g
,
g h
amount
i o
)
o p
)
p q
;
q r
}
ÒÒ 
if
ÙÙ 
(
ÙÙ 
i
ÙÙ 
%
ÙÙ 
$num
ÙÙ 
==
ÙÙ 
$num
ÙÙ 
)
ÙÙ  
{
ıı 
ticket
ˆˆ 
.
ˆˆ 
SetTaxExempt
ˆˆ '
(
ˆˆ' (
true
ˆˆ( ,
)
ˆˆ, -
;
ˆˆ- .
}
˜˜ 
if
˙˙ 
(
˙˙ 
i
˙˙ 
%
˙˙ 
$num
˙˙ 
==
˙˙ 
$num
˙˙ 
)
˙˙  
{
˚˚ 
ticket
¸¸ 
.
¸¸ 
Void
¸¸ 
(
¸¸  
manager
¸¸  '
.
¸¸' (
Id
¸¸( *
,
¸¸* +
$str
¸¸, C
,
¸¸C D
waste
¸¸E J
:
¸¸J K
false
¸¸L Q
)
¸¸Q R
;
¸¸R S
batchAudits
˝˝ 
.
˝˝  
Add
˝˝  #
(
˝˝# $

AuditEvent
˝˝$ .
.
˝˝. /
Create
˝˝/ 5
(
˝˝5 6
AuditEventType
˝˝6 D
.
˝˝D E
Voided
˝˝E K
,
˝˝K L
nameof
˝˝M S
(
˝˝S T
Ticket
˝˝T Z
)
˝˝Z [
,
˝˝[ \
ticket
˝˝] c
.
˝˝c d
Id
˝˝d f
,
˝˝f g
manager
˝˝h o
.
˝˝o p
Id
˝˝p r
,
˝˝r s
$str˝˝t ã
,˝˝ã å
$str˝˝ç °
)˝˝° ¢
)˝˝¢ £
;˝˝£ §$
BackdateTicketInMemory
˛˛ *
(
˛˛* +
ticket
˛˛+ 1
,
˛˛1 2
	createdAt
˛˛3 <
)
˛˛< =
;
˛˛= >
batchTickets
ˇˇ  
.
ˇˇ  !
Add
ˇˇ! $
(
ˇˇ$ %
ticket
ˇˇ% +
)
ˇˇ+ ,
;
ˇˇ, -
continue
Ä	Ä	 
;
Ä	Ä	 
}
Å	Å	 
var
Ñ	Ñ	 
due
Ñ	Ñ	 
=
Ñ	Ñ	 
ticket
Ñ	Ñ	  
.
Ñ	Ñ	  !
TotalAmount
Ñ	Ñ	! ,
.
Ñ	Ñ	, -
Amount
Ñ	Ñ	- 3
==
Ñ	Ñ	4 6
$num
Ñ	Ñ	7 9
?
Ö	Ö	 
new
Ö	Ö	 
Money
Ö	Ö	 
(
Ö	Ö	  
$num
Ö	Ö	  #
)
Ö	Ö	# $
:
Ü	Ü	 
new
Ü	Ü	 
Money
Ü	Ü	 
(
Ü	Ü	  
ticket
Ü	Ü	  &
.
Ü	Ü	& '
TotalAmount
Ü	Ü	' 2
.
Ü	Ü	2 3
Amount
Ü	Ü	3 9
,
Ü	Ü	9 :
ticket
Ü	Ü	; A
.
Ü	Ü	A B
TotalAmount
Ü	Ü	B M
.
Ü	Ü	M N
Currency
Ü	Ü	N V
)
Ü	Ü	V W
;
Ü	Ü	W X
if
à	à	 
(
à	à	 
i
à	à	 
%
à	à	 
$num
à	à	 
==
à	à	 
$num
à	à	 
)
à	à	 
{
â	â	 
var
ä	ä	 
tender
ä	ä	 
=
ä	ä	  
new
ä	ä	! $
Money
ä	ä	% *
(
ä	ä	* +
due
ä	ä	+ .
.
ä	ä	. /
Amount
ä	ä	/ 5
+
ä	ä	6 7
rng
ä	ä	8 ;
.
ä	ä	; <
Next
ä	ä	< @
(
ä	ä	@ A
$num
ä	ä	A B
,
ä	ä	B C
$num
ä	ä	D E
)
ä	ä	E F
)
ä	ä	F G
;
ä	ä	G H
var
ã	ã	 
pay
ã	ã	 
=
ã	ã	 
CashPayment
ã	ã	 )
.
ã	ã	) *
Create
ã	ã	* 0
(
ã	ã	0 1
ticket
ã	ã	1 7
.
ã	ã	7 8
Id
ã	ã	8 :
,
ã	ã	: ;
due
ã	ã	< ?
,
ã	ã	? @
cashier
ã	ã	A H
.
ã	ã	H I
Id
ã	ã	I K
,
ã	ã	K L
terminal
ã	ã	M U
.
ã	ã	U V
Id
ã	ã	V X
)
ã	ã	X Y
;
ã	ã	Y Z
ReflectionUtil
å	å	 "
.
å	å	" #
SetProperty
å	å	# .
(
å	å	. /
pay
å	å	/ 2
,
å	å	2 3
$str
å	å	4 B
,
å	å	B C
tender
å	å	D J
)
å	å	J K
;
å	å	K L
ReflectionUtil
ç	ç	 "
.
ç	ç	" #
SetProperty
ç	ç	# .
(
ç	ç	. /
pay
ç	ç	/ 2
,
ç	ç	2 3
$str
ç	ç	4 B
,
ç	ç	B C
new
ç	ç	D G
Money
ç	ç	H M
(
ç	ç	M N
tender
ç	ç	N T
.
ç	ç	T U
Amount
ç	ç	U [
-
ç	ç	\ ]
due
ç	ç	^ a
.
ç	ç	a b
Amount
ç	ç	b h
)
ç	ç	h i
)
ç	ç	i j
;
ç	ç	j k
ReflectionUtil
é	é	 "
.
é	é	" #
SetProperty
é	é	# .
(
é	é	. /
pay
é	é	/ 2
,
é	é	2 3
$str
é	é	4 C
,
é	é	C D
openCashSession
é	é	E T
.
é	é	T U
Id
é	é	U W
)
é	é	W X
;
é	é	X Y
ticket
è	è	 
.
è	è	 

AddPayment
è	è	 %
(
è	è	% &
pay
è	è	& )
)
è	è	) *
;
è	è	* +
}
ê	ê	 
else
ë	ë	 
if
ë	ë	 
(
ë	ë	 
i
ë	ë	 
%
ë	ë	 
$num
ë	ë	 
==
ë	ë	 !
$num
ë	ë	" #
)
ë	ë	# $
{
í	í	 
var
ì	ì	 
first
ì	ì	 
=
ì	ì	 
new
ì	ì	  #
Money
ì	ì	$ )
(
ì	ì	) *
Math
ì	ì	* .
.
ì	ì	. /
Round
ì	ì	/ 4
(
ì	ì	4 5
due
ì	ì	5 8
.
ì	ì	8 9
Amount
ì	ì	9 ?
*
ì	ì	@ A
$num
ì	ì	B F
,
ì	ì	F G
$num
ì	ì	H I
)
ì	ì	I J
)
ì	ì	J K
;
ì	ì	K L
var
î	î	 
second
î	î	 
=
î	î	  
new
î	î	! $
Money
î	î	% *
(
î	î	* +
due
î	î	+ .
.
î	î	. /
Amount
î	î	/ 5
-
î	î	6 7
first
î	î	8 =
.
î	î	= >
Amount
î	î	> D
)
î	î	D E
;
î	î	E F
var
ñ	ñ	 
cash
ñ	ñ	 
=
ñ	ñ	 
CashPayment
ñ	ñ	 *
.
ñ	ñ	* +
Create
ñ	ñ	+ 1
(
ñ	ñ	1 2
ticket
ñ	ñ	2 8
.
ñ	ñ	8 9
Id
ñ	ñ	9 ;
,
ñ	ñ	; <
first
ñ	ñ	= B
,
ñ	ñ	B C
cashier
ñ	ñ	D K
.
ñ	ñ	K L
Id
ñ	ñ	L N
,
ñ	ñ	N O
terminal
ñ	ñ	P X
.
ñ	ñ	X Y
Id
ñ	ñ	Y [
)
ñ	ñ	[ \
;
ñ	ñ	\ ]
ReflectionUtil
ó	ó	 "
.
ó	ó	" #
SetProperty
ó	ó	# .
(
ó	ó	. /
cash
ó	ó	/ 3
,
ó	ó	3 4
$str
ó	ó	5 C
,
ó	ó	C D
new
ó	ó	E H
Money
ó	ó	I N
(
ó	ó	N O
first
ó	ó	O T
.
ó	ó	T U
Amount
ó	ó	U [
,
ó	ó	[ \
first
ó	ó	] b
.
ó	ó	b c
Currency
ó	ó	c k
)
ó	ó	k l
)
ó	ó	l m
;
ó	ó	m n
ReflectionUtil
ò	ò	 "
.
ò	ò	" #
SetProperty
ò	ò	# .
(
ò	ò	. /
cash
ò	ò	/ 3
,
ò	ò	3 4
$str
ò	ò	5 C
,
ò	ò	C D
Money
ò	ò	E J
.
ò	ò	J K
Zero
ò	ò	K O
(
ò	ò	O P
)
ò	ò	P Q
)
ò	ò	Q R
;
ò	ò	R S
ReflectionUtil
ô	ô	 "
.
ô	ô	" #
SetProperty
ô	ô	# .
(
ô	ô	. /
cash
ô	ô	/ 3
,
ô	ô	3 4
$str
ô	ô	5 D
,
ô	ô	D E
openCashSession
ô	ô	F U
.
ô	ô	U V
Id
ô	ô	V X
)
ô	ô	X Y
;
ô	ô	Y Z
ticket
ö	ö	 
.
ö	ö	 

AddPayment
ö	ö	 %
(
ö	ö	% &
cash
ö	ö	& *
)
ö	ö	* +
;
ö	ö	+ ,
var
ú	ú	 
cc
ú	ú	 
=
ú	ú	 
CreditCardPayment
ú	ú	 .
.
ú	ú	. /
Create
ú	ú	/ 5
(
ú	ú	5 6
ticket
ú	ú	6 <
.
ú	ú	< =
Id
ú	ú	= ?
,
ú	ú	? @
second
ú	ú	A G
,
ú	ú	G H
cashier
ú	ú	I P
.
ú	ú	P Q
Id
ú	ú	Q S
,
ú	ú	S T
terminal
ú	ú	U ]
.
ú	ú	] ^
Id
ú	ú	^ `
,
ú	ú	` a

cardNumber
ú	ú	b l
:
ú	ú	l m
$strú	ú	n Ä
,ú	ú	Ä Å
cardHolderNameú	ú	Ç ê
:ú	ú	ê ë
$strú	ú	í ù
,ú	ú	ù û
globalIdú	ú	ü ß
:ú	ú	ß ®
nullú	ú	© ≠
)ú	ú	≠ Æ
;ú	ú	Æ Ø
cc
ù	ù	 
.
ù	ù	 
	Authorize
ù	ù	  
(
ù	ù	  !
$"
ù	ù	! #
$str
ù	ù	# $
{
ù	ù	$ %
rng
ù	ù	% (
.
ù	ù	( )
Next
ù	ù	) -
(
ù	ù	- .
$num
ù	ù	. 4
,
ù	ù	4 5
$num
ù	ù	6 <
)
ù	ù	< =
}
ù	ù	= >
"
ù	ù	> ?
,
ù	ù	? @
referenceNumber
ù	ù	A P
:
ù	ù	P Q
$"
ù	ù	R T
$str
ù	ù	T U
{
ù	ù	U V
rng
ù	ù	V Y
.
ù	ù	Y Z
Next
ù	ù	Z ^
(
ù	ù	^ _
$num
ù	ù	_ e
,
ù	ù	e f
$num
ù	ù	g m
)
ù	ù	m n
}
ù	ù	n o
"
ù	ù	o p
,
ù	ù	p q
cardType
ù	ù	r z
:
ù	ù	z {
$strù	ù	| Ç
)ù	ù	Ç É
;ù	ù	É Ñ
cc
û	û	 
.
û	û	 
Capture
û	û	 
(
û	û	 
)
û	û	  
;
û	û	  !
if
ü	ü	 
(
ü	ü	 
i
ü	ü	 
%
ü	ü	 
$num
ü	ü	 
==
ü	ü	 !
$num
ü	ü	" #
)
ü	ü	# $
cc
ü	ü	% '
.
ü	ü	' (
AddTips
ü	ü	( /
(
ü	ü	/ 0
new
ü	ü	0 3
Money
ü	ü	4 9
(
ü	ü	9 :
$num
ü	ü	: <
)
ü	ü	< =
)
ü	ü	= >
;
ü	ü	> ?
ticket
†	†	 
.
†	†	 

AddPayment
†	†	 %
(
†	†	% &
cc
†	†	& (
)
†	†	( )
;
†	†	) *
}
°	°	 
else
¢	¢	 
{
£	£	 
var
§	§	 
cc
§	§	 
=
§	§	 
CreditCardPayment
§	§	 .
.
§	§	. /
Create
§	§	/ 5
(
§	§	5 6
ticket
§	§	6 <
.
§	§	< =
Id
§	§	= ?
,
§	§	? @
due
§	§	A D
,
§	§	D E
cashier
§	§	F M
.
§	§	M N
Id
§	§	N P
,
§	§	P Q
terminal
§	§	R Z
.
§	§	Z [
Id
§	§	[ ]
,
§	§	] ^

cardNumber
§	§	_ i
:
§	§	i j
$str
§	§	k }
,
§	§	} ~
cardHolderName§	§	 ç
:§	§	ç é
$str§	§	è ö
,§	§	ö õ
globalId§	§	ú §
:§	§	§ •
null§	§	¶ ™
)§	§	™ ´
;§	§	´ ¨
cc
•	•	 
.
•	•	 
	Authorize
•	•	  
(
•	•	  !
$"
•	•	! #
$str
•	•	# $
{
•	•	$ %
rng
•	•	% (
.
•	•	( )
Next
•	•	) -
(
•	•	- .
$num
•	•	. 4
,
•	•	4 5
$num
•	•	6 <
)
•	•	< =
}
•	•	= >
"
•	•	> ?
,
•	•	? @
referenceNumber
•	•	A P
:
•	•	P Q
$"
•	•	R T
$str
•	•	T U
{
•	•	U V
rng
•	•	V Y
.
•	•	Y Z
Next
•	•	Z ^
(
•	•	^ _
$num
•	•	_ e
,
•	•	e f
$num
•	•	g m
)
•	•	m n
}
•	•	n o
"
•	•	o p
,
•	•	p q
cardType
•	•	r z
:
•	•	z {
$str•	•	| Ä
)•	•	Ä Å
;•	•	Å Ç
cc
¶	¶	 
.
¶	¶	 
Capture
¶	¶	 
(
¶	¶	 
)
¶	¶	  
;
¶	¶	  !
if
ß	ß	 
(
ß	ß	 
i
ß	ß	 
%
ß	ß	 
$num
ß	ß	 
==
ß	ß	  
$num
ß	ß	! "
)
ß	ß	" #
cc
ß	ß	$ &
.
ß	ß	& '
AddTips
ß	ß	' .
(
ß	ß	. /
new
ß	ß	/ 2
Money
ß	ß	3 8
(
ß	ß	8 9
$num
ß	ß	9 ;
)
ß	ß	; <
)
ß	ß	< =
;
ß	ß	= >
ticket
®	®	 
.
®	®	 

AddPayment
®	®	 %
(
®	®	% &
cc
®	®	& (
)
®	®	( )
;
®	®	) *
}
©	©	 
if
´	´	 
(
´	´	 
ticket
´	´	 
.
´	´	 
Status
´	´	 !
==
´	´	" $
TicketStatus
´	´	% 1
.
´	´	1 2
Paid
´	´	2 6
)
´	´	6 7
{
¨	¨	 
ticket
≠	≠	 
.
≠	≠	 
Close
≠	≠	  
(
≠	≠	  !
cashier
≠	≠	! (
.
≠	≠	( )
Id
≠	≠	) +
)
≠	≠	+ ,
;
≠	≠	, -
}
Æ	Æ	 
if
±	±	 
(
±	±	 
ticket
±	±	 
.
±	±	 

OrderLines
±	±	 %
.
±	±	% &
Any
±	±	& )
(
±	±	) *
)
±	±	* +
&&
±	±	, .
i
±	±	/ 0
%
±	±	1 2
$num
±	±	3 4
==
±	±	5 7
$num
±	±	8 9
)
±	±	9 :
{
≤	≤	 
var
≥	≥	 
ko
≥	≥	 
=
≥	≥	 
new
≥	≥	  
KitchenOrder
≥	≥	! -
(
≥	≥	- .
ticket
≥	≥	. 4
.
≥	≥	4 5
Id
≥	≥	5 7
,
≥	≥	7 8
$"
≥	≥	9 ;
{
≥	≥	; <
server
≥	≥	< B
.
≥	≥	B C
	FirstName
≥	≥	C L
}
≥	≥	L M
$str
≥	≥	M N
{
≥	≥	N O
server
≥	≥	O U
.
≥	≥	U V
LastName
≥	≥	V ^
}
≥	≥	^ _
"
≥	≥	_ `
,
≥	≥	` a
ticket
≥	≥	b h
.
≥	≥	h i
TableNumbers
≥	≥	i u
.
≥	≥	u v
Any
≥	≥	v y
(
≥	≥	y z
)
≥	≥	z {
?
≥	≥	| }
ticket≥	≥	~ Ñ
.≥	≥	Ñ Ö
TableNumbers≥	≥	Ö ë
.≥	≥	ë í
First≥	≥	í ó
(≥	≥	ó ò
)≥	≥	ò ô
.≥	≥	ô ö
ToString≥	≥	ö ¢
(≥	≥	¢ £
)≥	≥	£ §
:≥	≥	• ¶
$str≥	≥	ß ≠
)≥	≥	≠ Æ
;≥	≥	Æ Ø
foreach
¥	¥	 
(
¥	¥	 
var
¥	¥	  
ol
¥	¥	! #
in
¥	¥	$ &
ticket
¥	¥	' -
.
¥	¥	- .

OrderLines
¥	¥	. 8
.
¥	¥	8 9
Where
¥	¥	9 >
(
¥	¥	> ?
x
¥	¥	? @
=>
¥	¥	A C
x
¥	¥	D E
.
¥	¥	E F"
ShouldPrintToKitchen
¥	¥	F Z
)
¥	¥	Z [
)
¥	¥	[ \
{
µ	µ	 
ko
∂	∂	 
.
∂	∂	 
AddItem
∂	∂	 "
(
∂	∂	" #
ol
∂	∂	# %
.
∂	∂	% &
Id
∂	∂	& (
,
∂	∂	( )
ol
∂	∂	* ,
.
∂	∂	, -
MenuItemName
∂	∂	- 9
,
∂	∂	9 :
(
∂	∂	; <
int
∂	∂	< ?
)
∂	∂	? @
Math
∂	∂	@ D
.
∂	∂	D E
Ceiling
∂	∂	E L
(
∂	∂	L M
ol
∂	∂	M O
.
∂	∂	O P
Quantity
∂	∂	P X
)
∂	∂	X Y
,
∂	∂	Y Z
ol
∂	∂	[ ]
.
∂	∂	] ^
PrinterGroupId
∂	∂	^ l
??
∂	∂	m o
Guid
∂	∂	p t
.
∂	∂	t u
Empty
∂	∂	u z
,
∂	∂	z {
ol
∂	∂	| ~
.
∂	∂	~ 
	Modifiers∂	∂	 à
.∂	∂	à â
Select∂	∂	â è
(∂	∂	è ê
m∂	∂	ê ë
=>∂	∂	í î
m∂	∂	ï ñ
.∂	∂	ñ ó
Name∂	∂	ó õ
)∂	∂	õ ú
.∂	∂	ú ù
ToList∂	∂	ù £
(∂	∂	£ §
)∂	∂	§ •
)∂	∂	• ¶
;∂	∂	¶ ß
}
∑	∑	 
if
∏	∏	 
(
∏	∏	 
i
∏	∏	 
%
∏	∏	 
$num
∏	∏	 
==
∏	∏	  
$num
∏	∏	! "
)
∏	∏	" #
ko
∏	∏	$ &
.
∏	∏	& '
Bump
∏	∏	' +
(
∏	∏	+ ,
)
∏	∏	, -
;
∏	∏	- .
if
π	π	 
(
π	π	 
i
π	π	 
%
π	π	 
$num
π	π	 
==
π	π	 !
$num
π	π	" #
)
π	π	# $
ko
π	π	% '
.
π	π	' (
Bump
π	π	( ,
(
π	π	, -
)
π	π	- .
;
π	π	. /
if
∫	∫	 
(
∫	∫	 
i
∫	∫	 
%
∫	∫	 
$num
∫	∫	 
==
∫	∫	 !
$num
∫	∫	" #
)
∫	∫	# $
ko
∫	∫	% '
.
∫	∫	' (
Void
∫	∫	( ,
(
∫	∫	, -
)
∫	∫	- .
;
∫	∫	. /
ReflectionUtil
ª	ª	 "
.
ª	ª	" #
SetProperty
ª	ª	# .
(
ª	ª	. /
ko
ª	ª	/ 1
,
ª	ª	1 2
$str
ª	ª	3 >
,
ª	ª	> ?
	createdAt
ª	ª	@ I
)
ª	ª	I J
;
ª	ª	J K 
batchKitchenOrders
º	º	 &
.
º	º	& '
Add
º	º	' *
(
º	º	* +
ko
º	º	+ -
)
º	º	- .
;
º	º	. /$
batchKitchenOrderItems
Ω	Ω	 *
.
Ω	Ω	* +
AddRange
Ω	Ω	+ 3
(
Ω	Ω	3 4
ko
Ω	Ω	4 6
.
Ω	Ω	6 7
Items
Ω	Ω	7 <
)
Ω	Ω	< =
;
Ω	Ω	= >
}
æ	æ	 
if
¡	¡	 
(
¡	¡	 
ticket
¡	¡	 
.
¡	¡	 
Payments
¡	¡	 #
.
¡	¡	# $
Any
¡	¡	$ '
(
¡	¡	' (
p
¡	¡	( )
=>
¡	¡	* ,
!
¡	¡	- .
p
¡	¡	. /
.
¡	¡	/ 0
IsVoided
¡	¡	0 8
&&
¡	¡	9 ;
p
¡	¡	< =
.
¡	¡	= >
TransactionType
¡	¡	> M
==
¡	¡	N P
TransactionType
¡	¡	Q `
.
¡	¡	` a
Credit
¡	¡	a g
)
¡	¡	g h
&&
¡	¡	i k
i
¡	¡	l m
%
¡	¡	n o
$num
¡	¡	p r
==
¡	¡	s u
$num
¡	¡	v w
&&
¡	¡	x z
ticket¡	¡	{ Å
.¡	¡	Å Ç
Status¡	¡	Ç à
==¡	¡	â ã
TicketStatus¡	¡	å ò
.¡	¡	ò ô
Closed¡	¡	ô ü
)¡	¡	ü †
{
¬	¬	 
var
√	√	 
original
√	√	  
=
√	√	! "
ticket
√	√	# )
.
√	√	) *
Payments
√	√	* 2
.
√	√	2 3
First
√	√	3 8
(
√	√	8 9
p
√	√	9 :
=>
√	√	; =
!
√	√	> ?
p
√	√	? @
.
√	√	@ A
IsVoided
√	√	A I
&&
√	√	J L
p
√	√	M N
.
√	√	N O
TransactionType
√	√	O ^
==
√	√	_ a
TransactionType
√	√	b q
.
√	√	q r
Credit
√	√	r x
)
√	√	x y
;
√	√	y z
var
ƒ	ƒ	 
refund
ƒ	ƒ	 
=
ƒ	ƒ	  
Payment
ƒ	ƒ	! (
.
ƒ	ƒ	( )
CreateRefund
ƒ	ƒ	) 5
(
ƒ	ƒ	5 6
original
ƒ	ƒ	6 >
,
ƒ	ƒ	> ?
new
ƒ	ƒ	@ C
Money
ƒ	ƒ	D I
(
ƒ	ƒ	I J
Math
ƒ	ƒ	J N
.
ƒ	ƒ	N O
Min
ƒ	ƒ	O R
(
ƒ	ƒ	R S
$num
ƒ	ƒ	S U
,
ƒ	ƒ	U V
original
ƒ	ƒ	W _
.
ƒ	ƒ	_ `
Amount
ƒ	ƒ	` f
.
ƒ	ƒ	f g
Amount
ƒ	ƒ	g m
)
ƒ	ƒ	m n
)
ƒ	ƒ	n o
,
ƒ	ƒ	o p
manager
ƒ	ƒ	q x
.
ƒ	ƒ	x y
Id
ƒ	ƒ	y {
,
ƒ	ƒ	{ |
terminalƒ	ƒ	} Ö
.ƒ	ƒ	Ö Ü
Idƒ	ƒ	Ü à
,ƒ	ƒ	à â
reasonƒ	ƒ	ä ê
:ƒ	ƒ	ê ë
$strƒ	ƒ	í ü
)ƒ	ƒ	ü †
;ƒ	ƒ	† °
ticket
≈	≈	 
.
≈	≈	 
ProcessRefund
≈	≈	 (
(
≈	≈	( )
refund
≈	≈	) /
)
≈	≈	/ 0
;
≈	≈	0 1
batchAudits
∆	∆	 
.
∆	∆	  
Add
∆	∆	  #
(
∆	∆	# $

AuditEvent
∆	∆	$ .
.
∆	∆	. /
Create
∆	∆	/ 5
(
∆	∆	5 6
AuditEventType
∆	∆	6 D
.
∆	∆	D E
RefundProcessed
∆	∆	E T
,
∆	∆	T U
nameof
∆	∆	V \
(
∆	∆	\ ]
Payment
∆	∆	] d
)
∆	∆	d e
,
∆	∆	e f
refund
∆	∆	g m
.
∆	∆	m n
Id
∆	∆	n p
,
∆	∆	p q
manager
∆	∆	r y
.
∆	∆	y z
Id
∆	∆	z |
,
∆	∆	| }
$str∆	∆	~ ó
,∆	∆	ó ò
$str∆	∆	ô Æ
)∆	∆	Æ Ø
)∆	∆	Ø ∞
;∆	∆	∞ ±
}
«	«	 $
BackdateTicketInMemory
 	 	 &
(
 	 	& '
ticket
 	 	' -
,
 	 	- .
	createdAt
 	 	/ 8
)
 	 	8 9
;
 	 	9 :
foreach
À	À	 
(
À	À	 
var
À	À	 
p
À	À	 
in
À	À	 !
ticket
À	À	" (
.
À	À	( )
Payments
À	À	) 1
)
À	À	1 2
{
Ã	Ã	 
ReflectionUtil
Õ	Õ	 "
.
Õ	Õ	" #
SetProperty
Õ	Õ	# .
(
Õ	Õ	. /
p
Õ	Õ	/ 0
,
Õ	Õ	0 1
$str
Õ	Õ	2 C
,
Õ	Õ	C D
	createdAt
Õ	Õ	E N
.
Õ	Õ	N O

AddMinutes
Õ	Õ	O Y
(
Õ	Õ	Y Z
rng
Õ	Õ	Z ]
.
Õ	Õ	] ^
Next
Õ	Õ	^ b
(
Õ	Õ	b c
$num
Õ	Õ	c d
,
Õ	Õ	d e
$num
Õ	Õ	f h
)
Õ	Õ	h i
)
Õ	Õ	i j
)
Õ	Õ	j k
;
Õ	Õ	k l
}
Œ	Œ	 
batchTickets
–	–	 
.
–	–	 
Add
–	–	  
(
–	–	  !
ticket
–	–	! '
)
–	–	' (
;
–	–	( )
}
—	—	 
db
”	”	 
.
”	”	 
Tickets
”	”	 
.
”	”	 
AddRange
”	”	 
(
”	”	  
batchTickets
”	”	  ,
)
”	”	, -
;
”	”	- .
db
‘	‘	 
.
‘	‘	 
KitchenOrders
‘	‘	 
.
‘	‘	 
AddRange
‘	‘	 %
(
‘	‘	% & 
batchKitchenOrders
‘	‘	& 8
)
‘	‘	8 9
;
‘	‘	9 :
db
’	’	 
.
’	’	 
KitchenOrderItems
’	’	  
.
’	’	  !
AddRange
’	’	! )
(
’	’	) *$
batchKitchenOrderItems
’	’	* @
)
’	’	@ A
;
’	’	A B
db
÷	÷	 
.
÷	÷	 
AuditEvents
÷	÷	 
.
÷	÷	 
AddRange
÷	÷	 #
(
÷	÷	# $
batchAudits
÷	÷	$ /
)
÷	÷	/ 0
;
÷	÷	0 1
await
◊	◊	 
db
◊	◊	 
.
◊	◊	 
SaveChangesAsync
◊	◊	 %
(
◊	◊	% &
cancellationToken
◊	◊	& 7
)
◊	◊	7 8
;
◊	◊	8 9
}
ÿ	ÿ	 	
return
⁄	⁄	 
nextTicketNumber
⁄	⁄	 
;
⁄	⁄	  
}
€	€	 
private
›	›	 
static
›	›	 
void
›	›	 $
BackdateTicketInMemory
›	›	 .
(
›	›	. /
Ticket
›	›	/ 5
ticket
›	›	6 <
,
›	›	< =
DateTime
›	›	> F
	createdAt
›	›	G P
)
›	›	P Q
{
ﬁ	ﬁ	 
ReflectionUtil
ﬂ	ﬂ	 
.
ﬂ	ﬂ	 
SetProperty
ﬂ	ﬂ	 "
(
ﬂ	ﬂ	" #
ticket
ﬂ	ﬂ	# )
,
ﬂ	ﬂ	) *
$str
ﬂ	ﬂ	+ 6
,
ﬂ	ﬂ	6 7
	createdAt
ﬂ	ﬂ	8 A
)
ﬂ	ﬂ	A B
;
ﬂ	ﬂ	B C
ReflectionUtil
‡	‡	 
.
‡	‡	 
SetProperty
‡	‡	 "
(
‡	‡	" #
ticket
‡	‡	# )
,
‡	‡	) *
$str
‡	‡	+ 5
,
‡	‡	5 6
ticket
‡	‡	7 =
.
‡	‡	= >
Status
‡	‡	> D
==
‡	‡	E G
TicketStatus
‡	‡	H T
.
‡	‡	T U
Draft
‡	‡	U Z
?
‡	‡	[ \
null
‡	‡	] a
:
‡	‡	b c
	createdAt
‡	‡	d m
.
‡	‡	m n

AddMinutes
‡	‡	n x
(
‡	‡	x y
$num
‡	‡	y z
)
‡	‡	z {
)
‡	‡	{ |
;
‡	‡	| }
ReflectionUtil
·	·	 
.
·	·	 
SetProperty
·	·	 "
(
·	·	" #
ticket
·	·	# )
,
·	·	) *
$str
·	·	+ 5
,
·	·	5 6
ticket
·	·	7 =
.
·	·	= >
Status
·	·	> D
==
·	·	E G
TicketStatus
·	·	H T
.
·	·	T U
Closed
·	·	U [
?
·	·	\ ]
	createdAt
·	·	^ g
.
·	·	g h

AddMinutes
·	·	h r
(
·	·	r s
$num
·	·	s u
)
·	·	u v
:
·	·	w x
null
·	·	y }
)
·	·	} ~
;
·	·	~ 
ReflectionUtil
‚	‚	 
.
‚	‚	 
SetProperty
‚	‚	 "
(
‚	‚	" #
ticket
‚	‚	# )
,
‚	‚	) *
$str
‚	‚	+ 7
,
‚	‚	7 8
	createdAt
‚	‚	9 B
)
‚	‚	B C
;
‚	‚	C D
}
„	„	 
private
Â	Â	 
static
Â	Â	 
async
Â	Â	 
Task
Â	Â	 '
SeedTodayOpenTicketsAsync
Â	Â	 7
(
Â	Â	7 8
Random
Ê	Ê	 
rng
Ê	Ê	 
,
Ê	Ê	 
ICommandHandler
Á	Á	 
<
Á	Á	 !
CreateTicketCommand
Á	Á	 +
,
Á	Á	+ , 
CreateTicketResult
Á	Á	- ?
>
Á	Á	? @
createTicket
Á	Á	A M
,
Á	Á	M N
ICommandHandler
Ë	Ë	 
<
Ë	Ë	 !
AddOrderLineCommand
Ë	Ë	 +
,
Ë	Ë	+ , 
AddOrderLineResult
Ë	Ë	- ?
>
Ë	Ë	? @
addOrderLine
Ë	Ë	A M
,
Ë	Ë	M N
ICommandHandler
È	È	 
<
È	È	 $
ModifyOrderLineCommand
È	È	 .
>
È	È	. /
modifyOrderLine
È	È	0 ?
,
È	È	? @
ITicketRepository
Í	Í	 

ticketRepo
Í	Í	 $
,
Í	Í	$ %"
ApplicationDbContext
Î	Î	 
db
Î	Î	 
,
Î	Î	  
MenuSeed
Ï	Ï	 
menu
Ï	Ï	 
,
Ï	Ï	 
List
Ì	Ì	 
<
Ì	Ì	 
MenuModifier
Ì	Ì	 
>
Ì	Ì	 
allModifiers
Ì	Ì	 '
,
Ì	Ì	' (

Dictionary
Ó	Ó	 
<
Ó	Ó	 
string
Ó	Ó	 
,
Ó	Ó	 
	OrderType
Ó	Ó	 $
>
Ó	Ó	$ %

orderTypes
Ó	Ó	& 0
,
Ó	Ó	0 1

Dictionary
Ô	Ô	 
<
Ô	Ô	 
string
Ô	Ô	 
,
Ô	Ô	 
Shift
Ô	Ô	  
>
Ô	Ô	  !
shifts
Ô	Ô	" (
,
Ô	Ô	( )

Dictionary
		 
<
		 
string
		 
,
		 
Terminal
		 #
>
		# $
	terminals
		% .
,
		. /

Dictionary
Ò	Ò	 
<
Ò	Ò	 
string
Ò	Ò	 
,
Ò	Ò	 
User
Ò	Ò	 
>
Ò	Ò	  
users
Ò	Ò	! &
,
Ò	Ò	& '
List
Ú	Ú	 
<
Ú	Ú	 
Discount
Ú	Ú	 
>
Ú	Ú	 
	discounts
Ú	Ú	  
,
Ú	Ú	  !
CancellationToken
Û	Û	 
cancellationToken
Û	Û	 +
)
Û	Û	+ ,
{
Ù	Ù	 
var
ı	ı	 
server
ı	ı	 
=
ı	ı	 
users
ı	ı	 
[
ı	ı	 
$str
ı	ı	 #
]
ı	ı	# $
;
ı	ı	$ %
var
ˆ	ˆ	 
shift
ˆ	ˆ	 
=
ˆ	ˆ	 
shifts
ˆ	ˆ	 
[
ˆ	ˆ	 
$str
ˆ	ˆ	 #
]
ˆ	ˆ	# $
;
ˆ	ˆ	$ %
var
˜	˜	 
terminal
˜	˜	 
=
˜	˜	 
	terminals
˜	˜	  
[
˜	˜	  !
$str
˜	˜	! ,
]
˜	˜	, -
;
˜	˜	- .
var
¯	¯	 
dineIn
¯	¯	 
=
¯	¯	 

orderTypes
¯	¯	 
[
¯	¯	  
$str
¯	¯	  )
]
¯	¯	) *
;
¯	¯	* +
var
˙	˙	 
pizzas
˙	˙	 
=
˙	˙	 
menu
˙	˙	 
.
˙	˙	 
Items
˙	˙	 
.
˙	˙	  
Where
˙	˙	  %
(
˙	˙	% &
i
˙	˙	& '
=>
˙	˙	( *
i
˙	˙	+ ,
.
˙	˙	, -
Name
˙	˙	- 1
.
˙	˙	1 2
Contains
˙	˙	2 :
(
˙	˙	: ;
$str
˙	˙	; B
,
˙	˙	B C
StringComparison
˙	˙	D T
.
˙	˙	T U
OrdinalIgnoreCase
˙	˙	U f
)
˙	˙	f g
)
˙	˙	g h
.
˙	˙	h i
ToList
˙	˙	i o
(
˙	˙	o p
)
˙	˙	p q
;
˙	˙	q r
var
˚	˚	 
burgers
˚	˚	 
=
˚	˚	 
menu
˚	˚	 
.
˚	˚	 
Items
˚	˚	  
.
˚	˚	  !
Where
˚	˚	! &
(
˚	˚	& '
i
˚	˚	' (
=>
˚	˚	) +
i
˚	˚	, -
.
˚	˚	- .

CategoryId
˚	˚	. 8
==
˚	˚	9 ;
menu
˚	˚	< @
.
˚	˚	@ A

Categories
˚	˚	A K
.
˚	˚	K L
First
˚	˚	L Q
(
˚	˚	Q R
c
˚	˚	R S
=>
˚	˚	T V
c
˚	˚	W X
.
˚	˚	X Y
Name
˚	˚	Y ]
==
˚	˚	^ `
$str
˚	˚	a j
)
˚	˚	j k
.
˚	˚	k l
Id
˚	˚	l n
)
˚	˚	n o
.
˚	˚	o p
ToList
˚	˚	p v
(
˚	˚	v w
)
˚	˚	w x
;
˚	˚	x y
var
¸	¸	 
drinks
¸	¸	 
=
¸	¸	 
menu
¸	¸	 
.
¸	¸	 
Items
¸	¸	 
.
¸	¸	  
Where
¸	¸	  %
(
¸	¸	% &
i
¸	¸	& '
=>
¸	¸	( *
i
¸	¸	+ ,
.
¸	¸	, -

CategoryId
¸	¸	- 7
==
¸	¸	8 :
menu
¸	¸	; ?
.
¸	¸	? @

Categories
¸	¸	@ J
.
¸	¸	J K
First
¸	¸	K P
(
¸	¸	P Q
c
¸	¸	Q R
=>
¸	¸	S U
c
¸	¸	V W
.
¸	¸	W X
Name
¸	¸	X \
==
¸	¸	] _
$str
¸	¸	` h
)
¸	¸	h i
.
¸	¸	i j
Id
¸	¸	j l
)
¸	¸	l m
.
¸	¸	m n
ToList
¸	¸	n t
(
¸	¸	t u
)
¸	¸	u v
;
¸	¸	v w
for
˛	˛	 
(
˛	˛	 
var
˛	˛	 
i
˛	˛	 
=
˛	˛	 
$num
˛	˛	 
;
˛	˛	 
i
˛	˛	 
<
˛	˛	 
$num
˛	˛	 
;
˛	˛	 
i
˛	˛	  !
++
˛	˛	! #
)
˛	˛	# $
{
ˇ	ˇ	 	
var
Ä
Ä
 
table
Ä
Ä
 
=
Ä
Ä
 
$num
Ä
Ä
 
+
Ä
Ä
 
(
Ä
Ä
 
i
Ä
Ä
 
%
Ä
Ä
  
$num
Ä
Ä
! #
)
Ä
Ä
# $
;
Ä
Ä
$ %
var
Å
Å
 
ticketId
Å
Å
 
=
Å
Å
 
(
Å
Å
 
await
Å
Å
 !
createTicket
Å
Å
" .
.
Å
Å
. /
HandleAsync
Å
Å
/ :
(
Å
Å
: ;
new
Å
Å
; >!
CreateTicketCommand
Å
Å
? R
{
Ç
Ç
 
	CreatedBy
É
É
 
=
É
É
 
server
É
É
 "
.
É
É
" #
Id
É
É
# %
,
É
É
% &

TerminalId
Ñ
Ñ
 
=
Ñ
Ñ
 
terminal
Ñ
Ñ
 %
.
Ñ
Ñ
% &
Id
Ñ
Ñ
& (
,
Ñ
Ñ
( )
ShiftId
Ö
Ö
 
=
Ö
Ö
 
shift
Ö
Ö
 
.
Ö
Ö
  
Id
Ö
Ö
  "
,
Ö
Ö
" #
OrderTypeId
Ü
Ü
 
=
Ü
Ü
 
dineIn
Ü
Ü
 $
.
Ü
Ü
$ %
Id
Ü
Ü
% '
,
Ü
Ü
' (
NumberOfGuests
á
á
 
=
á
á
  
rng
á
á
! $
.
á
á
$ %
Next
á
á
% )
(
á
á
) *
$num
á
á
* +
,
á
á
+ ,
$num
á
á
- .
)
á
á
. /
,
á
á
/ 0
TableNumbers
à
à
 
=
à
à
 
new
à
à
 "
List
à
à
# '
<
à
à
' (
int
à
à
( +
>
à
à
+ ,
{
à
à
- .
table
à
à
/ 4
}
à
à
5 6
}
â
â
 
,
â
â
 
cancellationToken
â
â
  
)
â
â
  !
)
â
â
! "
.
â
â
" #
TicketId
â
â
# +
;
â
â
+ ,
db
è
è
 
.
è
è
 
ChangeTracker
è
è
 
.
è
è
 
Clear
è
è
 "
(
è
è
" #
)
è
è
# $
;
è
è
$ %
var
í
í
 
	lineCount
í
í
 
=
í
í
 
rng
í
í
 
.
í
í
  
Next
í
í
  $
(
í
í
$ %
$num
í
í
% &
,
í
í
& '
$num
í
í
( )
)
í
í
) *
;
í
í
* +
for
ì
ì
 
(
ì
ì
 
var
ì
ì
 
l
ì
ì
 
=
ì
ì
 
$num
ì
ì
 
;
ì
ì
 
l
ì
ì
 
<
ì
ì
 
	lineCount
ì
ì
  )
;
ì
ì
) *
l
ì
ì
+ ,
++
ì
ì
, .
)
ì
ì
. /
{
î
î
 
var
ï
ï
 
mi
ï
ï
 
=
ï
ï
 
(
ï
ï
 
l
ï
ï
 
%
ï
ï
 
$num
ï
ï
 
==
ï
ï
  "
$num
ï
ï
# $
?
ï
ï
% &
pizzas
ï
ï
' -
:
ï
ï
. /
l
ï
ï
0 1
%
ï
ï
2 3
$num
ï
ï
4 5
==
ï
ï
6 8
$num
ï
ï
9 :
?
ï
ï
; <
burgers
ï
ï
= D
:
ï
ï
E F
drinks
ï
ï
G M
)
ï
ï
M N
[
ï
ï
N O
rng
ï
ï
O R
.
ï
ï
R S
Next
ï
ï
S W
(
ï
ï
W X
$num
ï
ï
X Y
,
ï
ï
Y Z
$num
ï
ï
[ \
)
ï
ï
\ ]
]
ï
ï
] ^
;
ï
ï
^ _
var
ñ
ñ
 
mods
ñ
ñ
 
=
ñ
ñ
 &
PickModifiersForMenuItem
ñ
ñ
 3
(
ñ
ñ
3 4
allModifiers
ñ
ñ
4 @
,
ñ
ñ
@ A
mi
ñ
ñ
B D
.
ñ
ñ
D E
Name
ñ
ñ
E I
,
ñ
ñ
I J
rng
ñ
ñ
K N
)
ñ
ñ
N O
;
ñ
ñ
O P
await
ò
ò
 
addOrderLine
ò
ò
 "
.
ò
ò
" #
HandleAsync
ò
ò
# .
(
ò
ò
. /
new
ò
ò
/ 2!
AddOrderLineCommand
ò
ò
3 F
{
ô
ô
 
TicketId
ö
ö
 
=
ö
ö
 
ticketId
ö
ö
 '
,
ö
ö
' (

MenuItemId
õ
õ
 
=
õ
õ
  
mi
õ
õ
! #
.
õ
õ
# $
Id
õ
õ
$ &
,
õ
õ
& '
MenuItemName
ú
ú
  
=
ú
ú
! "
mi
ú
ú
# %
.
ú
ú
% &
Name
ú
ú
& *
,
ú
ú
* +
Quantity
ù
ù
 
=
ù
ù
 
$num
ù
ù
  
,
ù
ù
  !
	UnitPrice
û
û
 
=
û
û
 
mi
û
û
  "
.
û
û
" #
Price
û
û
# (
,
û
û
( )
TaxRate
ü
ü
 
=
ü
ü
 
$num
ü
ü
  
,
ü
ü
  !
CategoryName
†
†
  
=
†
†
! "
menu
†
†
# '
.
†
†
' (

Categories
†
†
( 2
.
†
†
2 3
First
†
†
3 8
(
†
†
8 9
c
†
†
9 :
=>
†
†
; =
c
†
†
> ?
.
†
†
? @
Id
†
†
@ B
==
†
†
C E
mi
†
†
F H
.
†
†
H I

CategoryId
†
†
I S
)
†
†
S T
.
†
†
T U
Name
†
†
U Y
,
†
†
Y Z
	GroupName
°
°
 
=
°
°
 
menu
°
°
  $
.
°
°
$ %
Groups
°
°
% +
.
°
°
+ ,
First
°
°
, 1
(
°
°
1 2
g
°
°
2 3
=>
°
°
4 6
g
°
°
7 8
.
°
°
8 9
Id
°
°
9 ;
==
°
°
< >
mi
°
°
? A
.
°
°
A B
GroupId
°
°
B I
)
°
°
I J
.
°
°
J K
Name
°
°
K O
,
°
°
O P
AddedBy
¢
¢
 
=
¢
¢
 
server
¢
¢
 $
.
¢
¢
$ %
Id
¢
¢
% '
,
¢
¢
' (
	Modifiers
£
£
 
=
£
£
 
mods
£
£
  $
}
§
§
 
,
§
§
 
cancellationToken
§
§
 $
)
§
§
$ %
;
§
§
% &
}
•
•
 
if
®
®
 
(
®
®
 
i
®
®
 
==
®
®
 
$num
®
®
 
)
®
®
 
{
©
©
 
var
™
™
 
t
™
™
 
=
™
™
 
await
™
™
 

ticketRepo
™
™
 (
.
™
™
( )
GetByIdAsync
™
™
) 5
(
™
™
5 6
ticketId
™
™
6 >
,
™
™
> ?
cancellationToken
™
™
@ Q
)
™
™
Q R
;
™
™
R S
var
´
´
 
	pizzaLine
´
´
 
=
´
´
 
t
´
´
  !
?
´
´
! "
.
´
´
" #

OrderLines
´
´
# -
.
´
´
- .
FirstOrDefault
´
´
. <
(
´
´
< =
ol
´
´
= ?
=>
´
´
@ B
ol
´
´
C E
.
´
´
E F
MenuItemName
´
´
F R
.
´
´
R S
Contains
´
´
S [
(
´
´
[ \
$str
´
´
\ c
,
´
´
c d
StringComparison
´
´
e u
.
´
´
u v 
OrdinalIgnoreCase´
´
v á
)´
´
á à
)´
´
à â
;´
´
â ä
if
¨
¨
 
(
¨
¨
 
	pizzaLine
¨
¨
 
!=
¨
¨
  
null
¨
¨
! %
)
¨
¨
% &
{
≠
≠
 
await
Æ
Æ
 
modifyOrderLine
Æ
Æ
 )
.
Æ
Æ
) *
HandleAsync
Æ
Æ
* 5
(
Æ
Æ
5 6
new
Æ
Æ
6 9$
ModifyOrderLineCommand
Æ
Æ
: P
{
Ø
Ø
 
TicketId
∞
∞
  
=
∞
∞
! "
ticketId
∞
∞
# +
,
∞
∞
+ ,
OrderLineId
±
±
 #
=
±
±
$ %
	pizzaLine
±
±
& /
.
±
±
/ 0
Id
±
±
0 2
,
±
±
2 3
Quantity
≤
≤
  
=
≤
≤
! "
	pizzaLine
≤
≤
# ,
.
≤
≤
, -
Quantity
≤
≤
- 5
,
≤
≤
5 6
Instructions
≥
≥
 $
=
≥
≥
% &
$str
≥
≥
' H
,
≥
≥
H I
	Modifiers
¥
¥
 !
=
¥
¥
" #
new
¥
¥
$ '
List
¥
¥
( ,
<
¥
¥
, -"
OrderLineModifierDto
¥
¥
- A
>
¥
¥
A B
{
µ
µ
 
new
∂
∂
 
(
∂
∂
  
)
∂
∂
  !
{
∑
∑
 
OrderLineId
∏
∏
  +
=
∏
∏
, -
	pizzaLine
∏
∏
. 7
.
∏
∏
7 8
Id
∏
∏
8 :
,
∏
∏
: ;

ModifierId
π
π
  *
=
π
π
+ ,
null
π
π
- 1
,
π
π
1 2
Name
∫
∫
  $
=
∫
∫
% &
$str
∫
∫
' 2
,
∫
∫
2 3
ModifierType
ª
ª
  ,
=
ª
ª
- .
ModifierType
ª
ª
/ ;
.
ª
ª
; <
Normal
ª
ª
< B
,
ª
ª
B C
	ItemCount
º
º
  )
=
º
º
* +
$num
º
º
, -
,
º
º
- .
	UnitPrice
Ω
Ω
  )
=
Ω
Ω
* +
$num
Ω
Ω
, 1
,
Ω
Ω
1 2
TaxRate
æ
æ
  '
=
æ
æ
( )
$num
æ
æ
* ,
,
æ
æ
, -
SectionName
ø
ø
  +
=
ø
ø
, -
$str
ø
ø
. 4
,
ø
ø
4 5"
ShouldPrintToKitchen
¿
¿
  4
=
¿
¿
5 6
true
¿
¿
7 ;
,
¿
¿
; <
	CreatedAt
¡
¡
  )
=
¡
¡
* +
DateTime
¡
¡
, 4
.
¡
¡
4 5
UtcNow
¡
¡
5 ;
}
¬
¬
 
,
¬
¬
 
new
√
√
 
(
√
√
  
)
√
√
  !
{
ƒ
ƒ
 
OrderLineId
≈
≈
  +
=
≈
≈
, -
	pizzaLine
≈
≈
. 7
.
≈
≈
7 8
Id
≈
≈
8 :
,
≈
≈
: ;

ModifierId
∆
∆
  *
=
∆
∆
+ ,
null
∆
∆
- 1
,
∆
∆
1 2
Name
«
«
  $
=
«
«
% &
$str
«
«
' 2
,
«
«
2 3
ModifierType
»
»
  ,
=
»
»
- .
ModifierType
»
»
/ ;
.
»
»
; <
Normal
»
»
< B
,
»
»
B C
	ItemCount
…
…
  )
=
…
…
* +
$num
…
…
, -
,
…
…
- .
	UnitPrice
 
 
  )
=
 
 
* +
$num
 
 
, 1
,
 
 
1 2
TaxRate
À
À
  '
=
À
À
( )
$num
À
À
* ,
,
À
À
, -
SectionName
Ã
Ã
  +
=
Ã
Ã
, -
$str
Ã
Ã
. 5
,
Ã
Ã
5 6"
ShouldPrintToKitchen
Õ
Õ
  4
=
Õ
Õ
5 6
true
Õ
Õ
7 ;
,
Õ
Õ
; <
	CreatedAt
Œ
Œ
  )
=
Œ
Œ
* +
DateTime
Œ
Œ
, 4
.
Œ
Œ
4 5
UtcNow
Œ
Œ
5 ;
}
œ
œ
 
}
–
–
 
}
—
—
 
,
—
—
 
cancellationToken
—
—
 (
)
—
—
( )
;
—
—
) *
}
“
“
 
}
”
”
 
if
÷
÷
 
(
÷
÷
 
i
÷
÷
 
%
÷
÷
 
$num
÷
÷
 
==
÷
÷
 
$num
÷
÷
 
)
÷
÷
 
{
◊
◊
 
var
ÿ
ÿ
 
t
ÿ
ÿ
 
=
ÿ
ÿ
 
await
ÿ
ÿ
 

ticketRepo
ÿ
ÿ
 (
.
ÿ
ÿ
( )
GetByIdAsync
ÿ
ÿ
) 5
(
ÿ
ÿ
5 6
ticketId
ÿ
ÿ
6 >
,
ÿ
ÿ
> ?
cancellationToken
ÿ
ÿ
@ Q
)
ÿ
ÿ
Q R
;
ÿ
ÿ
R S
t
Ÿ
Ÿ
 
?
Ÿ
Ÿ
 
.
Ÿ
Ÿ
 
SetNote
Ÿ
Ÿ
 
(
Ÿ
Ÿ
 
$str
Ÿ
Ÿ
 K
)
Ÿ
Ÿ
K L
;
Ÿ
Ÿ
L M
if
⁄
⁄
 
(
⁄
⁄
 
t
⁄
⁄
 
!=
⁄
⁄
 
null
⁄
⁄
 
)
⁄
⁄
 
await
⁄
⁄
 $

ticketRepo
⁄
⁄
% /
.
⁄
⁄
/ 0
UpdateAsync
⁄
⁄
0 ;
(
⁄
⁄
; <
t
⁄
⁄
< =
,
⁄
⁄
= >
cancellationToken
⁄
⁄
? P
)
⁄
⁄
P Q
;
⁄
⁄
Q R
}
€
€
 
if
ﬁ
ﬁ
 
(
ﬁ
ﬁ
 
i
ﬁ
ﬁ
 
%
ﬁ
ﬁ
 
$num
ﬁ
ﬁ
 
==
ﬁ
ﬁ
 
$num
ﬁ
ﬁ
 
)
ﬁ
ﬁ
 
{
ﬂ
ﬂ
 
var
‡
‡
 
t
‡
‡
 
=
‡
‡
 
await
‡
‡
 

ticketRepo
‡
‡
 (
.
‡
‡
( )
GetByIdAsync
‡
‡
) 5
(
‡
‡
5 6
ticketId
‡
‡
6 >
,
‡
‡
> ?
cancellationToken
‡
‡
@ Q
)
‡
‡
Q R
;
‡
‡
R S
if
·
·
 
(
·
·
 
t
·
·
 
!=
·
·
 
null
·
·
 
)
·
·
 
{
‚
‚
 
var
„
„
 
d
„
„
 
=
„
„
 
	discounts
„
„
 %
[
„
„
% &
$num
„
„
& '
]
„
„
' (
;
„
„
( )
var
‰
‰
 
amount
‰
‰
 
=
‰
‰
  
new
‰
‰
! $
Money
‰
‰
% *
(
‰
‰
* +
Math
‰
‰
+ /
.
‰
‰
/ 0
Min
‰
‰
0 3
(
‰
‰
3 4
$num
‰
‰
4 6
,
‰
‰
6 7
t
‰
‰
8 9
.
‰
‰
9 :
SubtotalAmount
‰
‰
: H
.
‰
‰
H I
Amount
‰
‰
I O
)
‰
‰
O P
)
‰
‰
P Q
;
‰
‰
Q R
t
Â
Â
 
.
Â
Â
 
ApplyDiscount
Â
Â
 #
(
Â
Â
# $
TicketDiscount
Â
Â
$ 2
.
Â
Â
2 3
Create
Â
Â
3 9
(
Â
Â
9 :
t
Â
Â
: ;
.
Â
Â
; <
Id
Â
Â
< >
,
Â
Â
> ?
d
Â
Â
@ A
.
Â
Â
A B
Id
Â
Â
B D
,
Â
Â
D E
d
Â
Â
F G
.
Â
Â
G H
Name
Â
Â
H L
,
Â
Â
L M
d
Â
Â
N O
.
Â
Â
O P
Type
Â
Â
P T
,
Â
Â
T U
d
Â
Â
V W
.
Â
Â
W X
Value
Â
Â
X ]
,
Â
Â
] ^
amount
Â
Â
_ e
)
Â
Â
e f
)
Â
Â
f g
;
Â
Â
g h
await
Ê
Ê
 

ticketRepo
Ê
Ê
 $
.
Ê
Ê
$ %
UpdateAsync
Ê
Ê
% 0
(
Ê
Ê
0 1
t
Ê
Ê
1 2
,
Ê
Ê
2 3
cancellationToken
Ê
Ê
4 E
)
Ê
Ê
E F
;
Ê
Ê
F G
}
Á
Á
 
}
Ë
Ë
 
}
È
È
 	
}
Í
Í
 
private
Ï
Ï
 
static
Ï
Ï
 
async
Ï
Ï
 
Task
Ï
Ï
 '
SeedScheduledTicketsAsync
Ï
Ï
 7
(
Ï
Ï
7 8
Random
Ì
Ì
 
rng
Ì
Ì
 
,
Ì
Ì
 
ICommandHandler
Ó
Ó
 
<
Ó
Ó
 !
CreateTicketCommand
Ó
Ó
 +
,
Ó
Ó
+ , 
CreateTicketResult
Ó
Ó
- ?
>
Ó
Ó
? @
createTicket
Ó
Ó
A M
,
Ó
Ó
M N
ICommandHandler
Ô
Ô
 
<
Ô
Ô
 !
AddOrderLineCommand
Ô
Ô
 +
,
Ô
Ô
+ , 
AddOrderLineResult
Ô
Ô
- ?
>
Ô
Ô
? @
addOrderLine
Ô
Ô
A M
,
Ô
Ô
M N
ITicketRepository


 

ticketRepo


 $
,


$ %"
ApplicationDbContext
Ò
Ò
 
db
Ò
Ò
 
,
Ò
Ò
  
MenuSeed
Ú
Ú
 
menu
Ú
Ú
 
,
Ú
Ú
 

Dictionary
Û
Û
 
<
Û
Û
 
string
Û
Û
 
,
Û
Û
 
	OrderType
Û
Û
 $
>
Û
Û
$ %

orderTypes
Û
Û
& 0
,
Û
Û
0 1

Dictionary
Ù
Ù
 
<
Ù
Ù
 
string
Ù
Ù
 
,
Ù
Ù
 
Shift
Ù
Ù
  
>
Ù
Ù
  !
shifts
Ù
Ù
" (
,
Ù
Ù
( )
Terminal
ı
ı
 
terminal
ı
ı
 
,
ı
ı
 
User
ˆ
ˆ
 
	createdBy
ˆ
ˆ
 
,
ˆ
ˆ
 
int
˜
˜
 
count
˜
˜
 
,
˜
˜
 
CancellationToken
¯
¯
 
cancellationToken
¯
¯
 +
)
¯
¯
+ ,
{
˘
˘
 
var
˙
˙
 
shift
˙
˙
 
=
˙
˙
 
shifts
˙
˙
 
[
˙
˙
 
$str
˙
˙
 #
]
˙
˙
# $
;
˙
˙
$ %
var
˚
˚
 
pickup
˚
˚
 
=
˚
˚
 

orderTypes
˚
˚
 
[
˚
˚
  
$str
˚
˚
  )
]
˚
˚
) *
;
˚
˚
* +
var
¸
¸
 
items
¸
¸
 
=
¸
¸
 
menu
¸
¸
 
.
¸
¸
 
Items
¸
¸
 "
.
¸
¸
" #
Where
¸
¸
# (
(
¸
¸
( )
i
¸
¸
) *
=>
¸
¸
+ -
i
¸
¸
. /
.
¸
¸
/ 0

CategoryId
¸
¸
0 :
==
¸
¸
; =
menu
¸
¸
> B
.
¸
¸
B C

Categories
¸
¸
C M
.
¸
¸
M N
First
¸
¸
N S
(
¸
¸
S T
c
¸
¸
T U
=>
¸
¸
V X
c
¸
¸
Y Z
.
¸
¸
Z [
Name
¸
¸
[ _
==
¸
¸
` b
$str
¸
¸
c k
)
¸
¸
k l
.
¸
¸
l m
Id
¸
¸
m o
)
¸
¸
o p
.
¸
¸
p q
Take
¸
¸
q u
(
¸
¸
u v
$num
¸
¸
v x
)
¸
¸
x y
.
¸
¸
y z
ToList¸
¸
z Ä
(¸
¸
Ä Å
)¸
¸
Å Ç
;¸
¸
Ç É
for
˛
˛
 
(
˛
˛
 
var
˛
˛
 
i
˛
˛
 
=
˛
˛
 
$num
˛
˛
 
;
˛
˛
 
i
˛
˛
 
<
˛
˛
 
count
˛
˛
 !
;
˛
˛
! "
i
˛
˛
# $
++
˛
˛
$ &
)
˛
˛
& '
{
ˇ
ˇ
 	
var
ÄÄ 
res
ÄÄ 
=
ÄÄ 
await
ÄÄ 
createTicket
ÄÄ (
.
ÄÄ( )
HandleAsync
ÄÄ) 4
(
ÄÄ4 5
new
ÄÄ5 8!
CreateTicketCommand
ÄÄ9 L
{
ÅÅ 
	CreatedBy
ÇÇ 
=
ÇÇ 
	createdBy
ÇÇ %
.
ÇÇ% &
Id
ÇÇ& (
,
ÇÇ( )

TerminalId
ÉÉ 
=
ÉÉ 
terminal
ÉÉ %
.
ÉÉ% &
Id
ÉÉ& (
,
ÉÉ( )
ShiftId
ÑÑ 
=
ÑÑ 
shift
ÑÑ 
.
ÑÑ  
Id
ÑÑ  "
,
ÑÑ" #
OrderTypeId
ÖÖ 
=
ÖÖ 
pickup
ÖÖ $
.
ÖÖ$ %
Id
ÖÖ% '
,
ÖÖ' (
NumberOfGuests
ÜÜ 
=
ÜÜ  
$num
ÜÜ! "
}
áá 
,
áá 
cancellationToken
áá  
)
áá  !
;
áá! "
var
ââ 
ticketId
ââ 
=
ââ 
res
ââ 
.
ââ 
TicketId
ââ '
;
ââ' (
db
ää 
.
ää 
ChangeTracker
ää 
.
ää 
Clear
ää "
(
ää" #
)
ää# $
;
ää$ %
var
ãã 
mi
ãã 
=
ãã 
items
ãã 
[
ãã 
rng
ãã 
.
ãã 
Next
ãã #
(
ãã# $
items
ãã$ )
.
ãã) *
Count
ãã* /
)
ãã/ 0
]
ãã0 1
;
ãã1 2
await
åå 
addOrderLine
åå 
.
åå 
HandleAsync
åå *
(
åå* +
new
åå+ .!
AddOrderLineCommand
åå/ B
{
çç 
TicketId
éé 
=
éé 
ticketId
éé #
,
éé# $

MenuItemId
èè 
=
èè 
mi
èè 
.
èè  
Id
èè  "
,
èè" #
MenuItemName
êê 
=
êê 
mi
êê !
.
êê! "
Name
êê" &
,
êê& '
Quantity
ëë 
=
ëë 
$num
ëë 
,
ëë 
	UnitPrice
íí 
=
íí 
mi
íí 
.
íí 
Price
íí $
,
íí$ %
TaxRate
ìì 
=
ìì 
$num
ìì 
,
ìì 
CategoryName
îî 
=
îî 
$str
îî '
,
îî' (
	GroupName
ïï 
=
ïï 
$str
ïï ,
,
ïï, -
AddedBy
ññ 
=
ññ 
	createdBy
ññ #
.
ññ# $
Id
ññ$ &
}
óó 
,
óó 
cancellationToken
óó  
)
óó  !
;
óó! "
var
ôô 
t
ôô 
=
ôô 
await
ôô 

ticketRepo
ôô $
.
ôô$ %
GetByIdAsync
ôô% 1
(
ôô1 2
ticketId
ôô2 :
,
ôô: ;
cancellationToken
ôô< M
)
ôôM N
;
ôôN O
if
öö 
(
öö 
t
öö 
!=
öö 
null
öö 
)
öö 
{
õõ 
t
úú 
.
úú 
Schedule
úú 
(
úú 
DateTime
úú #
.
úú# $
UtcNow
úú$ *
.
úú* +
AddHours
úú+ 3
(
úú3 4
$num
úú4 5
+
úú6 7
i
úú8 9
)
úú9 :
)
úú: ;
;
úú; <
await
ùù 

ticketRepo
ùù  
.
ùù  !
UpdateAsync
ùù! ,
(
ùù, -
t
ùù- .
,
ùù. /
cancellationToken
ùù0 A
)
ùùA B
;
ùùB C
}
ûû 
}
üü 	
}
†† 
private
¢¢ 
static
¢¢ 
async
¢¢ 
Task
¢¢ (
SeedHistoricalTicketsAsync
¢¢ 8
(
¢¢8 9
Random
££ 
rng
££ 
,
££ 
ICommandHandler
§§ 
<
§§ !
CreateTicketCommand
§§ +
,
§§+ , 
CreateTicketResult
§§- ?
>
§§? @
createTicket
§§A M
,
§§M N
ICommandHandler
•• 
<
•• !
AddOrderLineCommand
•• +
,
••+ , 
AddOrderLineResult
••- ?
>
••? @
addOrderLine
••A M
,
••M N
ICommandHandler
¶¶ 
<
¶¶ #
ProcessPaymentCommand
¶¶ -
,
¶¶- ."
ProcessPaymentResult
¶¶/ C
>
¶¶C D
processPayment
¶¶E S
,
¶¶S T
ICommandHandler
ßß 
<
ßß  
CloseTicketCommand
ßß *
>
ßß* +
closeTicket
ßß, 7
,
ßß7 8
ICommandHandler
®® 
<
®® 
VoidTicketCommand
®® )
>
®®) *

voidTicket
®®+ 5
,
®®5 6
ICommandHandler
©© 
<
©©  
SplitTicketCommand
©© *
,
©©* +
SplitTicketResult
©©, =
>
©©= >
splitTicket
©©? J
,
©©J K
ICommandHandler
™™ 
<
™™ "
RefundPaymentCommand
™™ ,
,
™™, -!
RefundPaymentResult
™™. A
>
™™A B
refundPayment
™™C P
,
™™P Q
ITicketRepository
´´ 

ticketRepo
´´ $
,
´´$ %%
IKitchenOrderRepository
¨¨ 
kitchenOrderRepo
¨¨  0
,
¨¨0 1"
ApplicationDbContext
≠≠ 
db
≠≠ 
,
≠≠  
CashSession
ÆÆ 
openCashSession
ÆÆ #
,
ÆÆ# $
MenuSeed
ØØ 
menu
ØØ 
,
ØØ 
List
∞∞ 
<
∞∞ 
MenuModifier
∞∞ 
>
∞∞ 
allModifiers
∞∞ '
,
∞∞' (

Dictionary
±± 
<
±± 
string
±± 
,
±± 
	OrderType
±± $
>
±±$ %

orderTypes
±±& 0
,
±±0 1

Dictionary
≤≤ 
<
≤≤ 
string
≤≤ 
,
≤≤ 
Shift
≤≤  
>
≤≤  !
shifts
≤≤" (
,
≤≤( )
Terminal
≥≥ 
front
≥≥ 
,
≥≥ 
Terminal
¥¥ 
bar
¥¥ 
,
¥¥ 
User
µµ 
cashier
µµ 
,
µµ 
User
∂∂ 
manager
∂∂ 
,
∂∂ 
User
∑∑ 
server
∑∑ 
,
∑∑ 
List
∏∏ 
<
∏∏ 
Discount
∏∏ 
>
∏∏ 
	discounts
∏∏  
,
∏∏  !
SeedOptions
ππ 
options
ππ 
,
ππ 
CancellationToken
∫∫ 
cancellationToken
∫∫ +
)
∫∫+ ,
{
ªª 
var
ºº 
dineIn
ºº 
=
ºº 

orderTypes
ºº 
[
ºº  
$str
ºº  )
]
ºº) *
;
ºº* +
var
ΩΩ 
takeOut
ΩΩ 
=
ΩΩ 

orderTypes
ΩΩ  
[
ΩΩ  !
$str
ΩΩ! +
]
ΩΩ+ ,
;
ΩΩ, -
var
ææ 
barTab
ææ 
=
ææ 

orderTypes
ææ 
[
ææ  
$str
ææ  )
]
ææ) *
;
ææ* +
var
¿¿ 
	menuItems
¿¿ 
=
¿¿ 
menu
¿¿ 
.
¿¿ 
Items
¿¿ "
.
¿¿" #
Where
¿¿# (
(
¿¿( )
i
¿¿) *
=>
¿¿+ -
i
¿¿. /
.
¿¿/ 0
IsActive
¿¿0 8
)
¿¿8 9
.
¿¿9 :
ToList
¿¿: @
(
¿¿@ A
)
¿¿A B
;
¿¿B C
for
¬¬ 
(
¬¬ 
var
¬¬ 
daysAgo
¬¬ 
=
¬¬ 
options
¬¬ "
.
¬¬" #
HistoryDays
¬¬# .
;
¬¬. /
daysAgo
¬¬0 7
>=
¬¬8 :
$num
¬¬; <
;
¬¬< =
daysAgo
¬¬> E
--
¬¬E G
)
¬¬G H
{
√√ 	
var
ƒƒ 
day
ƒƒ 
=
ƒƒ 
DateTime
ƒƒ 
.
ƒƒ 
UtcNow
ƒƒ %
.
ƒƒ% &
Date
ƒƒ& *
.
ƒƒ* +
AddDays
ƒƒ+ 2
(
ƒƒ2 3
-
ƒƒ3 4
daysAgo
ƒƒ4 ;
)
ƒƒ; <
;
ƒƒ< =
var
≈≈ 
ticketCount
≈≈ 
=
≈≈ 
rng
≈≈ !
.
≈≈! "
Next
≈≈" &
(
≈≈& '
options
≈≈' .
.
≈≈. /
TicketsPerDayMin
≈≈/ ?
,
≈≈? @
options
≈≈A H
.
≈≈H I
TicketsPerDayMax
≈≈I Y
+
≈≈Z [
$num
≈≈\ ]
)
≈≈] ^
;
≈≈^ _
for
«« 
(
«« 
var
«« 
i
«« 
=
«« 
$num
«« 
;
«« 
i
«« 
<
«« 
ticketCount
««  +
;
««+ ,
i
««- .
++
««. 0
)
««0 1
{
»» 
var
…… 
shift
…… 
=
…… 
shifts
…… "
.
……" #
Values
……# )
.
……) *
	ElementAt
……* 3
(
……3 4
rng
……4 7
.
……7 8
Next
……8 <
(
……< =
shifts
……= C
.
……C D
Count
……D I
)
……I J
)
……J K
;
……K L
var
   
	orderType
   
=
   
i
    !
%
  " #
$num
  $ %
==
  & (
$num
  ) *
?
  + ,
barTab
  - 3
:
  4 5
(
  6 7
i
  7 8
%
  9 :
$num
  ; <
==
  = ?
$num
  @ A
?
  B C
takeOut
  D K
:
  L M
dineIn
  N T
)
  T U
;
  U V
var
ÀÀ 
terminal
ÀÀ 
=
ÀÀ 
	orderType
ÀÀ (
==
ÀÀ) +
barTab
ÀÀ, 2
?
ÀÀ3 4
bar
ÀÀ5 8
:
ÀÀ9 :
front
ÀÀ; @
;
ÀÀ@ A
var
ÕÕ 
	tableNums
ÕÕ 
=
ÕÕ 
	orderType
ÕÕ  )
==
ÕÕ* ,
dineIn
ÕÕ- 3
?
ÕÕ4 5
new
ÕÕ6 9
List
ÕÕ: >
<
ÕÕ> ?
int
ÕÕ? B
>
ÕÕB C
{
ÕÕD E
rng
ÕÕF I
.
ÕÕI J
Next
ÕÕJ N
(
ÕÕN O
$num
ÕÕO P
,
ÕÕP Q
$num
ÕÕR T
)
ÕÕT U
}
ÕÕV W
:
ÕÕX Y
null
ÕÕZ ^
;
ÕÕ^ _
var
œœ 
	ticketRes
œœ 
=
œœ 
await
œœ  %
createTicket
œœ& 2
.
œœ2 3
HandleAsync
œœ3 >
(
œœ> ?
new
œœ? B!
CreateTicketCommand
œœC V
{
–– 
	CreatedBy
—— 
=
—— 
server
——  &
.
——& '
Id
——' )
,
——) *

TerminalId
““ 
=
““  
terminal
““! )
.
““) *
Id
““* ,
,
““, -
ShiftId
”” 
=
”” 
shift
”” #
.
””# $
Id
””$ &
,
””& '
OrderTypeId
‘‘ 
=
‘‘  !
	orderType
‘‘" +
.
‘‘+ ,
Id
‘‘, .
,
‘‘. /
NumberOfGuests
’’ "
=
’’# $
	orderType
’’% .
==
’’/ 1
dineIn
’’2 8
?
’’9 :
rng
’’; >
.
’’> ?
Next
’’? C
(
’’C D
$num
’’D E
,
’’E F
$num
’’G H
)
’’H I
:
’’J K
$num
’’L M
,
’’M N
TableNumbers
÷÷  
=
÷÷! "
	tableNums
÷÷# ,
}
◊◊ 
,
◊◊ 
cancellationToken
◊◊ $
)
◊◊$ %
;
◊◊% &
var
ŸŸ 
ticketId
ŸŸ 
=
ŸŸ 
	ticketRes
ŸŸ (
.
ŸŸ( )
TicketId
ŸŸ) 1
;
ŸŸ1 2
db
⁄⁄ 
.
⁄⁄ 
ChangeTracker
⁄⁄  
.
⁄⁄  !
Clear
⁄⁄! &
(
⁄⁄& '
)
⁄⁄' (
;
⁄⁄( )
var
›› 
	lineCount
›› 
=
›› 
rng
››  #
.
››# $
Next
››$ (
(
››( )
$num
››) *
,
››* +
$num
››, -
)
››- .
;
››. /
for
ﬁﬁ 
(
ﬁﬁ 
var
ﬁﬁ 
l
ﬁﬁ 
=
ﬁﬁ 
$num
ﬁﬁ 
;
ﬁﬁ 
l
ﬁﬁ  !
<
ﬁﬁ" #
	lineCount
ﬁﬁ$ -
;
ﬁﬁ- .
l
ﬁﬁ/ 0
++
ﬁﬁ0 2
)
ﬁﬁ2 3
{
ﬂﬂ 
var
‡‡ 
mi
‡‡ 
=
‡‡ 
	menuItems
‡‡ &
[
‡‡& '
rng
‡‡' *
.
‡‡* +
Next
‡‡+ /
(
‡‡/ 0
	menuItems
‡‡0 9
.
‡‡9 :
Count
‡‡: ?
)
‡‡? @
]
‡‡@ A
;
‡‡A B
var
·· 
mods
·· 
=
·· &
PickModifiersForMenuItem
·· 7
(
··7 8
allModifiers
··8 D
,
··D E
mi
··F H
.
··H I
Name
··I M
,
··M N
rng
··O R
)
··R S
;
··S T
await
„„ 
addOrderLine
„„ &
.
„„& '
HandleAsync
„„' 2
(
„„2 3
new
„„3 6!
AddOrderLineCommand
„„7 J
{
‰‰ 
TicketId
ÂÂ  
=
ÂÂ! "
ticketId
ÂÂ# +
,
ÂÂ+ ,

MenuItemId
ÊÊ "
=
ÊÊ# $
mi
ÊÊ% '
.
ÊÊ' (
Id
ÊÊ( *
,
ÊÊ* +
MenuItemName
ÁÁ $
=
ÁÁ% &
mi
ÁÁ' )
.
ÁÁ) *
Name
ÁÁ* .
,
ÁÁ. /
Quantity
ËË  
=
ËË! "
$num
ËË# $
,
ËË$ %
	UnitPrice
ÈÈ !
=
ÈÈ" #
mi
ÈÈ$ &
.
ÈÈ& '
Price
ÈÈ' ,
,
ÈÈ, -
TaxRate
ÍÍ 
=
ÍÍ  !
$num
ÍÍ" $
,
ÍÍ$ %
CategoryName
ÎÎ $
=
ÎÎ% &
mi
ÎÎ' )
.
ÎÎ) *

CategoryId
ÎÎ* 4
.
ÎÎ4 5
HasValue
ÎÎ5 =
?
ÎÎ> ?
menu
ÎÎ@ D
.
ÎÎD E

Categories
ÎÎE O
.
ÎÎO P
First
ÎÎP U
(
ÎÎU V
c
ÎÎV W
=>
ÎÎX Z
c
ÎÎ[ \
.
ÎÎ\ ]
Id
ÎÎ] _
==
ÎÎ` b
mi
ÎÎc e
.
ÎÎe f

CategoryId
ÎÎf p
)
ÎÎp q
.
ÎÎq r
Name
ÎÎr v
:
ÎÎw x
null
ÎÎy }
,
ÎÎ} ~
	GroupName
ÏÏ !
=
ÏÏ" #
mi
ÏÏ$ &
.
ÏÏ& '
GroupId
ÏÏ' .
.
ÏÏ. /
HasValue
ÏÏ/ 7
?
ÏÏ8 9
menu
ÏÏ: >
.
ÏÏ> ?
Groups
ÏÏ? E
.
ÏÏE F
First
ÏÏF K
(
ÏÏK L
g
ÏÏL M
=>
ÏÏN P
g
ÏÏQ R
.
ÏÏR S
Id
ÏÏS U
==
ÏÏV X
mi
ÏÏY [
.
ÏÏ[ \
GroupId
ÏÏ\ c
)
ÏÏc d
.
ÏÏd e
Name
ÏÏe i
:
ÏÏj k
null
ÏÏl p
,
ÏÏp q
AddedBy
ÌÌ 
=
ÌÌ  !
server
ÌÌ" (
.
ÌÌ( )
Id
ÌÌ) +
,
ÌÌ+ ,
	Modifiers
ÓÓ !
=
ÓÓ" #
mods
ÓÓ$ (
}
ÔÔ 
,
ÔÔ 
cancellationToken
ÔÔ (
)
ÔÔ( )
;
ÔÔ) *
}
 
var
ÚÚ 
ticket
ÚÚ 
=
ÚÚ 
await
ÚÚ "

ticketRepo
ÚÚ# -
.
ÚÚ- .
GetByIdAsync
ÚÚ. :
(
ÚÚ: ;
ticketId
ÚÚ; C
,
ÚÚC D
cancellationToken
ÚÚE V
)
ÚÚV W
;
ÚÚW X
if
ÛÛ 
(
ÛÛ 
ticket
ÛÛ 
==
ÛÛ 
null
ÛÛ "
)
ÛÛ" #
continue
ÛÛ$ ,
;
ÛÛ, -
if
ˆˆ 
(
ˆˆ 
i
ˆˆ 
%
ˆˆ 
$num
ˆˆ 
==
ˆˆ 
$num
ˆˆ 
)
ˆˆ 
{
˜˜ 
var
¯¯ 
d
¯¯ 
=
¯¯ 
	discounts
¯¯ %
[
¯¯% &
rng
¯¯& )
.
¯¯) *
Next
¯¯* .
(
¯¯. /
	discounts
¯¯/ 8
.
¯¯8 9
Count
¯¯9 >
)
¯¯> ?
]
¯¯? @
;
¯¯@ A
var
˘˘ 
amount
˘˘ 
=
˘˘  
new
˘˘! $
Money
˘˘% *
(
˘˘* +
Math
˘˘+ /
.
˘˘/ 0
Min
˘˘0 3
(
˘˘3 4
$num
˘˘4 6
+
˘˘7 8
(
˘˘9 :
i
˘˘: ;
%
˘˘< =
$num
˘˘> ?
)
˘˘? @
,
˘˘@ A
ticket
˘˘B H
.
˘˘H I
SubtotalAmount
˘˘I W
.
˘˘W X
Amount
˘˘X ^
)
˘˘^ _
)
˘˘_ `
;
˘˘` a
ticket
˙˙ 
.
˙˙ 
ApplyDiscount
˙˙ (
(
˙˙( )
TicketDiscount
˙˙) 7
.
˙˙7 8
Create
˙˙8 >
(
˙˙> ?
ticket
˙˙? E
.
˙˙E F
Id
˙˙F H
,
˙˙H I
d
˙˙J K
.
˙˙K L
Id
˙˙L N
,
˙˙N O
d
˙˙P Q
.
˙˙Q R
Name
˙˙R V
,
˙˙V W
d
˙˙X Y
.
˙˙Y Z
Type
˙˙Z ^
,
˙˙^ _
d
˙˙` a
.
˙˙a b
Value
˙˙b g
,
˙˙g h
amount
˙˙i o
)
˙˙o p
)
˙˙p q
;
˙˙q r
}
˚˚ 
if
˛˛ 
(
˛˛ 
i
˛˛ 
%
˛˛ 
$num
˛˛ 
==
˛˛ 
$num
˛˛ 
)
˛˛  
{
ˇˇ 
ticket
ÄÄ 
.
ÄÄ 
SetTaxExempt
ÄÄ '
(
ÄÄ' (
true
ÄÄ( ,
)
ÄÄ, -
;
ÄÄ- .
}
ÅÅ 
await
ÉÉ 

ticketRepo
ÉÉ  
.
ÉÉ  !
UpdateAsync
ÉÉ! ,
(
ÉÉ, -
ticket
ÉÉ- 3
,
ÉÉ3 4
cancellationToken
ÉÉ5 F
)
ÉÉF G
;
ÉÉG H
if
ÜÜ 
(
ÜÜ 
i
ÜÜ 
%
ÜÜ 
$num
ÜÜ 
==
ÜÜ 
$num
ÜÜ 
)
ÜÜ  
{
áá 
await
àà 

voidTicket
àà  
.
àà  !
HandleAsync
àà! ,
(
àà, -
new
àà- 0
VoidTicketCommand
àà1 B
{
ââ 
TicketId
ää  
=
ää! "
ticket
ää# )
.
ää) *
Id
ää* ,
,
ää, -
VoidedBy
ãã  
=
ãã! "
manager
ãã# *
.
ãã* +
Id
ãã+ -
,
ãã- .
Reason
åå 
=
åå  
$str
åå! 8
,
åå8 9
IsWasted
çç  
=
çç! "
false
çç# (
}
éé 
,
éé 
cancellationToken
éé (
)
éé( )
;
éé) *
BackdateTicket
ëë "
(
ëë" #
ticket
ëë# )
,
ëë) *
day
ëë+ .
.
ëë. /
AddHours
ëë/ 7
(
ëë7 8
$num
ëë8 :
+
ëë; <
rng
ëë= @
.
ëë@ A
Next
ëëA E
(
ëëE F
$num
ëëF G
,
ëëG H
$num
ëëI K
)
ëëK L
)
ëëL M
)
ëëM N
;
ëëN O
await
íí 

ticketRepo
íí $
.
íí$ %
UpdateAsync
íí% 0
(
íí0 1
ticket
íí1 7
,
íí7 8
cancellationToken
íí9 J
)
ííJ K
;
ííK L
continue
ìì 
;
ìì 
}
îî 
if
óó 
(
óó 
i
óó 
%
óó 
$num
óó 
==
óó 
$num
óó 
&&
óó  "
ticket
óó# )
.
óó) *

OrderLines
óó* 4
.
óó4 5
Count
óó5 :
>=
óó; =
$num
óó> ?
)
óó? @
{
òò 
var
ôô 
toSplit
ôô 
=
ôô  !
ticket
ôô" (
.
ôô( )

OrderLines
ôô) 3
.
ôô3 4
Take
ôô4 8
(
ôô8 9
$num
ôô9 :
)
ôô: ;
.
ôô; <
Select
ôô< B
(
ôôB C
ol
ôôC E
=>
ôôF H
ol
ôôI K
.
ôôK L
Id
ôôL N
)
ôôN O
.
ôôO P
ToList
ôôP V
(
ôôV W
)
ôôW X
;
ôôX Y
await
öö 
splitTicket
öö %
.
öö% &
HandleAsync
öö& 1
(
öö1 2
new
öö2 5 
SplitTicketCommand
öö6 H
{
õõ 
OriginalTicketId
úú (
=
úú) *
ticket
úú+ 1
.
úú1 2
Id
úú2 4
,
úú4 5!
OrderLineIdsToSplit
ùù +
=
ùù, -
toSplit
ùù. 5
,
ùù5 6
SplitBy
ûû 
=
ûû  !
server
ûû" (
.
ûû( )
Id
ûû) +
,
ûû+ ,

TerminalId
üü "
=
üü# $
terminal
üü% -
.
üü- .
Id
üü. 0
,
üü0 1
ShiftId
†† 
=
††  !
shift
††" '
.
††' (
Id
††( *
,
††* +
OrderTypeId
°° #
=
°°$ %
	orderType
°°& /
.
°°/ 0
Id
°°0 2
}
¢¢ 
,
¢¢ 
cancellationToken
¢¢ (
)
¢¢( )
;
¢¢) *
}
££ 
var
¶¶ 
due
¶¶ 
=
¶¶ 
ticket
¶¶  
.
¶¶  !
TotalAmount
¶¶! ,
;
¶¶, -
if
ßß 
(
ßß 
due
ßß 
.
ßß 
Amount
ßß 
<=
ßß !
$num
ßß" $
)
ßß$ %
{
®® 
due
©© 
=
©© 
new
©© 
Money
©© #
(
©©# $
$num
©©$ '
)
©©' (
;
©©( )
}
™™ 
if
¨¨ 
(
¨¨ 
i
¨¨ 
%
¨¨ 
$num
¨¨ 
==
¨¨ 
$num
¨¨ 
)
¨¨ 
{
≠≠ 
var
ØØ 
tender
ØØ 
=
ØØ  
new
ØØ! $
Money
ØØ% *
(
ØØ* +
due
ØØ+ .
.
ØØ. /
Amount
ØØ/ 5
+
ØØ6 7
rng
ØØ8 ;
.
ØØ; <
Next
ØØ< @
(
ØØ@ A
$num
ØØA B
,
ØØB C
$num
ØØD E
)
ØØE F
)
ØØF G
;
ØØG H
await
∞∞ 
processPayment
∞∞ (
.
∞∞( )
HandleAsync
∞∞) 4
(
∞∞4 5
new
∞∞5 8#
ProcessPaymentCommand
∞∞9 N
{
±± 
TicketId
≤≤  
=
≤≤! "
ticket
≤≤# )
.
≤≤) *
Id
≤≤* ,
,
≤≤, -
PaymentType
≥≥ #
=
≥≥$ %
PaymentType
≥≥& 1
.
≥≥1 2
Cash
≥≥2 6
,
≥≥6 7
Amount
¥¥ 
=
¥¥  
due
¥¥! $
,
¥¥$ %
TenderAmount
µµ $
=
µµ% &
tender
µµ' -
,
µµ- .

TipsAmount
∂∂ "
=
∂∂# $
i
∂∂% &
%
∂∂' (
$num
∂∂) +
==
∂∂, .
$num
∂∂/ 0
?
∂∂1 2
new
∂∂3 6
Money
∂∂7 <
(
∂∂< =
$num
∂∂= ?
)
∂∂? @
:
∂∂A B
null
∂∂C G
,
∂∂G H
ProcessedBy
∑∑ #
=
∑∑$ %
cashier
∑∑& -
.
∑∑- .
Id
∑∑. 0
,
∑∑0 1

TerminalId
∏∏ "
=
∏∏# $
terminal
∏∏% -
.
∏∏- .
Id
∏∏. 0
,
∏∏0 1
CashSessionId
ππ %
=
ππ& '
openCashSession
ππ( 7
.
ππ7 8
Id
ππ8 :
}
∫∫ 
,
∫∫ 
cancellationToken
∫∫ (
)
∫∫( )
;
∫∫) *
}
ªª 
else
ºº 
if
ºº 
(
ºº 
i
ºº 
%
ºº 
$num
ºº 
==
ºº !
$num
ºº" #
)
ºº# $
{
ΩΩ 
var
øø 
first
øø 
=
øø 
new
øø  #
Money
øø$ )
(
øø) *
Math
øø* .
.
øø. /
Round
øø/ 4
(
øø4 5
due
øø5 8
.
øø8 9
Amount
øø9 ?
*
øø@ A
$num
øøB F
,
øøF G
$num
øøH I
)
øøI J
)
øøJ K
;
øøK L
var
¿¿ 
second
¿¿ 
=
¿¿  
new
¿¿! $
Money
¿¿% *
(
¿¿* +
due
¿¿+ .
.
¿¿. /
Amount
¿¿/ 5
-
¿¿6 7
first
¿¿8 =
.
¿¿= >
Amount
¿¿> D
)
¿¿D E
;
¿¿E F
await
¬¬ 
processPayment
¬¬ (
.
¬¬( )
HandleAsync
¬¬) 4
(
¬¬4 5
new
¬¬5 8#
ProcessPaymentCommand
¬¬9 N
{
√√ 
TicketId
ƒƒ  
=
ƒƒ! "
ticket
ƒƒ# )
.
ƒƒ) *
Id
ƒƒ* ,
,
ƒƒ, -
PaymentType
≈≈ #
=
≈≈$ %
PaymentType
≈≈& 1
.
≈≈1 2
Cash
≈≈2 6
,
≈≈6 7
Amount
∆∆ 
=
∆∆  
first
∆∆! &
,
∆∆& '
TenderAmount
«« $
=
««% &
new
««' *
Money
««+ 0
(
««0 1
first
««1 6
.
««6 7
Amount
««7 =
)
««= >
,
««> ?
ProcessedBy
»» #
=
»»$ %
cashier
»»& -
.
»»- .
Id
»». 0
,
»»0 1

TerminalId
…… "
=
……# $
terminal
……% -
.
……- .
Id
……. 0
,
……0 1
CashSessionId
   %
=
  & '
openCashSession
  ( 7
.
  7 8
Id
  8 :
}
ÀÀ 
,
ÀÀ 
cancellationToken
ÀÀ (
)
ÀÀ( )
;
ÀÀ) *
await
ÕÕ 
processPayment
ÕÕ (
.
ÕÕ( )
HandleAsync
ÕÕ) 4
(
ÕÕ4 5
new
ÕÕ5 8#
ProcessPaymentCommand
ÕÕ9 N
{
ŒŒ 
TicketId
œœ  
=
œœ! "
ticket
œœ# )
.
œœ) *
Id
œœ* ,
,
œœ, -
PaymentType
–– #
=
––$ %
PaymentType
––& 1
.
––1 2

CreditCard
––2 <
,
––< =
Amount
—— 
=
——  
second
——! '
,
——' (

TipsAmount
““ "
=
““# $
i
““% &
%
““' (
$num
““) +
==
““, .
$num
““/ 0
?
““1 2
new
““3 6
Money
““7 <
(
““< =
$num
““= ?
)
““? @
:
““A B
null
““C G
,
““G H
ProcessedBy
”” #
=
””$ %
cashier
””& -
.
””- .
Id
””. 0
,
””0 1

TerminalId
‘‘ "
=
‘‘# $
terminal
‘‘% -
.
‘‘- .
Id
‘‘. 0
,
‘‘0 1
CardType
’’  
=
’’! "
$str
’’# )
,
’’) *
Last4
÷÷ 
=
÷÷ 
$"
÷÷  "
{
÷÷" #
rng
÷÷# &
.
÷÷& '
Next
÷÷' +
(
÷÷+ ,
$num
÷÷, 0
,
÷÷0 1
$num
÷÷2 6
)
÷÷6 7
}
÷÷7 8
"
÷÷8 9
,
÷÷9 :
AuthCode
◊◊  
=
◊◊! "
$"
◊◊# %
$str
◊◊% &
{
◊◊& '
rng
◊◊' *
.
◊◊* +
Next
◊◊+ /
(
◊◊/ 0
$num
◊◊0 6
,
◊◊6 7
$num
◊◊8 >
)
◊◊> ?
}
◊◊? @
"
◊◊@ A
}
ÿÿ 
,
ÿÿ 
cancellationToken
ÿÿ (
)
ÿÿ( )
;
ÿÿ) *
}
ŸŸ 
else
⁄⁄ 
{
€€ 
await
›› 
processPayment
›› (
.
››( )
HandleAsync
››) 4
(
››4 5
new
››5 8#
ProcessPaymentCommand
››9 N
{
ﬁﬁ 
TicketId
ﬂﬂ  
=
ﬂﬂ! "
ticket
ﬂﬂ# )
.
ﬂﬂ) *
Id
ﬂﬂ* ,
,
ﬂﬂ, -
PaymentType
‡‡ #
=
‡‡$ %
PaymentType
‡‡& 1
.
‡‡1 2

CreditCard
‡‡2 <
,
‡‡< =
Amount
·· 
=
··  
due
··! $
,
··$ %

TipsAmount
‚‚ "
=
‚‚# $
i
‚‚% &
%
‚‚' (
$num
‚‚) *
==
‚‚+ -
$num
‚‚. /
?
‚‚0 1
new
‚‚2 5
Money
‚‚6 ;
(
‚‚; <
$num
‚‚< >
)
‚‚> ?
:
‚‚@ A
null
‚‚B F
,
‚‚F G
ProcessedBy
„„ #
=
„„$ %
cashier
„„& -
.
„„- .
Id
„„. 0
,
„„0 1

TerminalId
‰‰ "
=
‰‰# $
terminal
‰‰% -
.
‰‰- .
Id
‰‰. 0
,
‰‰0 1
CardType
ÂÂ  
=
ÂÂ! "
$str
ÂÂ# '
,
ÂÂ' (
Last4
ÊÊ 
=
ÊÊ 
$"
ÊÊ  "
{
ÊÊ" #
rng
ÊÊ# &
.
ÊÊ& '
Next
ÊÊ' +
(
ÊÊ+ ,
$num
ÊÊ, 0
,
ÊÊ0 1
$num
ÊÊ2 6
)
ÊÊ6 7
}
ÊÊ7 8
"
ÊÊ8 9
,
ÊÊ9 :
AuthCode
ÁÁ  
=
ÁÁ! "
$"
ÁÁ# %
$str
ÁÁ% &
{
ÁÁ& '
rng
ÁÁ' *
.
ÁÁ* +
Next
ÁÁ+ /
(
ÁÁ/ 0
$num
ÁÁ0 6
,
ÁÁ6 7
$num
ÁÁ8 >
)
ÁÁ> ?
}
ÁÁ? @
"
ÁÁ@ A
}
ËË 
,
ËË 
cancellationToken
ËË (
)
ËË( )
;
ËË) *
}
ÈÈ 
ticket
ÏÏ 
=
ÏÏ 
await
ÏÏ 

ticketRepo
ÏÏ )
.
ÏÏ) *
GetByIdAsync
ÏÏ* 6
(
ÏÏ6 7
ticket
ÏÏ7 =
.
ÏÏ= >
Id
ÏÏ> @
,
ÏÏ@ A
cancellationToken
ÏÏB S
)
ÏÏS T
;
ÏÏT U
if
ÌÌ 
(
ÌÌ 
ticket
ÌÌ 
!=
ÌÌ 
null
ÌÌ "
&&
ÌÌ# %
ticket
ÌÌ& ,
.
ÌÌ, -
Status
ÌÌ- 3
==
ÌÌ4 6
TicketStatus
ÌÌ7 C
.
ÌÌC D
Paid
ÌÌD H
)
ÌÌH I
{
ÓÓ 
await
ÔÔ 
closeTicket
ÔÔ %
.
ÔÔ% &
HandleAsync
ÔÔ& 1
(
ÔÔ1 2
new
ÔÔ2 5 
CloseTicketCommand
ÔÔ6 H
{
 
TicketId
ÒÒ  
=
ÒÒ! "
ticket
ÒÒ# )
.
ÒÒ) *
Id
ÒÒ* ,
,
ÒÒ, -
ClosedBy
ÚÚ  
=
ÚÚ! "
cashier
ÚÚ# *
.
ÚÚ* +
Id
ÚÚ+ -
}
ÛÛ 
,
ÛÛ 
cancellationToken
ÛÛ (
)
ÛÛ( )
;
ÛÛ) *
}
ÙÙ 
ticket
ˆˆ 
=
ˆˆ 
await
ˆˆ 

ticketRepo
ˆˆ )
.
ˆˆ) *
GetByIdAsync
ˆˆ* 6
(
ˆˆ6 7
ticketId
ˆˆ7 ?
,
ˆˆ? @
cancellationToken
ˆˆA R
)
ˆˆR S
;
ˆˆS T
if
˜˜ 
(
˜˜ 
ticket
˜˜ 
==
˜˜ 
null
˜˜ "
)
˜˜" #
continue
˜˜$ ,
;
˜˜, -
if
˙˙ 
(
˙˙ 
ticket
˙˙ 
.
˙˙ 

OrderLines
˙˙ %
.
˙˙% &
Any
˙˙& )
(
˙˙) *
)
˙˙* +
&&
˙˙, .
i
˙˙/ 0
%
˙˙1 2
$num
˙˙3 4
==
˙˙5 7
$num
˙˙8 9
)
˙˙9 :
{
˚˚ 
var
¸¸ 

serverName
¸¸ "
=
¸¸# $
$"
¸¸% '
{
¸¸' (
server
¸¸( .
.
¸¸. /
	FirstName
¸¸/ 8
}
¸¸8 9
$str
¸¸9 :
{
¸¸: ;
server
¸¸; A
.
¸¸A B
LastName
¸¸B J
}
¸¸J K
"
¸¸K L
;
¸¸L M
var
˝˝ 
	tableName
˝˝ !
=
˝˝" #
ticket
˝˝$ *
.
˝˝* +
TableNumbers
˝˝+ 7
.
˝˝7 8
Any
˝˝8 ;
(
˝˝; <
)
˝˝< =
?
˝˝> ?
ticket
˝˝@ F
.
˝˝F G
TableNumbers
˝˝G S
.
˝˝S T
First
˝˝T Y
(
˝˝Y Z
)
˝˝Z [
.
˝˝[ \
ToString
˝˝\ d
(
˝˝d e
)
˝˝e f
:
˝˝g h
$str
˝˝i o
;
˝˝o p
var
ˇˇ 
ko
ˇˇ 
=
ˇˇ 
new
ˇˇ  
KitchenOrder
ˇˇ! -
(
ˇˇ- .
ticket
ˇˇ. 4
.
ˇˇ4 5
Id
ˇˇ5 7
,
ˇˇ7 8

serverName
ˇˇ9 C
,
ˇˇC D
	tableName
ˇˇE N
)
ˇˇN O
;
ˇˇO P
foreach
ÄÄ 
(
ÄÄ 
var
ÄÄ  
ol
ÄÄ! #
in
ÄÄ$ &
ticket
ÄÄ' -
.
ÄÄ- .

OrderLines
ÄÄ. 8
.
ÄÄ8 9
Where
ÄÄ9 >
(
ÄÄ> ?
x
ÄÄ? @
=>
ÄÄA C
x
ÄÄD E
.
ÄÄE F"
ShouldPrintToKitchen
ÄÄF Z
)
ÄÄZ [
)
ÄÄ[ \
{
ÅÅ 
ko
ÇÇ 
.
ÇÇ 
AddItem
ÇÇ "
(
ÇÇ" #
ol
ÉÉ 
.
ÉÉ 
Id
ÉÉ !
,
ÉÉ! "
ol
ÑÑ 
.
ÑÑ 
MenuItemName
ÑÑ +
,
ÑÑ+ ,
(
ÖÖ 
int
ÖÖ  
)
ÖÖ  !
Math
ÖÖ! %
.
ÖÖ% &
Ceiling
ÖÖ& -
(
ÖÖ- .
ol
ÖÖ. 0
.
ÖÖ0 1
Quantity
ÖÖ1 9
)
ÖÖ9 :
,
ÖÖ: ;
ol
ÜÜ 
.
ÜÜ 
PrinterGroupId
ÜÜ -
??
ÜÜ. 0
Guid
ÜÜ1 5
.
ÜÜ5 6
Empty
ÜÜ6 ;
,
ÜÜ; <
ol
áá 
.
áá 
	Modifiers
áá (
.
áá( )
Select
áá) /
(
áá/ 0
m
áá0 1
=>
áá2 4
m
áá5 6
.
áá6 7
Name
áá7 ;
)
áá; <
.
áá< =
ToList
áá= C
(
ááC D
)
ááD E
)
ááE F
;
ááF G
}
àà 
if
ãã 
(
ãã 
i
ãã 
%
ãã 
$num
ãã 
==
ãã  
$num
ãã! "
)
ãã" #
ko
ãã$ &
.
ãã& '
Bump
ãã' +
(
ãã+ ,
)
ãã, -
;
ãã- .
if
åå 
(
åå 
i
åå 
%
åå 
$num
åå 
==
åå !
$num
åå" #
)
åå# $
ko
åå% '
.
åå' (
Bump
åå( ,
(
åå, -
)
åå- .
;
åå. /
if
çç 
(
çç 
i
çç 
%
çç 
$num
çç 
==
çç !
$num
çç" #
)
çç# $
ko
çç% '
.
çç' (
Void
çç( ,
(
çç, -
)
çç- .
;
çç. /
ReflectionUtil
êê "
.
êê" #
SetProperty
êê# .
(
êê. /
ko
êê/ 1
,
êê1 2
$str
êê3 >
,
êê> ?
day
êê@ C
.
êêC D
AddHours
êêD L
(
êêL M
$num
êêM O
+
êêP Q
rng
êêR U
.
êêU V
Next
êêV Z
(
êêZ [
$num
êê[ \
,
êê\ ]
$num
êê^ `
)
êê` a
)
êêa b
)
êêb c
;
êêc d
await
íí 
kitchenOrderRepo
íí *
.
íí* +
AddAsync
íí+ 3
(
íí3 4
ko
íí4 6
)
íí6 7
;
íí7 8
}
ìì 
if
ññ 
(
ññ 
ticket
ññ 
.
ññ 
Payments
ññ #
.
ññ# $
Any
ññ$ '
(
ññ' (
p
ññ( )
=>
ññ* ,
!
ññ- .
p
ññ. /
.
ññ/ 0
IsVoided
ññ0 8
&&
ññ9 ;
p
ññ< =
.
ññ= >
TransactionType
ññ> M
==
ññN P
TransactionType
ññQ `
.
ññ` a
Credit
ñña g
)
ññg h
&&
ññi k
i
ññl m
%
ññn o
$num
ññp r
==
ññs u
$num
ññv w
)
ññw x
{
óó 
var
òò 
original
òò  
=
òò! "
ticket
òò# )
.
òò) *
Payments
òò* 2
.
òò2 3
First
òò3 8
(
òò8 9
p
òò9 :
=>
òò; =
!
òò> ?
p
òò? @
.
òò@ A
IsVoided
òòA I
&&
òòJ L
p
òòM N
.
òòN O
TransactionType
òòO ^
==
òò_ a
TransactionType
òòb q
.
òòq r
Credit
òòr x
)
òòx y
;
òòy z
await
ôô 
refundPayment
ôô '
.
ôô' (
HandleAsync
ôô( 3
(
ôô3 4
new
ôô4 7"
RefundPaymentCommand
ôô8 L
{
öö 
OriginalPaymentId
õõ )
=
õõ* +
original
õõ, 4
.
õõ4 5
Id
õõ5 7
,
õõ7 8
RefundAmount
úú $
=
úú% &
new
úú' *
Money
úú+ 0
(
úú0 1
Math
úú1 5
.
úú5 6
Min
úú6 9
(
úú9 :
$num
úú: <
,
úú< =
original
úú> F
.
úúF G
Amount
úúG M
.
úúM N
Amount
úúN T
)
úúT U
)
úúU V
,
úúV W
ProcessedBy
ùù #
=
ùù$ %
manager
ùù& -
.
ùù- .
Id
ùù. 0
,
ùù0 1

TerminalId
ûû "
=
ûû# $
terminal
ûû% -
.
ûû- .
Id
ûû. 0
,
ûû0 1
Reason
üü 
=
üü  
$str
üü! .
,
üü. /
}
†† 
,
†† 
cancellationToken
†† (
)
††( )
;
††) *
}
°° 
BackdateTicket
§§ 
(
§§ 
ticket
§§ %
,
§§% &
day
§§' *
.
§§* +
AddHours
§§+ 3
(
§§3 4
$num
§§4 6
+
§§7 8
rng
§§9 <
.
§§< =
Next
§§= A
(
§§A B
$num
§§B C
,
§§C D
$num
§§E G
)
§§G H
)
§§H I
)
§§I J
;
§§J K
foreach
•• 
(
•• 
var
•• 
p
•• 
in
•• !
ticket
••" (
.
••( )
Payments
••) 1
)
••1 2
{
¶¶ 
ReflectionUtil
ßß "
.
ßß" #
SetProperty
ßß# .
(
ßß. /
p
ßß/ 0
,
ßß0 1
$str
ßß2 C
,
ßßC D
day
ßßE H
.
ßßH I
AddHours
ßßI Q
(
ßßQ R
$num
ßßR T
+
ßßU V
rng
ßßW Z
.
ßßZ [
Next
ßß[ _
(
ßß_ `
$num
ßß` a
,
ßßa b
$num
ßßc e
)
ßße f
)
ßßf g
.
ßßg h

AddMinutes
ßßh r
(
ßßr s
rng
ßßs v
.
ßßv w
Next
ßßw {
(
ßß{ |
$num
ßß| }
,
ßß} ~
$numßß Å
)ßßÅ Ç
)ßßÇ É
)ßßÉ Ñ
;ßßÑ Ö
}
®® 
await
™™ 

ticketRepo
™™  
.
™™  !
UpdateAsync
™™! ,
(
™™, -
ticket
™™- 3
,
™™3 4
cancellationToken
™™5 F
)
™™F G
;
™™G H
await
´´ 
db
´´ 
.
´´ 
SaveChangesAsync
´´ )
(
´´) *
cancellationToken
´´* ;
)
´´; <
;
´´< =
}
¨¨ 
}
≠≠ 	
}
ÆÆ 
private
∞∞ 
static
∞∞ 
List
∞∞ 
<
∞∞ 
MenuModifier
∞∞ $
>
∞∞$ %&
PickModifiersForMenuItem
∞∞& >
(
∞∞> ?
List
∞∞? C
<
∞∞C D
MenuModifier
∞∞D P
>
∞∞P Q
all
∞∞R U
,
∞∞U V
string
∞∞W ]
itemName
∞∞^ f
,
∞∞f g
Random
∞∞h n
rng
∞∞o r
)
∞∞r s
{
±± 
if
≥≥ 

(
≥≥ 
itemName
≥≥ 
.
≥≥ 
Contains
≥≥ 
(
≥≥ 
$str
≥≥ %
,
≥≥% &
StringComparison
≥≥' 7
.
≥≥7 8
OrdinalIgnoreCase
≥≥8 I
)
≥≥I J
)
≥≥J K
{
¥¥ 	
var
µµ 
size
µµ 
=
µµ 
all
µµ 
.
µµ 
Where
µµ  
(
µµ  !
m
µµ! "
=>
µµ# %
m
µµ& '
.
µµ' (
Name
µµ( ,
.
µµ, -
Contains
µµ- 5
(
µµ5 6
$str
µµ6 =
)
µµ= >
||
µµ? A
m
µµB C
.
µµC D
Name
µµD H
.
µµH I
Contains
µµI Q
(
µµQ R
$str
µµR Z
)
µµZ [
||
µµ\ ^
m
µµ_ `
.
µµ` a
Name
µµa e
.
µµe f
Contains
µµf n
(
µµn o
$str
µµo v
)
µµv w
)
µµw x
.
µµx y
ToList
µµy 
(µµ Ä
)µµÄ Å
;µµÅ Ç
var
∂∂ 
toppings
∂∂ 
=
∂∂ 
all
∂∂ 
.
∂∂ 
Where
∂∂ $
(
∂∂$ %
m
∂∂% &
=>
∂∂' )
m
∂∂* +
.
∂∂+ ,
ModifierGroupId
∂∂, ;
!=
∂∂< >
null
∂∂? C
&&
∂∂D F
m
∂∂G H
.
∂∂H I
Name
∂∂I M
is
∂∂N P
$str
∂∂Q \
or
∂∂] _
$str
∂∂` k
or
∂∂l n
$str
∂∂o w
or
∂∂x z
$str∂∂{ â
)∂∂â ä
.∂∂ä ã
ToList∂∂ã ë
(∂∂ë í
)∂∂í ì
;∂∂ì î
var
∏∏ 
selected
∏∏ 
=
∏∏ 
new
∏∏ 
List
∏∏ #
<
∏∏# $
MenuModifier
∏∏$ 0
>
∏∏0 1
{
∏∏2 3
size
∏∏4 8
[
∏∏8 9
rng
∏∏9 <
.
∏∏< =
Next
∏∏= A
(
∏∏A B
size
∏∏B F
.
∏∏F G
Count
∏∏G L
)
∏∏L M
]
∏∏M N
}
∏∏O P
;
∏∏P Q
var
ππ 
tCount
ππ 
=
ππ 
rng
ππ 
.
ππ 
Next
ππ !
(
ππ! "
$num
ππ" #
,
ππ# $
$num
ππ% &
)
ππ& '
;
ππ' (
selected
∫∫ 
.
∫∫ 
AddRange
∫∫ 
(
∫∫ 
toppings
∫∫ &
.
∫∫& '
OrderBy
∫∫' .
(
∫∫. /
_
∫∫/ 0
=>
∫∫1 3
rng
∫∫4 7
.
∫∫7 8
Next
∫∫8 <
(
∫∫< =
)
∫∫= >
)
∫∫> ?
.
∫∫? @
Take
∫∫@ D
(
∫∫D E
tCount
∫∫E K
)
∫∫K L
)
∫∫L M
;
∫∫M N
return
ªª 
selected
ªª 
;
ªª 
}
ºº 	
if
ææ 

(
ææ 
itemName
ææ 
.
ææ 
Contains
ææ 
(
ææ 
$str
ææ &
,
ææ& '
StringComparison
ææ( 8
.
ææ8 9
OrdinalIgnoreCase
ææ9 J
)
ææJ K
)
ææK L
{
øø 	
var
¿¿ 
temps
¿¿ 
=
¿¿ 
all
¿¿ 
.
¿¿ 
Where
¿¿ !
(
¿¿! "
m
¿¿" #
=>
¿¿$ &
m
¿¿' (
.
¿¿( )
Name
¿¿) -
is
¿¿. 0
$str
¿¿1 7
or
¿¿8 :
$str
¿¿; C
or
¿¿D F
$str
¿¿G R
)
¿¿R S
.
¿¿S T
ToList
¿¿T Z
(
¿¿Z [
)
¿¿[ \
;
¿¿\ ]
var
¡¡ 
addons
¡¡ 
=
¡¡ 
all
¡¡ 
.
¡¡ 
Where
¡¡ "
(
¡¡" #
m
¡¡# $
=>
¡¡% '
m
¡¡( )
.
¡¡) *
Name
¡¡* .
is
¡¡/ 1
$str
¡¡2 9
or
¡¡: <
$str
¡¡= F
or
¡¡G I
$str
¡¡J W
)
¡¡W X
.
¡¡X Y
ToList
¡¡Y _
(
¡¡_ `
)
¡¡` a
;
¡¡a b
var
¬¬ 
selected
¬¬ 
=
¬¬ 
new
¬¬ 
List
¬¬ #
<
¬¬# $
MenuModifier
¬¬$ 0
>
¬¬0 1
{
¬¬2 3
temps
¬¬4 9
[
¬¬9 :
rng
¬¬: =
.
¬¬= >
Next
¬¬> B
(
¬¬B C
temps
¬¬C H
.
¬¬H I
Count
¬¬I N
)
¬¬N O
]
¬¬O P
}
¬¬Q R
;
¬¬R S
selected
√√ 
.
√√ 
AddRange
√√ 
(
√√ 
addons
√√ $
.
√√$ %
OrderBy
√√% ,
(
√√, -
_
√√- .
=>
√√/ 1
rng
√√2 5
.
√√5 6
Next
√√6 :
(
√√: ;
)
√√; <
)
√√< =
.
√√= >
Take
√√> B
(
√√B C
rng
√√C F
.
√√F G
Next
√√G K
(
√√K L
$num
√√L M
,
√√M N
$num
√√O P
)
√√P Q
)
√√Q R
)
√√R S
;
√√S T
return
ƒƒ 
selected
ƒƒ 
;
ƒƒ 
}
≈≈ 	
if
«« 

(
«« 
itemName
«« 
.
«« 
Contains
«« 
(
«« 
$str
«« $
,
««$ %
StringComparison
««& 6
.
««6 7
OrdinalIgnoreCase
««7 H
)
««H I
||
»» 
itemName
»» 
.
»» 
Contains
»»  
(
»»  !
$str
»»! &
,
»»& '
StringComparison
»»( 8
.
»»8 9
OrdinalIgnoreCase
»»9 J
)
»»J K
||
…… 
itemName
…… 
.
…… 
Contains
……  
(
……  !
$str
……! +
,
……+ ,
StringComparison
……- =
.
……= >
OrdinalIgnoreCase
……> O
)
……O P
)
……P Q
{
   	
var
ÀÀ 
sizes
ÀÀ 
=
ÀÀ 
all
ÀÀ 
.
ÀÀ 
Where
ÀÀ !
(
ÀÀ! "
m
ÀÀ" #
=>
ÀÀ$ &
m
ÀÀ' (
.
ÀÀ( )
ModifierGroupId
ÀÀ) 8
!=
ÀÀ9 ;
null
ÀÀ< @
&&
ÀÀA C
(
ÀÀD E
m
ÀÀE F
.
ÀÀF G
Name
ÀÀG K
==
ÀÀL N
$str
ÀÀO V
||
ÀÀW Y
m
ÀÀZ [
.
ÀÀ[ \
Name
ÀÀ\ `
==
ÀÀa c
$str
ÀÀd l
||
ÀÀm o
m
ÀÀp q
.
ÀÀq r
Name
ÀÀr v
==
ÀÀw y
$strÀÀz Å
)ÀÀÅ Ç
)ÀÀÇ É
.ÀÀÉ Ñ
ToListÀÀÑ ä
(ÀÀä ã
)ÀÀã å
;ÀÀå ç
return
ÃÃ 
new
ÃÃ 
List
ÃÃ 
<
ÃÃ 
MenuModifier
ÃÃ (
>
ÃÃ( )
{
ÃÃ* +
sizes
ÃÃ, 1
[
ÃÃ1 2
rng
ÃÃ2 5
.
ÃÃ5 6
Next
ÃÃ6 :
(
ÃÃ: ;
sizes
ÃÃ; @
.
ÃÃ@ A
Count
ÃÃA F
)
ÃÃF G
]
ÃÃG H
}
ÃÃI J
;
ÃÃJ K
}
ÕÕ 	
if
œœ 

(
œœ 
itemName
œœ 
.
œœ 
Contains
œœ 
(
œœ 
$str
œœ &
,
œœ& '
StringComparison
œœ( 8
.
œœ8 9
OrdinalIgnoreCase
œœ9 J
)
œœJ K
||
œœL N
itemName
œœO W
.
œœW X
Contains
œœX `
(
œœ` a
$str
œœa h
,
œœh i
StringComparison
œœj z
.
œœz { 
OrdinalIgnoreCaseœœ{ å
)œœå ç
)œœç é
{
–– 	
var
—— 
milk
—— 
=
—— 
all
—— 
.
—— 
Where
——  
(
——  !
m
——! "
=>
——# %
m
——& '
.
——' (
Name
——( ,
is
——- /
$str
——0 <
or
——= ?
$str
——@ J
)
——J K
.
——K L
ToList
——L R
(
——R S
)
——S T
;
——T U
var
““ 
syrup
““ 
=
““ 
all
““ 
.
““ 
Where
““ !
(
““! "
m
““" #
=>
““$ &
m
““' (
.
““( )
Name
““) -
.
““- .
Contains
““. 6
(
““6 7
$str
““7 >
)
““> ?
)
““? @
.
““@ A
ToList
““A G
(
““G H
)
““H I
;
““I J
var
”” 
selected
”” 
=
”” 
new
”” 
List
”” #
<
””# $
MenuModifier
””$ 0
>
””0 1
(
””1 2
)
””2 3
;
””3 4
if
‘‘ 
(
‘‘ 
rng
‘‘ 
.
‘‘ 

NextDouble
‘‘ 
(
‘‘ 
)
‘‘  
<
‘‘! "
$num
‘‘# &
)
‘‘& '
selected
‘‘( 0
.
‘‘0 1
Add
‘‘1 4
(
‘‘4 5
milk
‘‘5 9
[
‘‘9 :
rng
‘‘: =
.
‘‘= >
Next
‘‘> B
(
‘‘B C
milk
‘‘C G
.
‘‘G H
Count
‘‘H M
)
‘‘M N
]
‘‘N O
)
‘‘O P
;
‘‘P Q
selected
’’ 
.
’’ 
AddRange
’’ 
(
’’ 
syrup
’’ #
.
’’# $
OrderBy
’’$ +
(
’’+ ,
_
’’, -
=>
’’. 0
rng
’’1 4
.
’’4 5
Next
’’5 9
(
’’9 :
)
’’: ;
)
’’; <
.
’’< =
Take
’’= A
(
’’A B
rng
’’B E
.
’’E F
Next
’’F J
(
’’J K
$num
’’K L
,
’’L M
$num
’’N O
)
’’O P
)
’’P Q
)
’’Q R
;
’’R S
return
÷÷ 
selected
÷÷ 
;
÷÷ 
}
◊◊ 	
return
ŸŸ 
new
ŸŸ 
List
ŸŸ 
<
ŸŸ 
MenuModifier
ŸŸ $
>
ŸŸ$ %
(
ŸŸ% &
)
ŸŸ& '
;
ŸŸ' (
}
⁄⁄ 
private
‹‹ 
static
‹‹ 
void
‹‹ 
BackdateTicket
‹‹ &
(
‹‹& '
Ticket
‹‹' -
ticket
‹‹. 4
,
‹‹4 5
DateTime
‹‹6 >
	createdAt
‹‹? H
)
‹‹H I
{
›› 
ReflectionUtil
ﬁﬁ 
.
ﬁﬁ 
SetProperty
ﬁﬁ "
(
ﬁﬁ" #
ticket
ﬁﬁ# )
,
ﬁﬁ) *
$str
ﬁﬁ+ 6
,
ﬁﬁ6 7
	createdAt
ﬁﬁ8 A
)
ﬁﬁA B
;
ﬁﬁB C
ReflectionUtil
ﬂﬂ 
.
ﬂﬂ 
SetProperty
ﬂﬂ "
(
ﬂﬂ" #
ticket
ﬂﬂ# )
,
ﬂﬂ) *
$str
ﬂﬂ+ 5
,
ﬂﬂ5 6
	createdAt
ﬂﬂ7 @
.
ﬂﬂ@ A

AddMinutes
ﬂﬂA K
(
ﬂﬂK L
$num
ﬂﬂL M
)
ﬂﬂM N
)
ﬂﬂN O
;
ﬂﬂO P
ReflectionUtil
‡‡ 
.
‡‡ 
SetProperty
‡‡ "
(
‡‡" #
ticket
‡‡# )
,
‡‡) *
$str
‡‡+ 5
,
‡‡5 6
ticket
‡‡7 =
.
‡‡= >
Status
‡‡> D
==
‡‡E G
TicketStatus
‡‡H T
.
‡‡T U
Closed
‡‡U [
?
‡‡\ ]
	createdAt
‡‡^ g
.
‡‡g h

AddMinutes
‡‡h r
(
‡‡r s
$num
‡‡s u
)
‡‡u v
:
‡‡w x
null
‡‡y }
)
‡‡} ~
;
‡‡~ 
ReflectionUtil
·· 
.
·· 
SetProperty
·· "
(
··" #
ticket
··# )
,
··) *
$str
··+ 7
,
··7 8
	createdAt
··9 B
)
··B C
;
··C D
}
‚‚ 
private
‰‰ 
static
‰‰ 
async
‰‰ 
Task
‰‰ (
SeedAttendanceHistoryAsync
‰‰ 8
(
‰‰8 9"
ApplicationDbContext
ÂÂ 
db
ÂÂ 
,
ÂÂ  

Dictionary
ÊÊ 
<
ÊÊ 
string
ÊÊ 
,
ÊÊ 
User
ÊÊ 
>
ÊÊ  
users
ÊÊ! &
,
ÊÊ& '

Dictionary
ÁÁ 
<
ÁÁ 
string
ÁÁ 
,
ÁÁ 
Shift
ÁÁ  
>
ÁÁ  !
shifts
ÁÁ" (
,
ÁÁ( )
SeedOptions
ËË 
options
ËË 
,
ËË 
CancellationToken
ÈÈ 
cancellationToken
ÈÈ +
)
ÈÈ+ ,
{
ÍÍ 
var
ÏÏ 
server
ÏÏ 
=
ÏÏ 
users
ÏÏ 
[
ÏÏ 
$str
ÏÏ #
]
ÏÏ# $
;
ÏÏ$ %
var
ÌÌ 
cashier
ÌÌ 
=
ÌÌ 
users
ÌÌ 
[
ÌÌ 
$str
ÌÌ %
]
ÌÌ% &
;
ÌÌ& '
var
ÓÓ 
dinner
ÓÓ 
=
ÓÓ 
shifts
ÓÓ 
[
ÓÓ 
$str
ÓÓ $
]
ÓÓ$ %
;
ÓÓ% &
for
 
(
 
var
 
d
 
=
 
$num
 
;
 
d
 
<=
 
options
 $
.
$ %
HistoryDays
% 0
;
0 1
d
2 3
++
3 5
)
5 6
{
ÒÒ 	
var
ÚÚ 
day
ÚÚ 
=
ÚÚ 
DateTime
ÚÚ 
.
ÚÚ 
UtcNow
ÚÚ %
.
ÚÚ% &
Date
ÚÚ& *
.
ÚÚ* +
AddDays
ÚÚ+ 2
(
ÚÚ2 3
-
ÚÚ3 4
d
ÚÚ4 5
)
ÚÚ5 6
;
ÚÚ6 7
var
ÙÙ 
serverAttendance
ÙÙ  
=
ÙÙ! "
AttendanceHistory
ÙÙ# 4
.
ÙÙ4 5
Create
ÙÙ5 ;
(
ÙÙ; <
server
ÙÙ< B
.
ÙÙB C
Id
ÙÙC E
,
ÙÙE F
dinner
ÙÙG M
.
ÙÙM N
Id
ÙÙN P
)
ÙÙP Q
;
ÙÙQ R
ReflectionUtil
ıı 
.
ıı 
SetProperty
ıı &
(
ıı& '
serverAttendance
ıı' 7
,
ıı7 8
$str
ıı9 F
,
ııF G
day
ııH K
.
ııK L
AddHours
ııL T
(
ııT U
$num
ııU W
)
ııW X
)
ııX Y
;
ııY Z
ReflectionUtil
ˆˆ 
.
ˆˆ 
SetProperty
ˆˆ &
(
ˆˆ& '
serverAttendance
ˆˆ' 7
,
ˆˆ7 8
$str
ˆˆ9 G
,
ˆˆG H
day
ˆˆI L
.
ˆˆL M
AddHours
ˆˆM U
(
ˆˆU V
$num
ˆˆV X
)
ˆˆX Y
)
ˆˆY Z
;
ˆˆZ [
var
¯¯ 
cashierAttendance
¯¯ !
=
¯¯" #
AttendanceHistory
¯¯$ 5
.
¯¯5 6
Create
¯¯6 <
(
¯¯< =
cashier
¯¯= D
.
¯¯D E
Id
¯¯E G
,
¯¯G H
dinner
¯¯I O
.
¯¯O P
Id
¯¯P R
)
¯¯R S
;
¯¯S T
ReflectionUtil
˘˘ 
.
˘˘ 
SetProperty
˘˘ &
(
˘˘& '
cashierAttendance
˘˘' 8
,
˘˘8 9
$str
˘˘: G
,
˘˘G H
day
˘˘I L
.
˘˘L M
AddHours
˘˘M U
(
˘˘U V
$num
˘˘V X
)
˘˘X Y
)
˘˘Y Z
;
˘˘Z [
ReflectionUtil
˙˙ 
.
˙˙ 
SetProperty
˙˙ &
(
˙˙& '
cashierAttendance
˙˙' 8
,
˙˙8 9
$str
˙˙: H
,
˙˙H I
day
˙˙J M
.
˙˙M N
AddHours
˙˙N V
(
˙˙V W
$num
˙˙W Y
)
˙˙Y Z
)
˙˙Z [
;
˙˙[ \
db
¸¸ 
.
¸¸ !
AttendanceHistories
¸¸ "
.
¸¸" #
AddRange
¸¸# +
(
¸¸+ ,
serverAttendance
¸¸, <
,
¸¸< =
cashierAttendance
¸¸> O
)
¸¸O P
;
¸¸P Q
}
˝˝ 	
await
ˇˇ 
db
ˇˇ 
.
ˇˇ 
SaveChangesAsync
ˇˇ !
(
ˇˇ! "
cancellationToken
ˇˇ" 3
)
ˇˇ3 4
;
ˇˇ4 5
}
ÄÄ 
}ÅÅ 
internalÉÉ 
static
ÉÉ	 
class
ÉÉ 
DbFacts
ÉÉ 
{ÑÑ 
public
ÖÖ 

static
ÖÖ 
async
ÖÖ 
Task
ÖÖ 
<
ÖÖ 
string
ÖÖ #
>
ÖÖ# $%
GetCurrentDatabaseAsync
ÖÖ% <
(
ÖÖ< ="
ApplicationDbContext
ÖÖ= Q
db
ÖÖR T
,
ÖÖT U
CancellationToken
ÖÖV g
cancellationToken
ÖÖh y
)
ÖÖy z
{
ÜÜ 
await
áá 
db
áá 
.
áá 
Database
áá 
.
áá !
OpenConnectionAsync
áá -
(
áá- .
cancellationToken
áá. ?
)
áá? @
;
áá@ A
try
àà 
{
ââ 	
await
ää 
using
ää 
var
ää 
cmd
ää 
=
ää  !
db
ää" $
.
ää$ %
Database
ää% -
.
ää- .
GetDbConnection
ää. =
(
ää= >
)
ää> ?
.
ää? @
CreateCommand
ää@ M
(
ääM N
)
ääN O
;
ääO P
cmd
ãã 
.
ãã 
CommandText
ãã 
=
ãã 
$str
ãã :
;
ãã: ;
var
åå 
result
åå 
=
åå 
await
åå 
cmd
åå "
.
åå" # 
ExecuteScalarAsync
åå# 5
(
åå5 6
cancellationToken
åå6 G
)
ååG H
;
ååH I
return
çç 
Convert
çç 
.
çç 
ToString
çç #
(
çç# $
result
çç$ *
)
çç* +
??
çç, .
string
çç/ 5
.
çç5 6
Empty
çç6 ;
;
çç; <
}
éé 	
finally
èè 
{
êê 	
await
ëë 
db
ëë 
.
ëë 
Database
ëë 
.
ëë "
CloseConnectionAsync
ëë 2
(
ëë2 3
)
ëë3 4
;
ëë4 5
}
íí 	
}
ìì 
}îî 
internalññ 
sealed
ññ	 
record
ññ 
MenuSeed
ññ 
(
ññ  
IReadOnlyList
óó 
<
óó 
MenuCategory
óó 
>
óó 

Categories
óó  *
,
óó* +
IReadOnlyList
òò 
<
òò 
	MenuGroup
òò 
>
òò 
Groups
òò #
,
òò# $
IReadOnlyList
ôô 
<
ôô 
MenuItem
ôô 
>
ôô 
Items
ôô !
,
ôô! "
ComboDefinition
öö "
LunchComboDefinition
öö (
)
öö( )
;
öö) *ô8
oC:\Users\giris\Documents\Code\Redesign-POS\Windows Based POS\Magidesk\Magidesk.Migrations\Seeding\DbResetter.cs
	namespace 	
Magidesk
 
. 

Migrations 
. 
Seeding %
;% &
internal 
static	 
class 

DbResetter  
{ 
public		 

static		 
async		 
Task		 

ResetAsync		 '
(		' ( 
ApplicationDbContext

 
db

 
,

  
string  
expectedDatabaseName #
,# $
bool 
force 
, 
CancellationToken 
cancellationToken +
=, -
default. 5
)5 6
{ 
await 
db 
. 
Database 
. 
OpenConnectionAsync -
(- .
cancellationToken. ?
)? @
;@ A
try 
{ 	
var 
	currentDb 
= 
await !$
ExecuteScalarStringAsync" :
(: ;
db; =
,= >
$str? [
,[ \
cancellationToken] n
)n o
;o p
if 
( 
! 
force 
&& 
! 
string !
.! "
Equals" (
(( )
	currentDb) 2
,2 3 
expectedDatabaseName4 H
,H I
StringComparisonJ Z
.Z [
OrdinalIgnoreCase[ l
)l m
)m n
{ 
throw 
new %
InvalidOperationException 3
(3 4
$" 
$str 2
{2 3
	currentDb3 <
}< =
$str= J
{J K 
expectedDatabaseNameK _
}_ `
$str` c
"c d
+e f
$str ;
); <
;< =
} 
var 
tables 
= 
await %
QueryQualifiedTablesAsync 8
(8 9
db 
, 
cancellationToken !
)! "
;" #
if   
(   
tables   
.   
Count   
==   
$num    !
)  ! "
{!! 
return"" 
;"" 
}## 
var&& 
sql&& 
=&& 
$"&& 
$str&& '
{&&' (
string&&( .
.&&. /
Join&&/ 3
(&&3 4
$str&&4 8
,&&8 9
tables&&: @
)&&@ A
}&&A B
$str&&B \
"&&\ ]
;&&] ^
await'' 
db'' 
.'' 
Database'' 
.'' 
ExecuteSqlRawAsync'' 0
(''0 1
sql''1 4
,''4 5
cancellationToken''6 G
)''G H
;''H I
}(( 	
finally)) 
{** 	
await++ 
db++ 
.++ 
Database++ 
.++  
CloseConnectionAsync++ 2
(++2 3
)++3 4
;++4 5
},, 	
}-- 
private// 
static// 
async// 
Task// 
<// 
string// $
>//$ %$
ExecuteScalarStringAsync//& >
(//> ? 
ApplicationDbContext00 
db00 
,00  
string11 
sql11 
,11 
CancellationToken22 
cancellationToken22 +
)22+ ,
{33 
await44 
using44 
var44 
cmd44 
=44 
db44  
.44  !
Database44! )
.44) *
GetDbConnection44* 9
(449 :
)44: ;
.44; <
CreateCommand44< I
(44I J
)44J K
;44K L
cmd55 
.55 
CommandText55 
=55 
sql55 
;55 
cmd66 
.66 
CommandType66 
=66 
CommandType66 %
.66% &
Text66& *
;66* +
var77 
result77 
=77 
await77 
cmd77 
.77 
ExecuteScalarAsync77 1
(771 2
cancellationToken772 C
)77C D
;77D E
return88 
Convert88 
.88 
ToString88 
(88  
result88  &
)88& '
??88( *
string88+ 1
.881 2
Empty882 7
;887 8
}99 
private;; 
static;; 
async;; 
Task;; 
<;; 
List;; "
<;;" #
string;;# )
>;;) *
>;;* +%
QueryQualifiedTablesAsync;;, E
(;;E F 
ApplicationDbContext<< 
db<< 
,<<  
CancellationToken== 
cancellationToken== +
)==+ ,
{>> 
await?? 
using?? 
var?? 
cmd?? 
=?? 
db??  
.??  !
Database??! )
.??) *
GetDbConnection??* 9
(??9 :
)??: ;
.??; <
CreateCommand??< I
(??I J
)??J K
;??K L
cmd@@ 
.@@ 
CommandText@@ 
=@@ 
$strAA +
+AA, -
$strBB 
+BB 
$strCC J
+CCK L
$strDD 7
;DD7 8
cmdEE 
.EE 
CommandTypeEE 
=EE 
CommandTypeEE %
.EE% &
TextEE& *
;EE* +
varGG 
resultsGG 
=GG 
newGG 
ListGG 
<GG 
stringGG %
>GG% &
(GG& '
)GG' (
;GG( )
awaitHH 
usingHH 
varHH 
readerHH 
=HH  
awaitHH! &
cmdHH' *
.HH* +
ExecuteReaderAsyncHH+ =
(HH= >
cancellationTokenHH> O
)HHO P
;HHP Q
whileII 
(II 
awaitII 
readerII 
.II 
	ReadAsyncII %
(II% &
cancellationTokenII& 7
)II7 8
)II8 9
{JJ 	
varKK 
schemaKK 
=KK 
readerKK 
.KK  
	GetStringKK  )
(KK) *
$numKK* +
)KK+ ,
;KK, -
varLL 
tableLL 
=LL 
readerLL 
.LL 
	GetStringLL (
(LL( )
$numLL) *
)LL* +
;LL+ ,
resultsMM 
.MM 
AddMM 
(MM 
$"MM 
$strMM 
{MM 
schemaMM #
.MM# $
ReplaceMM$ +
(MM+ ,
$strMM, 0
,MM0 1
$strMM2 8
)MM8 9
}MM9 :
$strMM: ?
{MM? @
tableMM@ E
.MME F
ReplaceMMF M
(MMM N
$strMMN R
,MMR S
$strMMT Z
)MMZ [
}MM[ \
$strMM\ ^
"MM^ _
)MM_ `
;MM` a
}NN 	
returnPP 
resultsPP 
;PP 
}QQ 
}RR àA
ÑC:\Users\giris\Documents\Code\Redesign-POS\Windows Based POS\Magidesk\Magidesk.Migrations\Migrations\20260106150426_AddIsDraftCol.cs
	namespace 	
Magidesk
 
. 

Migrations 
. 

Migrations (
{ 
public		 

partial		 
class		 
AddIsDraftCol		 &
:		' (
	Migration		) 2
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
double) /
>/ 0
(0 1
name 
: 
$str 
, 
schema 
: 
$str "
," #
table 
: 
$str 
,  
type 
: 
$str (
,( )
nullable 
: 
false 
,  
defaultValue 
: 
$num !
,! "

oldClrType 
: 
typeof "
(" #
int# &
)& '
,' (
oldType 
: 
$str "
," #
oldDefaultValue 
:  
$num! "
)" #
;# $
migrationBuilder 
. 
AlterColumn (
<( )
double) /
>/ 0
(0 1
name 
: 
$str 
, 
schema 
: 
$str "
," #
table 
: 
$str 
,  
type 
: 
$str (
,( )
nullable 
: 
false 
,  
defaultValue 
: 
$num !
,! "

oldClrType   
:   
typeof   "
(  " #
int  # &
)  & '
,  ' (
oldType!! 
:!! 
$str!! "
,!!" #
oldDefaultValue"" 
:""  
$num""! "
)""" #
;""# $
migrationBuilder$$ 
.$$ 
AlterColumn$$ (
<$$( )
double$$) /
>$$/ 0
($$0 1
name%% 
:%% 
$str%% 
,%% 
schema&& 
:&& 
$str&& "
,&&" #
table'' 
:'' 
$str'' 
,''  
type(( 
:(( 
$str(( (
,((( )
nullable)) 
:)) 
false)) 
,))  
defaultValue** 
:** 
$num** #
,**# $

oldClrType++ 
:++ 
typeof++ "
(++" #
int++# &
)++& '
,++' (
oldType,, 
:,, 
$str,, "
,,," #
oldDefaultValue-- 
:--  
$num--! $
)--$ %
;--% &
migrationBuilder// 
.// 
AlterColumn// (
<//( )
double//) /
>/// 0
(//0 1
name00 
:00 
$str00 
,00 
schema11 
:11 
$str11 "
,11" #
table22 
:22 
$str22 
,22  
type33 
:33 
$str33 (
,33( )
nullable44 
:44 
false44 
,44  
defaultValue55 
:55 
$num55 #
,55# $

oldClrType66 
:66 
typeof66 "
(66" #
int66# &
)66& '
,66' (
oldType77 
:77 
$str77 "
,77" #
oldDefaultValue88 
:88  
$num88! $
)88$ %
;88% &
migrationBuilder:: 
.:: 
	AddColumn:: &
<::& '
bool::' +
>::+ ,
(::, -
name;; 
:;; 
$str;; 
,;;  
schema<< 
:<< 
$str<< "
,<<" #
table== 
:== 
$str== %
,==% &
type>> 
:>> 
$str>> 
,>>  
nullable?? 
:?? 
false?? 
,??  
defaultValue@@ 
:@@ 
false@@ #
)@@# $
;@@$ %
}AA 	
	protectedDD 
overrideDD 
voidDD 
DownDD  $
(DD$ %
MigrationBuilderDD% 5
migrationBuilderDD6 F
)DDF G
{EE 	
migrationBuilderFF 
.FF 

DropColumnFF '
(FF' (
nameGG 
:GG 
$strGG 
,GG  
schemaHH 
:HH 
$strHH "
,HH" #
tableII 
:II 
$strII %
)II% &
;II& '
migrationBuilderKK 
.KK 
AlterColumnKK (
<KK( )
intKK) ,
>KK, -
(KK- .
nameLL 
:LL 
$strLL 
,LL 
schemaMM 
:MM 
$strMM "
,MM" #
tableNN 
:NN 
$strNN 
,NN  
typeOO 
:OO 
$strOO 
,OO  
nullablePP 
:PP 
falsePP 
,PP  
defaultValueQQ 
:QQ 
$numQQ 
,QQ  

oldClrTypeRR 
:RR 
typeofRR "
(RR" #
doubleRR# )
)RR) *
,RR* +
oldTypeSS 
:SS 
$strSS +
,SS+ ,
oldDefaultValueTT 
:TT  
$numTT! $
)TT$ %
;TT% &
migrationBuilderVV 
.VV 
AlterColumnVV (
<VV( )
intVV) ,
>VV, -
(VV- .
nameWW 
:WW 
$strWW 
,WW 
schemaXX 
:XX 
$strXX "
,XX" #
tableYY 
:YY 
$strYY 
,YY  
typeZZ 
:ZZ 
$strZZ 
,ZZ  
nullable[[ 
:[[ 
false[[ 
,[[  
defaultValue\\ 
:\\ 
$num\\ 
,\\  

oldClrType]] 
:]] 
typeof]] "
(]]" #
double]]# )
)]]) *
,]]* +
oldType^^ 
:^^ 
$str^^ +
,^^+ ,
oldDefaultValue__ 
:__  
$num__! $
)__$ %
;__% &
migrationBuilderaa 
.aa 
AlterColumnaa (
<aa( )
intaa) ,
>aa, -
(aa- .
namebb 
:bb 
$strbb 
,bb 
schemacc 
:cc 
$strcc "
,cc" #
tabledd 
:dd 
$strdd 
,dd  
typeee 
:ee 
$stree 
,ee  
nullableff 
:ff 
falseff 
,ff  
defaultValuegg 
:gg 
$numgg !
,gg! "

oldClrTypehh 
:hh 
typeofhh "
(hh" #
doublehh# )
)hh) *
,hh* +
oldTypeii 
:ii 
$strii +
,ii+ ,
oldDefaultValuejj 
:jj  
$numjj! &
)jj& '
;jj' (
migrationBuilderll 
.ll 
AlterColumnll (
<ll( )
intll) ,
>ll, -
(ll- .
namemm 
:mm 
$strmm 
,mm 
schemann 
:nn 
$strnn "
,nn" #
tableoo 
:oo 
$stroo 
,oo  
typepp 
:pp 
$strpp 
,pp  
nullableqq 
:qq 
falseqq 
,qq  
defaultValuerr 
:rr 
$numrr !
,rr! "

oldClrTypess 
:ss 
typeofss "
(ss" #
doubless# )
)ss) *
,ss* +
oldTypett 
:tt 
$strtt +
,tt+ ,
oldDefaultValueuu 
:uu  
$numuu! &
)uu& '
;uu' (
}vv 	
}ww 
}xx ¯J
ñC:\Users\giris\Documents\Code\Redesign-POS\Windows Based POS\Magidesk\Magidesk.Migrations\Migrations\20260104171112_AddPrinterDetailedConfiguration.cs
	namespace 	
Magidesk
 
. 

Migrations 
. 

Migrations (
{ 
public		 

partial		 
class		 +
AddPrinterDetailedConfiguration		 8
:		9 :
	Migration		; D
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str 
, 
table 
: 
$str (
,( )
type 
: 
$str 
,  
nullable 
: 
false 
,  
defaultValue 
: 
$num !
)! "
;" #
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str $
,$ %
table 
: 
$str (
,( )
type 
: 
$str 
,  
nullable 
: 
false 
,  
defaultValue 
: 
$num  
)  !
;! "
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str +
,+ ,
table 
: 
$str (
,( )
type 
: 
$str 
,  
nullable   
:   
false   
,    
defaultValue!! 
:!! 
$num!!  
)!!  !
;!!! "
migrationBuilder## 
.## 
	AddColumn## &
<##& '
bool##' +
>##+ ,
(##, -
name$$ 
:$$ 
$str$$ *
,$$* +
table%% 
:%% 
$str%% (
,%%( )
type&& 
:&& 
$str&& 
,&&  
nullable'' 
:'' 
false'' 
,''  
defaultValue(( 
:(( 
true(( "
)((" #
;((# $
migrationBuilder** 
.** 
	AddColumn** &
<**& '
bool**' +
>**+ ,
(**, -
name++ 
:++ 
$str++ &
,++& '
table,, 
:,, 
$str,, (
,,,( )
type-- 
:-- 
$str-- 
,--  
nullable.. 
:.. 
false.. 
,..  
defaultValue// 
:// 
true// "
)//" #
;//# $
migrationBuilder11 
.11 
	AddColumn11 &
<11& '
bool11' +
>11+ ,
(11, -
name22 
:22 
$str22 "
,22" #
table33 
:33 
$str33 (
,33( )
type44 
:44 
$str44 
,44  
nullable55 
:55 
false55 
,55  
defaultValue66 
:66 
true66 "
)66" #
;66# $
migrationBuilder88 
.88 
	AddColumn88 &
<88& '
bool88' +
>88+ ,
(88, -
name99 
:99 
$str99 $
,99$ %
table:: 
::: 
$str:: &
,::& '
type;; 
:;; 
$str;; 
,;;  
nullable<< 
:<< 
false<< 
,<<  
defaultValue== 
:== 
true== "
)==" #
;==# $
migrationBuilder?? 
.?? 
	AddColumn?? &
<??& '
int??' *
>??* +
(??+ ,
name@@ 
:@@ 
$str@@ #
,@@# $
tableAA 
:AA 
$strAA &
,AA& '
typeBB 
:BB 
$strBB 
,BB  
nullableCC 
:CC 
falseCC 
,CC  
defaultValueDD 
:DD 
$numDD 
)DD  
;DD  !
migrationBuilderFF 
.FF 
	AddColumnFF &
<FF& '
GuidFF' +
>FF+ ,
(FF, -
nameGG 
:GG 
$strGG .
,GG. /
tableHH 
:HH 
$strHH &
,HH& '
typeII 
:II 
$strII 
,II 
nullableJJ 
:JJ 
trueJJ 
)JJ 
;JJ  
migrationBuilderLL 
.LL 
	AddColumnLL &
<LL& '
intLL' *
>LL* +
(LL+ ,
nameMM 
:MM 
$strMM "
,MM" #
tableNN 
:NN 
$strNN &
,NN& '
typeOO 
:OO 
$strOO 
,OO  
nullablePP 
:PP 
falsePP 
,PP  
defaultValueQQ 
:QQ 
$numQQ 
)QQ  
;QQ  !
migrationBuilderSS 
.SS 
	AddColumnSS &
<SS& '
intSS' *
>SS* +
(SS+ ,
nameTT 
:TT 
$strTT $
,TT$ %
tableUU 
:UU 
$strUU &
,UU& '
typeVV 
:VV 
$strVV 
,VV  
nullableWW 
:WW 
falseWW 
,WW  
defaultValueXX 
:XX 
$numXX 
)XX  
;XX  !
migrationBuilderZZ 
.ZZ 
	AddColumnZZ &
<ZZ& '
boolZZ' +
>ZZ+ ,
(ZZ, -
name[[ 
:[[ 
$str[[ "
,[[" #
table\\ 
:\\ 
$str\\ &
,\\& '
type]] 
:]] 
$str]] 
,]]  
nullable^^ 
:^^ 
false^^ 
,^^  
defaultValue__ 
:__ 
true__ "
)__" #
;__# $
}`` 	
	protectedcc 
overridecc 
voidcc 
Downcc  $
(cc$ %
MigrationBuildercc% 5
migrationBuildercc6 F
)ccF G
{dd 	
migrationBuilderee 
.ee 

DropColumnee '
(ee' (
nameff 
:ff 
$strff 
,ff 
tablegg 
:gg 
$strgg (
)gg( )
;gg) *
migrationBuilderii 
.ii 

DropColumnii '
(ii' (
namejj 
:jj 
$strjj $
,jj$ %
tablekk 
:kk 
$strkk (
)kk( )
;kk) *
migrationBuildermm 
.mm 

DropColumnmm '
(mm' (
namenn 
:nn 
$strnn +
,nn+ ,
tableoo 
:oo 
$stroo (
)oo( )
;oo) *
migrationBuilderqq 
.qq 

DropColumnqq '
(qq' (
namerr 
:rr 
$strrr *
,rr* +
tabless 
:ss 
$strss (
)ss( )
;ss) *
migrationBuilderuu 
.uu 

DropColumnuu '
(uu' (
namevv 
:vv 
$strvv &
,vv& '
tableww 
:ww 
$strww (
)ww( )
;ww) *
migrationBuilderyy 
.yy 

DropColumnyy '
(yy' (
namezz 
:zz 
$strzz "
,zz" #
table{{ 
:{{ 
$str{{ (
){{( )
;{{) *
migrationBuilder}} 
.}} 

DropColumn}} '
(}}' (
name~~ 
:~~ 
$str~~ $
,~~$ %
table 
: 
$str &
)& '
;' (
migrationBuilder
ÅÅ 
.
ÅÅ 

DropColumn
ÅÅ '
(
ÅÅ' (
name
ÇÇ 
:
ÇÇ 
$str
ÇÇ #
,
ÇÇ# $
table
ÉÉ 
:
ÉÉ 
$str
ÉÉ &
)
ÉÉ& '
;
ÉÉ' (
migrationBuilder
ÖÖ 
.
ÖÖ 

DropColumn
ÖÖ '
(
ÖÖ' (
name
ÜÜ 
:
ÜÜ 
$str
ÜÜ .
,
ÜÜ. /
table
áá 
:
áá 
$str
áá &
)
áá& '
;
áá' (
migrationBuilder
ââ 
.
ââ 

DropColumn
ââ '
(
ââ' (
name
ää 
:
ää 
$str
ää "
,
ää" #
table
ãã 
:
ãã 
$str
ãã &
)
ãã& '
;
ãã' (
migrationBuilder
çç 
.
çç 

DropColumn
çç '
(
çç' (
name
éé 
:
éé 
$str
éé $
,
éé$ %
table
èè 
:
èè 
$str
èè &
)
èè& '
;
èè' (
migrationBuilder
ëë 
.
ëë 

DropColumn
ëë '
(
ëë' (
name
íí 
:
íí 
$str
íí "
,
íí" #
table
ìì 
:
ìì 
$str
ìì &
)
ìì& '
;
ìì' (
}
îî 	
}
ïï 
}ññ ¬?
èC:\Users\giris\Documents\Code\Redesign-POS\Windows Based POS\Magidesk\Magidesk.Migrations\Migrations\20260104154305_AddPrinterSupportColumns.cs
	namespace 	
Magidesk
 
. 

Migrations 
. 

Migrations (
{		 
public 

partial 
class $
AddPrinterSupportColumns 1
:2 3
	Migration4 =
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str %
,% &
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 8
,8 9
nullable: B
:B C
falseD I
)I J
,J K
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 N
,N O
	maxLengthP Y
:Y Z
$num[ ^
,^ _
nullable` h
:h i
falsej o
)o p
,p q
Type 
= 
table  
.  !
Column! '
<' (
int( +
>+ ,
(, -
type- 1
:1 2
$str3 <
,< =
nullable> F
:F G
falseH M
)M N
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 7
,7 8
x9 :
=>; =
x> ?
.? @
Id@ B
)B C
;C D
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name   
:   
$str   '
,  ' (
columns!! 
:!! 
table!! 
=>!! !
new!!" %
{"" 
Id## 
=## 
table## 
.## 
Column## %
<##% &
Guid##& *
>##* +
(##+ ,
type##, 0
:##0 1
$str##2 8
,##8 9
nullable##: B
:##B C
false##D I
)##I J
,##J K

TerminalId$$ 
=$$  
table$$! &
.$$& '
Column$$' -
<$$- .
Guid$$. 2
>$$2 3
($$3 4
type$$4 8
:$$8 9
$str$$: @
,$$@ A
nullable$$B J
:$$J K
false$$L Q
)$$Q R
,$$R S
PrinterGroupId%% "
=%%# $
table%%% *
.%%* +
Column%%+ 1
<%%1 2
Guid%%2 6
>%%6 7
(%%7 8
type%%8 <
:%%< =
$str%%> D
,%%D E
nullable%%F N
:%%N O
false%%P U
)%%U V
,%%V W
PhysicalPrinterName&& '
=&&( )
table&&* /
.&&/ 0
Column&&0 6
<&&6 7
string&&7 =
>&&= >
(&&> ?
type&&? C
:&&C D
$str&&E ]
,&&] ^
	maxLength&&_ h
:&&h i
$num&&j m
,&&m n
nullable&&o w
:&&w x
false&&y ~
)&&~ 
,	&& Ä
Format'' 
='' 
table'' "
.''" #
Column''# )
<'') *
int''* -
>''- .
(''. /
type''/ 3
:''3 4
$str''5 >
,''> ?
nullable''@ H
:''H I
false''J O
)''O P
,''P Q

CutEnabled(( 
=((  
table((! &
.((& '
Column((' -
<((- .
bool((. 2
>((2 3
(((3 4
type((4 8
:((8 9
$str((: C
,((C D
nullable((E M
:((M N
false((O T
,((T U
defaultValue((V b
:((b c
true((d h
)((h i
})) 
,)) 
constraints** 
:** 
table** "
=>**# %
{++ 
table,, 
.,, 

PrimaryKey,, $
(,,$ %
$str,,% 9
,,,9 :
x,,; <
=>,,= ?
x,,@ A
.,,A B
Id,,B D
),,D E
;,,E F
table-- 
.-- 

ForeignKey-- $
(--$ %
name.. 
:.. 
$str.. O
,..O P
column// 
:// 
x//  !
=>//" $
x//% &
.//& '
PrinterGroupId//' 5
,//5 6
principalTable00 &
:00& '
$str00( 7
,007 8
principalColumn11 '
:11' (
$str11) -
,11- .
onDelete22  
:22  !
ReferentialAction22" 3
.223 4
Cascade224 ;
)22; <
;22< =
}33 
)33 
;33 
migrationBuilder66 
.66 
CreateIndex66 (
(66( )
name77 
:77 
$str77 9
,779 :
table88 
:88 
$str88 (
,88( )
column99 
:99 
$str99 (
)99( )
;99) *
migrationBuilder<< 
.<< 
	AddColumn<< &
<<<& '
Guid<<' +
><<+ ,
(<<, -
name== 
:== 
$str== &
,==& '
table>> 
:>> 
$str>> "
,>>" #
type?? 
:?? 
$str?? 
,?? 
nullable@@ 
:@@ 
true@@ 
)@@ 
;@@  
migrationBuilderBB 
.BB 
CreateIndexBB (
(BB( )
nameCC 
:CC 
$strCC 3
,CC3 4
tableDD 
:DD 
$strDD "
,DD" #
columnEE 
:EE 
$strEE (
)EE( )
;EE) *
migrationBuilderGG 
.GG 
AddForeignKeyGG *
(GG* +
nameHH 
:HH 
$strHH A
,HHA B
tableII 
:II 
$strII "
,II" #
columnJJ 
:JJ 
$strJJ (
,JJ( )
principalTableKK 
:KK 
$strKK  /
,KK/ 0
principalColumnLL 
:LL  
$strLL! %
)LL% &
;LL& '
}MM 	
	protectedPP 
overridePP 
voidPP 
DownPP  $
(PP$ %
MigrationBuilderPP% 5
migrationBuilderPP6 F
)PPF G
{QQ 	
migrationBuilderRR 
.RR 
DropForeignKeyRR +
(RR+ ,
nameSS 
:SS 
$strSS A
,SSA B
tableTT 
:TT 
$strTT "
)TT" #
;TT# $
migrationBuilderVV 
.VV 
	DropIndexVV &
(VV& '
nameWW 
:WW 
$strWW 3
,WW3 4
tableXX 
:XX 
$strXX "
)XX" #
;XX# $
migrationBuilderZZ 
.ZZ 

DropColumnZZ '
(ZZ' (
name[[ 
:[[ 
$str[[ &
,[[& '
table\\ 
:\\ 
$str\\ "
)\\" #
;\\# $
migrationBuilder^^ 
.^^ 
	DropTable^^ &
(^^& '
name__ 
:__ 
$str__ '
)__' (
;__( )
migrationBuilderaa 
.aa 
	DropTableaa &
(aa& '
namebb 
:bb 
$strbb %
)bb% &
;bb& '
}cc 	
}dd 
}ee î
uC:\Users\giris\Documents\Code\Redesign-POS\Windows Based POS\Magidesk\Magidesk.Migrations\MigrationsContextFactory.cs
	namespace 	
Magidesk
 
. 

Migrations 
; 
public

 
class

 $
MigrationsContextFactory

 %
:

& ''
IDesignTimeDbContextFactory

( C
<

C D 
ApplicationDbContext

D X
>

X Y
{ 
public 
 
ApplicationDbContext 
CreateDbContext  /
(/ 0
string0 6
[6 7
]7 8
args9 =
)= >
{ 
var 
optionsBuilder 
= 
new  #
DbContextOptionsBuilder! 8
<8 9 
ApplicationDbContext9 M
>M N
(N O
)O P
;P Q
optionsBuilder 
. 
	UseNpgsql  
(  !
DatabaseConnection! 3
.3 4
GetConnectionString4 G
(G H
)H I
,I J
x 
=> 
x 
. 
MigrationsAssembly %
(% &
$str& ;
); <
)< =
;= >
return 
new  
ApplicationDbContext '
(' (
optionsBuilder( 6
.6 7
Options7 >
)> ?
;? @
} 
} 